(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function iI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fy={exports:{}},Iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function sI(){if(Ib)return Iu;Ib=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:o}}return Iu.Fragment=e,Iu.jsx=t,Iu.jsxs=t,Iu}var Ob;function rI(){return Ob||(Ob=1,fy.exports=sI()),fy.exports}var N=rI(),dy={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function oI(){if(kb)return De;kb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function x(z,ae,fe){this.props=z,this.context=ae,this.refs=A,this.updater=fe||b}x.prototype.isReactComponent={},x.prototype.setState=function(z,ae){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ae,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=x.prototype;function U(z,ae,fe){this.props=z,this.context=ae,this.refs=A,this.updater=fe||b}var L=U.prototype=new O;L.constructor=U,S(L,x.prototype),L.isPureReactComponent=!0;var H=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function D(z,ae,fe,ue,be,Me){return fe=Me.ref,{$$typeof:n,type:z,key:ae,ref:fe!==void 0?fe:null,props:Me}}function P(z,ae){return D(z.type,ae,void 0,void 0,void 0,z.props)}function I(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function V(z){var ae={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(fe){return ae[fe]})}var G=/\/+/g;function j(z,ae){return typeof z=="object"&&z!==null&&z.key!=null?V(""+z.key):ae.toString(36)}function k(){}function Ge(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(k,k):(z.status="pending",z.then(function(ae){z.status==="pending"&&(z.status="fulfilled",z.value=ae)},function(ae){z.status==="pending"&&(z.status="rejected",z.reason=ae)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function nt(z,ae,fe,ue,be){var Me=typeof z;(Me==="undefined"||Me==="boolean")&&(z=null);var Re=!1;if(z===null)Re=!0;else switch(Me){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(z.$$typeof){case n:case e:Re=!0;break;case g:return Re=z._init,nt(Re(z._payload),ae,fe,ue,be)}}if(Re)return be=be(z),Re=ue===""?"."+j(z,0):ue,H(be)?(fe="",Re!=null&&(fe=Re.replace(G,"$&/")+"/"),nt(be,ae,fe,"",function(hi){return hi})):be!=null&&(I(be)&&(be=P(be,fe+(be.key==null||z&&z.key===be.key?"":(""+be.key).replace(G,"$&/")+"/")+Re)),ae.push(be)),1;Re=0;var zt=ue===""?".":ue+":";if(H(z))for(var ht=0;ht<z.length;ht++)ue=z[ht],Me=zt+j(ue,ht),Re+=nt(ue,ae,fe,Me,be);else if(ht=v(z),typeof ht=="function")for(z=ht.call(z),ht=0;!(ue=z.next()).done;)ue=ue.value,Me=zt+j(ue,ht++),Re+=nt(ue,ae,fe,Me,be);else if(Me==="object"){if(typeof z.then=="function")return nt(Ge(z),ae,fe,ue,be);throw ae=String(z),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Re}function te(z,ae,fe){if(z==null)return z;var ue=[],be=0;return nt(z,ue,"","",function(Me){return ae.call(fe,Me,be++)}),ue}function he(z){if(z._status===-1){var ae=z._result;ae=ae(),ae.then(function(fe){(z._status===0||z._status===-1)&&(z._status=1,z._result=fe)},function(fe){(z._status===0||z._status===-1)&&(z._status=2,z._result=fe)}),z._status===-1&&(z._status=0,z._result=ae)}if(z._status===1)return z._result.default;throw z._result}var ve=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function je(){}return De.Children={map:te,forEach:function(z,ae,fe){te(z,function(){ae.apply(this,arguments)},fe)},count:function(z){var ae=0;return te(z,function(){ae++}),ae},toArray:function(z){return te(z,function(ae){return ae})||[]},only:function(z){if(!I(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},De.Component=x,De.Fragment=t,De.Profiler=s,De.PureComponent=U,De.StrictMode=i,De.Suspense=h,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,De.__COMPILER_RUNTIME={__proto__:null,c:function(z){return W.H.useMemoCache(z)}},De.cache=function(z){return function(){return z.apply(null,arguments)}},De.cloneElement=function(z,ae,fe){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ue=S({},z.props),be=z.key,Me=void 0;if(ae!=null)for(Re in ae.ref!==void 0&&(Me=void 0),ae.key!==void 0&&(be=""+ae.key),ae)!le.call(ae,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ae.ref===void 0||(ue[Re]=ae[Re]);var Re=arguments.length-2;if(Re===1)ue.children=fe;else if(1<Re){for(var zt=Array(Re),ht=0;ht<Re;ht++)zt[ht]=arguments[ht+2];ue.children=zt}return D(z.type,be,void 0,void 0,Me,ue)},De.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},De.createElement=function(z,ae,fe){var ue,be={},Me=null;if(ae!=null)for(ue in ae.key!==void 0&&(Me=""+ae.key),ae)le.call(ae,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=ae[ue]);var Re=arguments.length-2;if(Re===1)be.children=fe;else if(1<Re){for(var zt=Array(Re),ht=0;ht<Re;ht++)zt[ht]=arguments[ht+2];be.children=zt}if(z&&z.defaultProps)for(ue in Re=z.defaultProps,Re)be[ue]===void 0&&(be[ue]=Re[ue]);return D(z,Me,void 0,void 0,null,be)},De.createRef=function(){return{current:null}},De.forwardRef=function(z){return{$$typeof:u,render:z}},De.isValidElement=I,De.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:he}},De.memo=function(z,ae){return{$$typeof:d,type:z,compare:ae===void 0?null:ae}},De.startTransition=function(z){var ae=W.T,fe={};W.T=fe;try{var ue=z(),be=W.S;be!==null&&be(fe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(je,ve)}catch(Me){ve(Me)}finally{W.T=ae}},De.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},De.use=function(z){return W.H.use(z)},De.useActionState=function(z,ae,fe){return W.H.useActionState(z,ae,fe)},De.useCallback=function(z,ae){return W.H.useCallback(z,ae)},De.useContext=function(z){return W.H.useContext(z)},De.useDebugValue=function(){},De.useDeferredValue=function(z,ae){return W.H.useDeferredValue(z,ae)},De.useEffect=function(z,ae,fe){var ue=W.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(z,ae)},De.useId=function(){return W.H.useId()},De.useImperativeHandle=function(z,ae,fe){return W.H.useImperativeHandle(z,ae,fe)},De.useInsertionEffect=function(z,ae){return W.H.useInsertionEffect(z,ae)},De.useLayoutEffect=function(z,ae){return W.H.useLayoutEffect(z,ae)},De.useMemo=function(z,ae){return W.H.useMemo(z,ae)},De.useOptimistic=function(z,ae){return W.H.useOptimistic(z,ae)},De.useReducer=function(z,ae,fe){return W.H.useReducer(z,ae,fe)},De.useRef=function(z){return W.H.useRef(z)},De.useState=function(z){return W.H.useState(z)},De.useSyncExternalStore=function(z,ae,fe){return W.H.useSyncExternalStore(z,ae,fe)},De.useTransition=function(){return W.H.useTransition()},De.version="19.1.0",De}var Db;function rv(){return Db||(Db=1,dy.exports=oI()),dy.exports}var q=rv(),py={exports:{}},Ou={},my={exports:{}},gy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function aI(){return Mb||(Mb=1,function(n){function e(te,he){var ve=te.length;te.push(he);e:for(;0<ve;){var je=ve-1>>>1,z=te[je];if(0<s(z,he))te[je]=he,te[ve]=z,ve=je;else break e}}function t(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var he=te[0],ve=te.pop();if(ve!==he){te[0]=ve;e:for(var je=0,z=te.length,ae=z>>>1;je<ae;){var fe=2*(je+1)-1,ue=te[fe],be=fe+1,Me=te[be];if(0>s(ue,ve))be<z&&0>s(Me,ue)?(te[je]=Me,te[be]=ve,je=be):(te[je]=ue,te[fe]=ve,je=fe);else if(be<z&&0>s(Me,ve))te[je]=Me,te[be]=ve,je=be;else break e}}return he}function s(te,he){var ve=te.sortIndex-he.sortIndex;return ve!==0?ve:te.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],d=[],g=1,_=null,v=3,b=!1,S=!1,A=!1,x=!1,O=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function H(te){for(var he=t(d);he!==null;){if(he.callback===null)i(d);else if(he.startTime<=te)i(d),he.sortIndex=he.expirationTime,e(h,he);else break;he=t(d)}}function W(te){if(A=!1,H(te),!S)if(t(h)!==null)S=!0,le||(le=!0,j());else{var he=t(d);he!==null&&nt(W,he.startTime-te)}}var le=!1,D=-1,P=5,I=-1;function V(){return x?!0:!(n.unstable_now()-I<P)}function G(){if(x=!1,le){var te=n.unstable_now();I=te;var he=!0;try{e:{S=!1,A&&(A=!1,U(D),D=-1),b=!0;var ve=v;try{t:{for(H(te),_=t(h);_!==null&&!(_.expirationTime>te&&V());){var je=_.callback;if(typeof je=="function"){_.callback=null,v=_.priorityLevel;var z=je(_.expirationTime<=te);if(te=n.unstable_now(),typeof z=="function"){_.callback=z,H(te),he=!0;break t}_===t(h)&&i(h),H(te)}else i(h);_=t(h)}if(_!==null)he=!0;else{var ae=t(d);ae!==null&&nt(W,ae.startTime-te),he=!1}}break e}finally{_=null,v=ve,b=!1}he=void 0}}finally{he?j():le=!1}}}var j;if(typeof L=="function")j=function(){L(G)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Ge=k.port2;k.port1.onmessage=G,j=function(){Ge.postMessage(null)}}else j=function(){O(G,0)};function nt(te,he){D=O(function(){te(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(te){switch(v){case 1:case 2:case 3:var he=3;break;default:he=v}var ve=v;v=he;try{return te()}finally{v=ve}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(te,he){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ve=v;v=te;try{return he()}finally{v=ve}},n.unstable_scheduleCallback=function(te,he,ve){var je=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?je+ve:je):ve=je,te){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ve+z,te={id:g++,callback:he,priorityLevel:te,startTime:ve,expirationTime:z,sortIndex:-1},ve>je?(te.sortIndex=ve,e(d,te),t(h)===null&&te===t(d)&&(A?(U(D),D=-1):A=!0,nt(W,ve-je))):(te.sortIndex=z,e(h,te),S||b||(S=!0,le||(le=!0,j()))),te},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(te){var he=v;return function(){var ve=v;v=he;try{return te.apply(this,arguments)}finally{v=ve}}}}(gy)),gy}var Vb;function lI(){return Vb||(Vb=1,my.exports=aI()),my.exports}var yy={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function cI(){if(Nb)return An;Nb=1;var n=rv();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,d,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:h,containerInfo:d,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,An.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(h,d,null,g)},An.flushSync=function(h){var d=l.T,g=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=d,i.p=g,i.d.f()}},An.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},An.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},An.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,_=u(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:b}):g==="script"&&i.d.X(h,{crossOrigin:_,integrity:v,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},An.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=u(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},An.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,_=u(g,d.crossOrigin);i.d.L(h,g,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},An.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=u(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},An.requestFormReset=function(h){i.d.r(h)},An.unstable_batchedUpdates=function(h,d){return h(d)},An.useFormState=function(h,d,g){return l.H.useFormState(h,d,g)},An.useFormStatus=function(){return l.H.useHostTransitionStatus()},An.version="19.1.0",An}var Lb;function uI(){if(Lb)return yy.exports;Lb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yy.exports=cI(),yy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zb;function hI(){if(zb)return Ou;zb=1;var n=lI(),e=rv(),t=uI();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(i(188))}function h(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var c=r,f=a;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(f=m.return,f!==null){c=f;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return u(m),r;if(y===f)return u(m),a;y=y.sibling}throw Error(i(188))}if(c.return!==f.return)c=m,f=y;else{for(var T=!1,R=m.child;R;){if(R===c){T=!0,c=m,f=y;break}if(R===f){T=!0,f=m,c=y;break}R=R.sibling}if(!T){for(R=y.child;R;){if(R===c){T=!0,c=y,f=m;break}if(R===f){T=!0,f=y,c=m;break}R=R.sibling}if(!T)throw Error(i(189))}}if(c.alternate!==f)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:a}function d(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=d(r),a!==null)return a;r=r.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),L=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=G&&r[G]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function Ge(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case x:return"Profiler";case A:return"StrictMode";case W:return"Suspense";case le:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case L:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case H:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return a=r.displayName||null,a!==null?a:Ge(r.type)||"Memo";case P:a=r._payload,r=r._init;try{return Ge(r(a))}catch{}}return null}var nt=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},je=[],z=-1;function ae(r){return{current:r}}function fe(r){0>z||(r.current=je[z],je[z]=null,z--)}function ue(r,a){z++,je[z]=r.current,r.current=a}var be=ae(null),Me=ae(null),Re=ae(null),zt=ae(null);function ht(r,a){switch(ue(Re,a),ue(Me,r),ue(be,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?sb(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=sb(a),r=rb(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}fe(be),ue(be,r)}function hi(){fe(be),fe(Me),fe(Re)}function Wn(r){r.memoizedState!==null&&ue(zt,r);var a=be.current,c=rb(a,r.type);a!==c&&(ue(Me,r),ue(be,c))}function Di(r){Me.current===r&&(fe(be),fe(Me)),zt.current===r&&(fe(zt),xu._currentValue=ve)}var vo=Object.prototype.hasOwnProperty,wo=n.unstable_scheduleCallback,bo=n.unstable_cancelCallback,Sc=n.unstable_shouldYield,Mh=n.unstable_requestPaint,fi=n.unstable_now,fm=n.unstable_getCurrentPriorityLevel,Ec=n.unstable_ImmediatePriority,Va=n.unstable_UserBlockingPriority,So=n.unstable_NormalPriority,dm=n.unstable_LowPriority,Na=n.unstable_IdlePriority,Tc=n.log,Vh=n.unstable_setDisableYieldValue,xt=null,ot=null;function Zn(r){if(typeof Tc=="function"&&Vh(r),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(xt,r)}catch{}}var Tn=Math.clz32?Math.clz32:Eo,Nh=Math.log,pm=Math.LN2;function Eo(r){return r>>>=0,r===0?32:31-(Nh(r)/pm|0)|0}var To=256,xo=4194304;function Mi(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function La(r,a,c){var f=r.pendingLanes;if(f===0)return 0;var m=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var R=f&134217727;return R!==0?(f=R&~y,f!==0?m=Mi(f):(T&=R,T!==0?m=Mi(T):c||(c=R&~r,c!==0&&(m=Mi(c))))):(R=f&~y,R!==0?m=Mi(R):T!==0?m=Mi(T):c||(c=f&~r,c!==0&&(m=Mi(c)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:m}function Ao(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function xc(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ac(){var r=To;return To<<=1,(To&4194048)===0&&(To=256),r}function Rc(){var r=xo;return xo<<=1,(xo&62914560)===0&&(xo=4194304),r}function Is(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function Os(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Cc(r,a,c,f,m,y){var T=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var R=r.entanglements,M=r.expirationTimes,K=r.hiddenUpdates;for(c=T&~c;0<c;){var ie=31-Tn(c),re=1<<ie;R[ie]=0,M[ie]=-1;var Y=K[ie];if(Y!==null)for(K[ie]=null,ie=0;ie<Y.length;ie++){var Z=Y[ie];Z!==null&&(Z.lane&=-536870913)}c&=~re}f!==0&&Wi(r,f,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~a))}function Wi(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var f=31-Tn(a);r.entangledLanes|=a,r.entanglements[f]=r.entanglements[f]|1073741824|c&4194090}function Pc(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var f=31-Tn(c),m=1<<f;m&a|r[f]&a&&(r[f]|=a),c&=~m}}function yr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function za(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function _r(){var r=he.p;return r!==0?r:(r=window.event,r===void 0?32:Tb(r.type))}function Lh(r,a){var c=he.p;try{return he.p=r,a()}finally{he.p=c}}var wt=Math.random().toString(36).slice(2),Qt="__reactFiber$"+wt,Ut="__reactProps$"+wt,di="__reactContainer$"+wt,Ic="__reactEvents$"+wt,mm="__reactListeners$"+wt,vr="__reactHandles$"+wt,zh="__reactResources$"+wt,Ro="__reactMarker$"+wt;function wr(r){delete r[Qt],delete r[Ut],delete r[Ic],delete r[mm],delete r[vr]}function ks(r){var a=r[Qt];if(a)return a;for(var c=r.parentNode;c;){if(a=c[di]||c[Qt]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=cb(r);r!==null;){if(c=r[Qt])return c;r=cb(r)}return a}r=c,c=r.parentNode}return null}function Zi(r){if(r=r[Qt]||r[di]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Ji(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Dn(r){var a=r[zh];return a||(a=r[zh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ot(r){r[Ro]=!0}var Oc=new Set,Ua={};function Vi(r,a){Ds(r,a),Ds(r+"Capture",a)}function Ds(r,a){for(Ua[r]=a,r=0;r<a.length;r++)Oc.add(a[r])}var Uh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gh={},Co={};function Bh(r){return vo.call(Co,r)?!0:vo.call(Gh,r)?!1:Uh.test(r)?Co[r]=!0:(Gh[r]=!0,!1)}function br(r,a,c){if(Bh(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function es(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function hn(r,a,c,f){if(f===null)r.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+f)}}var Po,jh;function Ms(r){if(Po===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Po=a&&a[1]||"",jh=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Po+r+jh}var Ga=!1;function Ba(r,a){if(!r||Ga)return"";Ga=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Z){var Y=Z}Reflect.construct(r,[],re)}else{try{re.call()}catch(Z){Y=Z}r.call(re.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(re=r())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),T=y[0],R=y[1];if(T&&R){var M=T.split(`
`),K=R.split(`
`);for(m=f=0;f<M.length&&!M[f].includes("DetermineComponentFrameRoot");)f++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(f===M.length||m===K.length)for(f=M.length-1,m=K.length-1;1<=f&&0<=m&&M[f]!==K[m];)m--;for(;1<=f&&0<=m;f--,m--)if(M[f]!==K[m]){if(f!==1||m!==1)do if(f--,m--,0>m||M[f]!==K[m]){var ie=`
`+M[f].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=f&&0<=m);break}}}finally{Ga=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Ms(c):""}function kc(r){switch(r.tag){case 26:case 27:case 5:return Ms(r.type);case 16:return Ms("Lazy");case 13:return Ms("Suspense");case 19:return Ms("SuspenseList");case 0:case 15:return Ba(r.type,!1);case 11:return Ba(r.type.render,!1);case 1:return Ba(r.type,!0);case 31:return Ms("Activity");default:return""}}function ja(r){try{var a="";do a+=kc(r),r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Mn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Dc(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function gm(r){var a=Dc(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),f=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return m.call(this)},set:function(T){f=""+T,y.call(this,T)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ha(r){r._valueTracker||(r._valueTracker=gm(r))}function Mc(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return r&&(f=Dc(r)?r.checked?"true":"false":r.value),r=f,r!==c?(a.setValue(r),!0):!1}function Io(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ym=/[\n"\\]/g;function Gt(r){return r.replace(ym,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Jn(r,a,c,f,m,y,T,R){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),a!=null?T==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Mn(a)):r.value!==""+Mn(a)&&(r.value=""+Mn(a)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),a!=null?Sr(r,T,Mn(a)):c!=null?Sr(r,T,Mn(c)):f!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+Mn(R):r.removeAttribute("name")}function Oo(r,a,c,f,m,y,T,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;c=c!=null?""+Mn(c):"",a=a!=null?""+Mn(a):c,R||a===r.value||(r.value=a),r.defaultValue=a}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=R?r.checked:!!f,r.defaultChecked=!!f,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function Sr(r,a,c){a==="number"&&Io(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Vs(r,a,c,f){if(r=r.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<r.length;c++)m=a.hasOwnProperty("$"+r[c].value),r[c].selected!==m&&(r[c].selected=m),m&&f&&(r[c].defaultSelected=!0)}else{for(c=""+Mn(c),a=null,m=0;m<r.length;m++){if(r[m].value===c){r[m].selected=!0,f&&(r[m].defaultSelected=!0);return}a!==null||r[m].disabled||(a=r[m])}a!==null&&(a.selected=!0)}}function ft(r,a,c){if(a!=null&&(a=""+Mn(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+Mn(c):""}function ko(r,a,c,f){if(a==null){if(f!=null){if(c!=null)throw Error(i(92));if(nt(f)){if(1<f.length)throw Error(i(93));f=f[0]}c=f}c==null&&(c=""),a=c}c=Mn(a),r.defaultValue=c,f=r.textContent,f===c&&f!==""&&f!==null&&(r.value=f)}function pi(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var Do=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hh(r,a,c){var f=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":f?r.setProperty(a,c):typeof c!="number"||c===0||Do.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function Vc(r,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var m in a)f=a[m],a.hasOwnProperty(m)&&c[m]!==f&&Hh(r,m,f)}else for(var y in a)a.hasOwnProperty(y)&&Hh(r,y,a[y])}function Nc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _m=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(r){return vm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ns=null;function mi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ls=null,zs=null;function Lc(r){var a=Zi(r);if(a&&(r=a.stateNode)){var c=r[Ut]||null;e:switch(r=a.stateNode,a.type){case"input":if(Jn(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Gt(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==r&&f.form===r.form){var m=f[Ut]||null;if(!m)throw Error(i(90));Jn(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<c.length;a++)f=c[a],f.form===r.form&&Mc(f)}break e;case"textarea":ft(r,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&Vs(r,!!c.multiple,a,!1)}}}var ts=!1;function Fh(r,a,c){if(ts)return r(a,c);ts=!0;try{var f=r(a);return f}finally{if(ts=!1,(Ls!==null||zs!==null)&&(zf(),Ls&&(a=Ls,r=zs,zs=Ls=null,Lc(a),r)))for(a=0;a<r.length;a++)Lc(r[a])}}function Mo(r,a){var c=r.stateNode;if(c===null)return null;var f=c[Ut]||null;if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gi=!1;if(Ni)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){gi=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{gi=!1}var ns=null,Er=null,Us=null;function zc(){if(Us)return Us;var r,a=Er,c=a.length,f,m="value"in ns?ns.value:ns.textContent,y=m.length;for(r=0;r<c&&a[r]===m[r];r++);var T=c-r;for(f=1;f<=T&&a[c-f]===m[y-f];f++);return Us=m.slice(r,1<f?1-f:void 0)}function is(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function ss(){return!0}function Uc(){return!1}function nn(r){function a(c,f,m,y,T){this._reactName=c,this._targetInst=m,this.type=f,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(c=r[R],this[R]=c?c(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ss:Uc,this.isPropagationStopped=Uc,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),a}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=nn(it),No=g({},it,{view:0,detail:0}),qh=nn(No),$a,Qa,rs,Lo=g({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Go,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==rs&&(rs&&r.type==="mousemove"?($a=r.screenX-rs.screenX,Qa=r.screenY-rs.screenY):Qa=$a=0,rs=r),$a)},movementY:function(r){return"movementY"in r?r.movementY:Qa}}),yi=nn(Lo),$h=g({},Lo,{dataTransfer:0}),wm=nn($h),zo=g({},No,{relatedTarget:0}),Ka=nn(zo),Gc=g({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),Ya=nn(Gc),Qh=g({},it,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Xa=nn(Qh),bm=g({},it,{data:0}),Bc=nn(bm),Uo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jc(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Yh[r])?!!a[r]:!1}function Go(){return jc}var Xh=g({},No,{key:function(r){if(r.key){var a=Uo[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=is(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Kh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Go,charCode:function(r){return r.type==="keypress"?is(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?is(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Wa=nn(Xh),Wh=g({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hc=nn(Wh),Gs=g({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Go}),Zh=nn(Gs),Jh=g({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),ef=nn(Jh),tf=g({},Lo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=nn(tf),Vn=g({},it,{newState:0,oldState:0}),nf=nn(Vn),sf=[9,13,27,32],os=Ni&&"CompositionEvent"in window,p=null;Ni&&"documentMode"in document&&(p=document.documentMode);var w=Ni&&"TextEvent"in window&&!p,E=Ni&&(!os||p&&8<p&&11>=p),C=" ",$=!1;function J(r,a){switch(r){case"keyup":return sf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ke=!1;function Kt(r,a){switch(r){case"compositionend":return de(a);case"keypress":return a.which!==32?null:($=!0,C);case"textInput":return r=a.data,r===C&&$?null:r;default:return null}}function Ye(r,a){if(Ke)return r==="compositionend"||!os&&J(r,a)?(r=zc(),Us=Er=ns=null,Ke=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var sn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yt(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!sn[r.type]:a==="textarea"}function Bs(r,a,c,f){Ls?zs?zs.push(f):zs=[f]:Ls=f,a=Ff(a,"onChange"),0<a.length&&(c=new qa("onChange","change",null,c,f),r.push({event:c,listeners:a}))}var fn=null,as=null;function Fc(r){Jw(r,0)}function rf(r){var a=Ji(r);if(Mc(a))return r}function w0(r,a){if(r==="change")return a}var b0=!1;if(Ni){var Sm;if(Ni){var Em="oninput"in document;if(!Em){var S0=document.createElement("div");S0.setAttribute("oninput","return;"),Em=typeof S0.oninput=="function"}Sm=Em}else Sm=!1;b0=Sm&&(!document.documentMode||9<document.documentMode)}function E0(){fn&&(fn.detachEvent("onpropertychange",T0),as=fn=null)}function T0(r){if(r.propertyName==="value"&&rf(as)){var a=[];Bs(a,as,r,mi(r)),Fh(Fc,a)}}function DC(r,a,c){r==="focusin"?(E0(),fn=a,as=c,fn.attachEvent("onpropertychange",T0)):r==="focusout"&&E0()}function MC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return rf(as)}function VC(r,a){if(r==="click")return rf(a)}function NC(r,a){if(r==="input"||r==="change")return rf(a)}function LC(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var ei=typeof Object.is=="function"?Object.is:LC;function qc(r,a){if(ei(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var m=c[f];if(!vo.call(a,m)||!ei(r[m],a[m]))return!1}return!0}function x0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function A0(r,a){var c=x0(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=a&&f>=a)return{node:c,offset:a-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=x0(c)}}function R0(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?R0(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function C0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Io(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=Io(r.document)}return a}function Tm(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var zC=Ni&&"documentMode"in document&&11>=document.documentMode,Ja=null,xm=null,$c=null,Am=!1;function P0(r,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Am||Ja==null||Ja!==Io(f)||(f=Ja,"selectionStart"in f&&Tm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),$c&&qc($c,f)||($c=f,f=Ff(xm,"onSelect"),0<f.length&&(a=new qa("onSelect","select",null,a,c),r.push({event:a,listeners:f}),a.target=Ja)))}function Bo(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var el={animationend:Bo("Animation","AnimationEnd"),animationiteration:Bo("Animation","AnimationIteration"),animationstart:Bo("Animation","AnimationStart"),transitionrun:Bo("Transition","TransitionRun"),transitionstart:Bo("Transition","TransitionStart"),transitioncancel:Bo("Transition","TransitionCancel"),transitionend:Bo("Transition","TransitionEnd")},Rm={},I0={};Ni&&(I0=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function jo(r){if(Rm[r])return Rm[r];if(!el[r])return r;var a=el[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in I0)return Rm[r]=a[c];return r}var O0=jo("animationend"),k0=jo("animationiteration"),D0=jo("animationstart"),UC=jo("transitionrun"),GC=jo("transitionstart"),BC=jo("transitioncancel"),M0=jo("transitionend"),V0=new Map,Cm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cm.push("scrollEnd");function Li(r,a){V0.set(r,a),Vi(a,[r])}var N0=new WeakMap;function _i(r,a){if(typeof r=="object"&&r!==null){var c=N0.get(r);return c!==void 0?c:(a={value:r,source:a,stack:ja(a)},N0.set(r,a),a)}return{value:r,source:a,stack:ja(a)}}var vi=[],tl=0,Pm=0;function of(){for(var r=tl,a=Pm=tl=0;a<r;){var c=vi[a];vi[a++]=null;var f=vi[a];vi[a++]=null;var m=vi[a];vi[a++]=null;var y=vi[a];if(vi[a++]=null,f!==null&&m!==null){var T=f.pending;T===null?m.next=m:(m.next=T.next,T.next=m),f.pending=m}y!==0&&L0(c,m,y)}}function af(r,a,c,f){vi[tl++]=r,vi[tl++]=a,vi[tl++]=c,vi[tl++]=f,Pm|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function Im(r,a,c,f){return af(r,a,c,f),lf(r)}function nl(r,a){return af(r,null,null,a),lf(r)}function L0(r,a,c){r.lanes|=c;var f=r.alternate;f!==null&&(f.lanes|=c);for(var m=!1,y=r.return;y!==null;)y.childLanes|=c,f=y.alternate,f!==null&&(f.childLanes|=c),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&a!==null&&(m=31-Tn(c),r=y.hiddenUpdates,f=r[m],f===null?r[m]=[a]:f.push(a),a.lane=c|536870912),y):null}function lf(r){if(50<yu)throw yu=0,Ng=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var il={};function jC(r,a,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(r,a,c,f){return new jC(r,a,c,f)}function Om(r){return r=r.prototype,!(!r||!r.isReactComponent)}function js(r,a){var c=r.alternate;return c===null?(c=ti(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function z0(r,a){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function cf(r,a,c,f,m,y){var T=0;if(f=r,typeof r=="function")Om(r)&&(T=1);else if(typeof r=="string")T=FP(r,c,be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=ti(31,c,a,m),r.elementType=I,r.lanes=y,r;case S:return Ho(c.children,m,y,a);case A:T=8,m|=24;break;case x:return r=ti(12,c,a,m|2),r.elementType=x,r.lanes=y,r;case W:return r=ti(13,c,a,m),r.elementType=W,r.lanes=y,r;case le:return r=ti(19,c,a,m),r.elementType=le,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:case L:T=10;break e;case U:T=9;break e;case H:T=11;break e;case D:T=14;break e;case P:T=16,f=null;break e}T=29,c=Error(i(130,r===null?"null":typeof r,"")),f=null}return a=ti(T,c,a,m),a.elementType=r,a.type=f,a.lanes=y,a}function Ho(r,a,c,f){return r=ti(7,r,f,a),r.lanes=c,r}function km(r,a,c){return r=ti(6,r,null,a),r.lanes=c,r}function Dm(r,a,c){return a=ti(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var sl=[],rl=0,uf=null,hf=0,wi=[],bi=0,Fo=null,Hs=1,Fs="";function qo(r,a){sl[rl++]=hf,sl[rl++]=uf,uf=r,hf=a}function U0(r,a,c){wi[bi++]=Hs,wi[bi++]=Fs,wi[bi++]=Fo,Fo=r;var f=Hs;r=Fs;var m=32-Tn(f)-1;f&=~(1<<m),c+=1;var y=32-Tn(a)+m;if(30<y){var T=m-m%5;y=(f&(1<<T)-1).toString(32),f>>=T,m-=T,Hs=1<<32-Tn(a)+m|c<<m|f,Fs=y+r}else Hs=1<<y|c<<m|f,Fs=r}function Mm(r){r.return!==null&&(qo(r,1),U0(r,1,0))}function Vm(r){for(;r===uf;)uf=sl[--rl],sl[rl]=null,hf=sl[--rl],sl[rl]=null;for(;r===Fo;)Fo=wi[--bi],wi[bi]=null,Fs=wi[--bi],wi[bi]=null,Hs=wi[--bi],wi[bi]=null}var Nn=null,At=null,et=!1,$o=null,ls=!1,Nm=Error(i(519));function Qo(r){var a=Error(i(418,""));throw Yc(_i(a,r)),Nm}function G0(r){var a=r.stateNode,c=r.type,f=r.memoizedProps;switch(a[Qt]=r,a[Ut]=f,c){case"dialog":Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":case"embed":Fe("load",a);break;case"video":case"audio":for(c=0;c<vu.length;c++)Fe(vu[c],a);break;case"source":Fe("error",a);break;case"img":case"image":case"link":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"input":Fe("invalid",a),Oo(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ha(a);break;case"select":Fe("invalid",a);break;case"textarea":Fe("invalid",a),ko(a,f.value,f.defaultValue,f.children),Ha(a)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||f.suppressHydrationWarning===!0||ib(a.textContent,c)?(f.popover!=null&&(Fe("beforetoggle",a),Fe("toggle",a)),f.onScroll!=null&&Fe("scroll",a),f.onScrollEnd!=null&&Fe("scrollend",a),f.onClick!=null&&(a.onclick=qf),a=!0):a=!1,a||Qo(r)}function B0(r){for(Nn=r.return;Nn;)switch(Nn.tag){case 5:case 13:ls=!1;return;case 27:case 3:ls=!0;return;default:Nn=Nn.return}}function Qc(r){if(r!==Nn)return!1;if(!et)return B0(r),et=!0,!1;var a=r.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Zg(r.type,r.memoizedProps)),c=!c),c&&At&&Qo(r),B0(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(a===0){At=Ui(r.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;r=r.nextSibling}At=null}}else a===27?(a=At,Ur(r.type)?(r=ny,ny=null,At=r):At=a):At=Nn?Ui(r.stateNode.nextSibling):null;return!0}function Kc(){At=Nn=null,et=!1}function j0(){var r=$o;return r!==null&&(Hn===null?Hn=r:Hn.push.apply(Hn,r),$o=null),r}function Yc(r){$o===null?$o=[r]:$o.push(r)}var Lm=ae(null),Ko=null,qs=null;function Tr(r,a,c){ue(Lm,a._currentValue),a._currentValue=c}function $s(r){r._currentValue=Lm.current,fe(Lm)}function zm(r,a,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),r===c)break;r=r.return}}function Um(r,a,c,f){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=m;for(var M=0;M<a.length;M++)if(R.context===a[M]){y.lanes|=c,R=y.alternate,R!==null&&(R.lanes|=c),zm(y.return,c,r),f||(T=null);break e}y=R.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(i(341));T.lanes|=c,y=T.alternate,y!==null&&(y.lanes|=c),zm(T,c,r),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===r){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Xc(r,a,c,f){r=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var R=m.type;ei(m.pendingProps.value,T.value)||(r!==null?r.push(R):r=[R])}}else if(m===zt.current){if(T=m.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(xu):r=[xu])}m=m.return}r!==null&&Um(a,r,c,f),a.flags|=262144}function ff(r){for(r=r.firstContext;r!==null;){if(!ei(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Yo(r){Ko=r,qs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function xn(r){return H0(Ko,r)}function df(r,a){return Ko===null&&Yo(r),H0(r,a)}function H0(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},qs===null){if(r===null)throw Error(i(308));qs=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else qs=qs.next=a;return c}var HC=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,f){r.push(f)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},FC=n.unstable_scheduleCallback,qC=n.unstable_NormalPriority,Xt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gm(){return{controller:new HC,data:new Map,refCount:0}}function Wc(r){r.refCount--,r.refCount===0&&FC(qC,function(){r.controller.abort()})}var Zc=null,Bm=0,ol=0,al=null;function $C(r,a){if(Zc===null){var c=Zc=[];Bm=0,ol=Hg(),al={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Bm++,a.then(F0,F0),a}function F0(){if(--Bm===0&&Zc!==null){al!==null&&(al.status="fulfilled");var r=Zc;Zc=null,ol=0,al=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function QC(r,a){var c=[],f={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return r.then(function(){f.status="fulfilled",f.value=a;for(var m=0;m<c.length;m++)(0,c[m])(a)},function(m){for(f.status="rejected",f.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),f}var q0=te.S;te.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&$C(r,a),q0!==null&&q0(r,a)};var Xo=ae(null);function jm(){var r=Xo.current;return r!==null?r:_t.pooledCache}function pf(r,a){a===null?ue(Xo,Xo.current):ue(Xo,a.pool)}function $0(){var r=jm();return r===null?null:{parent:Xt._currentValue,pool:r}}var Jc=Error(i(460)),Q0=Error(i(474)),mf=Error(i(542)),Hm={then:function(){}};function K0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function gf(){}function Y0(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(gf,gf),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,W0(r),r;default:if(typeof a.status=="string")a.then(gf,gf);else{if(r=_t,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(f){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=f}},function(f){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,W0(r),r}throw eu=a,Jc}}var eu=null;function X0(){if(eu===null)throw Error(i(459));var r=eu;return eu=null,r}function W0(r){if(r===Jc||r===mf)throw Error(i(483))}var xr=!1;function Fm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ar(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Rr(r,a,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(at&2)!==0){var m=f.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),f.pending=a,a=lf(r),L0(r,null,c),a}return af(r,f,a,c),lf(r)}function tu(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var f=a.lanes;f&=r.pendingLanes,c|=f,a.lanes=c,Pc(r,c)}}function $m(r,a){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,c=c.next}while(c!==null);y===null?m=y=a:y=y.next=a}else m=y=a;c={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var Qm=!1;function nu(){if(Qm){var r=al;if(r!==null)throw r}}function iu(r,a,c,f){Qm=!1;var m=r.updateQueue;xr=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var M=R,K=M.next;M.next=null,T===null?y=K:T.next=K,T=M;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,R=ie.lastBaseUpdate,R!==T&&(R===null?ie.firstBaseUpdate=K:R.next=K,ie.lastBaseUpdate=M))}if(y!==null){var re=m.baseState;T=0,ie=K=M=null,R=y;do{var Y=R.lane&-536870913,Z=Y!==R.lane;if(Z?(Xe&Y)===Y:(f&Y)===Y){Y!==0&&Y===ol&&(Qm=!0),ie!==null&&(ie=ie.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ce=r,Se=R;Y=a;var mt=c;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){re=Ce.call(mt,re,Y);break e}re=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,Y=typeof Ce=="function"?Ce.call(mt,re,Y):Ce,Y==null)break e;re=g({},re,Y);break e;case 2:xr=!0}}Y=R.callback,Y!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ie===null?(K=ie=Z,M=re):ie=ie.next=Z,T|=Y;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);ie===null&&(M=re),m.baseState=M,m.firstBaseUpdate=K,m.lastBaseUpdate=ie,y===null&&(m.shared.lanes=0),Vr|=T,r.lanes=T,r.memoizedState=re}}function Z0(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function J0(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)Z0(c[r],a)}var ll=ae(null),yf=ae(0);function e1(r,a){r=Js,ue(yf,r),ue(ll,a),Js=r|a.baseLanes}function Km(){ue(yf,Js),ue(ll,ll.current)}function Ym(){Js=yf.current,fe(ll),fe(yf)}var Cr=0,Ne=null,dt=null,Bt=null,_f=!1,cl=!1,Wo=!1,vf=0,su=0,ul=null,KC=0;function kt(){throw Error(i(321))}function Xm(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!ei(r[c],a[c]))return!1;return!0}function Wm(r,a,c,f,m,y){return Cr=y,Ne=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,te.H=r===null||r.memoizedState===null?L1:z1,Wo=!1,y=c(f,m),Wo=!1,cl&&(y=n1(a,c,f,m)),t1(r),y}function t1(r){te.H=xf;var a=dt!==null&&dt.next!==null;if(Cr=0,Bt=dt=Ne=null,_f=!1,su=0,ul=null,a)throw Error(i(300));r===null||rn||(r=r.dependencies,r!==null&&ff(r)&&(rn=!0))}function n1(r,a,c,f){Ne=r;var m=0;do{if(cl&&(ul=null),su=0,cl=!1,25<=m)throw Error(i(301));if(m+=1,Bt=dt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}te.H=tP,y=a(c,f)}while(cl);return y}function YC(){var r=te.H,a=r.useState()[0];return a=typeof a.then=="function"?ru(a):a,r=r.useState()[0],(dt!==null?dt.memoizedState:null)!==r&&(Ne.flags|=1024),a}function Zm(){var r=vf!==0;return vf=0,r}function Jm(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function eg(r){if(_f){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}_f=!1}Cr=0,Bt=dt=Ne=null,cl=!1,su=vf=0,ul=null}function Bn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ne.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function jt(){if(dt===null){var r=Ne.alternate;r=r!==null?r.memoizedState:null}else r=dt.next;var a=Bt===null?Ne.memoizedState:Bt.next;if(a!==null)Bt=a,dt=r;else{if(r===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));dt=r,r={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Bt===null?Ne.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function tg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ru(r){var a=su;return su+=1,ul===null&&(ul=[]),r=Y0(ul,r,a),a=Ne,(Bt===null?a.memoizedState:Bt.next)===null&&(a=a.alternate,te.H=a===null||a.memoizedState===null?L1:z1),r}function wf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ru(r);if(r.$$typeof===L)return xn(r)}throw Error(i(438,String(r)))}function ng(r){var a=null,c=Ne.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var f=Ne.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=tg(),Ne.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),f=0;f<r;f++)c[f]=V;return a.index++,c}function Qs(r,a){return typeof a=="function"?a(r):a}function bf(r){var a=jt();return ig(a,dt,r)}function ig(r,a,c){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var m=r.baseQueue,y=f.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}a.baseQueue=m=y,f.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{a=m.next;var R=T=null,M=null,K=a,ie=!1;do{var re=K.lane&-536870913;if(re!==K.lane?(Xe&re)===re:(Cr&re)===re){var Y=K.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),re===ol&&(ie=!0);else if((Cr&Y)===Y){K=K.next,Y===ol&&(ie=!0);continue}else re={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(R=M=re,T=y):M=M.next=re,Ne.lanes|=Y,Vr|=Y;re=K.action,Wo&&c(y,re),y=K.hasEagerState?K.eagerState:c(y,re)}else Y={lane:re,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(R=M=Y,T=y):M=M.next=Y,Ne.lanes|=re,Vr|=re;K=K.next}while(K!==null&&K!==a);if(M===null?T=y:M.next=R,!ei(y,r.memoizedState)&&(rn=!0,ie&&(c=al,c!==null)))throw c;r.memoizedState=y,r.baseState=T,r.baseQueue=M,f.lastRenderedState=y}return m===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function sg(r){var a=jt(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var f=c.dispatch,m=c.pending,y=a.memoizedState;if(m!==null){c.pending=null;var T=m=m.next;do y=r(y,T.action),T=T.next;while(T!==m);ei(y,a.memoizedState)||(rn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,f]}function i1(r,a,c){var f=Ne,m=jt(),y=et;if(y){if(c===void 0)throw Error(i(407));c=c()}else c=a();var T=!ei((dt||m).memoizedState,c);T&&(m.memoizedState=c,rn=!0),m=m.queue;var R=o1.bind(null,f,m,r);if(ou(2048,8,R,[r]),m.getSnapshot!==a||T||Bt!==null&&Bt.memoizedState.tag&1){if(f.flags|=2048,hl(9,Sf(),r1.bind(null,f,m,c,a),null),_t===null)throw Error(i(349));y||(Cr&124)!==0||s1(f,a,c)}return c}function s1(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=Ne.updateQueue,a===null?(a=tg(),Ne.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function r1(r,a,c,f){a.value=c,a.getSnapshot=f,a1(a)&&l1(r)}function o1(r,a,c){return c(function(){a1(a)&&l1(r)})}function a1(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!ei(r,c)}catch{return!0}}function l1(r){var a=nl(r,2);a!==null&&oi(a,r,2)}function rg(r){var a=Bn();if(typeof r=="function"){var c=r;if(r=c(),Wo){Zn(!0);try{c()}finally{Zn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:r},a}function c1(r,a,c,f){return r.baseState=c,ig(r,dt,typeof f=="function"?f:Qs)}function XC(r,a,c,f,m){if(Tf(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};te.T!==null?c(!0):y.isTransition=!1,f(y),c=a.pending,c===null?(y.next=a.pending=y,u1(a,y)):(y.next=c.next,a.pending=c.next=y)}}function u1(r,a){var c=a.action,f=a.payload,m=r.state;if(a.isTransition){var y=te.T,T={};te.T=T;try{var R=c(m,f),M=te.S;M!==null&&M(T,R),h1(r,a,R)}catch(K){og(r,a,K)}finally{te.T=y}}else try{y=c(m,f),h1(r,a,y)}catch(K){og(r,a,K)}}function h1(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){f1(r,a,f)},function(f){return og(r,a,f)}):f1(r,a,c)}function f1(r,a,c){a.status="fulfilled",a.value=c,d1(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,u1(r,c)))}function og(r,a,c){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=c,d1(a),a=a.next;while(a!==f)}r.action=null}function d1(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function p1(r,a){return a}function m1(r,a){if(et){var c=_t.formState;if(c!==null){e:{var f=Ne;if(et){if(At){t:{for(var m=At,y=ls;m.nodeType!==8;){if(!y){m=null;break t}if(m=Ui(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){At=Ui(m.nextSibling),f=m.data==="F!";break e}}Qo(f)}f=!1}f&&(a=c[0])}}return c=Bn(),c.memoizedState=c.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p1,lastRenderedState:a},c.queue=f,c=M1.bind(null,Ne,f),f.dispatch=c,f=rg(!1),y=hg.bind(null,Ne,!1,f.queue),f=Bn(),m={state:a,dispatch:null,action:r,pending:null},f.queue=m,c=XC.bind(null,Ne,m,y,c),m.dispatch=c,f.memoizedState=r,[a,c,!1]}function g1(r){var a=jt();return y1(a,dt,r)}function y1(r,a,c){if(a=ig(r,a,p1)[0],r=bf(Qs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=ru(a)}catch(T){throw T===Jc?mf:T}else f=a;a=jt();var m=a.queue,y=m.dispatch;return c!==a.memoizedState&&(Ne.flags|=2048,hl(9,Sf(),WC.bind(null,m,c),null)),[f,y,r]}function WC(r,a){r.action=a}function _1(r){var a=jt(),c=dt;if(c!==null)return y1(a,c,r);jt(),a=a.memoizedState,c=jt();var f=c.queue.dispatch;return c.memoizedState=r,[a,f,!1]}function hl(r,a,c,f){return r={tag:r,create:c,deps:f,inst:a,next:null},a=Ne.updateQueue,a===null&&(a=tg(),Ne.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,a.lastEffect=r),r}function Sf(){return{destroy:void 0,resource:void 0}}function v1(){return jt().memoizedState}function Ef(r,a,c,f){var m=Bn();f=f===void 0?null:f,Ne.flags|=r,m.memoizedState=hl(1|a,Sf(),c,f)}function ou(r,a,c,f){var m=jt();f=f===void 0?null:f;var y=m.memoizedState.inst;dt!==null&&f!==null&&Xm(f,dt.memoizedState.deps)?m.memoizedState=hl(a,y,c,f):(Ne.flags|=r,m.memoizedState=hl(1|a,y,c,f))}function w1(r,a){Ef(8390656,8,r,a)}function b1(r,a){ou(2048,8,r,a)}function S1(r,a){return ou(4,2,r,a)}function E1(r,a){return ou(4,4,r,a)}function T1(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function x1(r,a,c){c=c!=null?c.concat([r]):null,ou(4,4,T1.bind(null,a,r),c)}function ag(){}function A1(r,a){var c=jt();a=a===void 0?null:a;var f=c.memoizedState;return a!==null&&Xm(a,f[1])?f[0]:(c.memoizedState=[r,a],r)}function R1(r,a){var c=jt();a=a===void 0?null:a;var f=c.memoizedState;if(a!==null&&Xm(a,f[1]))return f[0];if(f=r(),Wo){Zn(!0);try{r()}finally{Zn(!1)}}return c.memoizedState=[f,a],f}function lg(r,a,c){return c===void 0||(Cr&1073741824)!==0?r.memoizedState=a:(r.memoizedState=c,r=Iw(),Ne.lanes|=r,Vr|=r,c)}function C1(r,a,c,f){return ei(c,a)?c:ll.current!==null?(r=lg(r,c,f),ei(r,a)||(rn=!0),r):(Cr&42)===0?(rn=!0,r.memoizedState=c):(r=Iw(),Ne.lanes|=r,Vr|=r,a)}function P1(r,a,c,f,m){var y=he.p;he.p=y!==0&&8>y?y:8;var T=te.T,R={};te.T=R,hg(r,!1,a,c);try{var M=m(),K=te.S;if(K!==null&&K(R,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ie=QC(M,f);au(r,a,ie,ri(r))}else au(r,a,f,ri(r))}catch(re){au(r,a,{then:function(){},status:"rejected",reason:re},ri())}finally{he.p=y,te.T=T}}function ZC(){}function cg(r,a,c,f){if(r.tag!==5)throw Error(i(476));var m=I1(r).queue;P1(r,m,a,ve,c===null?ZC:function(){return O1(r),c(f)})}function I1(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:ve},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function O1(r){var a=I1(r).next.queue;au(r,a,{},ri())}function ug(){return xn(xu)}function k1(){return jt().memoizedState}function D1(){return jt().memoizedState}function JC(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=ri();r=Ar(c);var f=Rr(a,r,c);f!==null&&(oi(f,a,c),tu(f,a,c)),a={cache:Gm()},r.payload=a;return}a=a.return}}function eP(r,a,c){var f=ri();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Tf(r)?V1(a,c):(c=Im(r,a,c,f),c!==null&&(oi(c,r,f),N1(c,a,f)))}function M1(r,a,c){var f=ri();au(r,a,c,f)}function au(r,a,c,f){var m={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Tf(r))V1(a,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,R=y(T,c);if(m.hasEagerState=!0,m.eagerState=R,ei(R,T))return af(r,a,m,0),_t===null&&of(),!1}catch{}finally{}if(c=Im(r,a,m,f),c!==null)return oi(c,r,f),N1(c,a,f),!0}return!1}function hg(r,a,c,f){if(f={lane:2,revertLane:Hg(),action:f,hasEagerState:!1,eagerState:null,next:null},Tf(r)){if(a)throw Error(i(479))}else a=Im(r,c,f,2),a!==null&&oi(a,r,2)}function Tf(r){var a=r.alternate;return r===Ne||a!==null&&a===Ne}function V1(r,a){cl=_f=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function N1(r,a,c){if((c&4194048)!==0){var f=a.lanes;f&=r.pendingLanes,c|=f,a.lanes=c,Pc(r,c)}}var xf={readContext:xn,use:wf,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},L1={readContext:xn,use:wf,useCallback:function(r,a){return Bn().memoizedState=[r,a===void 0?null:a],r},useContext:xn,useEffect:w1,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,Ef(4194308,4,T1.bind(null,a,r),c)},useLayoutEffect:function(r,a){return Ef(4194308,4,r,a)},useInsertionEffect:function(r,a){Ef(4,2,r,a)},useMemo:function(r,a){var c=Bn();a=a===void 0?null:a;var f=r();if(Wo){Zn(!0);try{r()}finally{Zn(!1)}}return c.memoizedState=[f,a],f},useReducer:function(r,a,c){var f=Bn();if(c!==void 0){var m=c(a);if(Wo){Zn(!0);try{c(a)}finally{Zn(!1)}}}else m=a;return f.memoizedState=f.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},f.queue=r,r=r.dispatch=eP.bind(null,Ne,r),[f.memoizedState,r]},useRef:function(r){var a=Bn();return r={current:r},a.memoizedState=r},useState:function(r){r=rg(r);var a=r.queue,c=M1.bind(null,Ne,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:ag,useDeferredValue:function(r,a){var c=Bn();return lg(c,r,a)},useTransition:function(){var r=rg(!1);return r=P1.bind(null,Ne,r.queue,!0,!1),Bn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var f=Ne,m=Bn();if(et){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),_t===null)throw Error(i(349));(Xe&124)!==0||s1(f,a,c)}m.memoizedState=c;var y={value:c,getSnapshot:a};return m.queue=y,w1(o1.bind(null,f,y,r),[r]),f.flags|=2048,hl(9,Sf(),r1.bind(null,f,y,c,a),null),c},useId:function(){var r=Bn(),a=_t.identifierPrefix;if(et){var c=Fs,f=Hs;c=(f&~(1<<32-Tn(f)-1)).toString(32)+c,a="«"+a+"R"+c,c=vf++,0<c&&(a+="H"+c.toString(32)),a+="»"}else c=KC++,a="«"+a+"r"+c.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:ug,useFormState:m1,useActionState:m1,useOptimistic:function(r){var a=Bn();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=hg.bind(null,Ne,!0,c),c.dispatch=a,[r,a]},useMemoCache:ng,useCacheRefresh:function(){return Bn().memoizedState=JC.bind(null,Ne)}},z1={readContext:xn,use:wf,useCallback:A1,useContext:xn,useEffect:b1,useImperativeHandle:x1,useInsertionEffect:S1,useLayoutEffect:E1,useMemo:R1,useReducer:bf,useRef:v1,useState:function(){return bf(Qs)},useDebugValue:ag,useDeferredValue:function(r,a){var c=jt();return C1(c,dt.memoizedState,r,a)},useTransition:function(){var r=bf(Qs)[0],a=jt().memoizedState;return[typeof r=="boolean"?r:ru(r),a]},useSyncExternalStore:i1,useId:k1,useHostTransitionStatus:ug,useFormState:g1,useActionState:g1,useOptimistic:function(r,a){var c=jt();return c1(c,dt,r,a)},useMemoCache:ng,useCacheRefresh:D1},tP={readContext:xn,use:wf,useCallback:A1,useContext:xn,useEffect:b1,useImperativeHandle:x1,useInsertionEffect:S1,useLayoutEffect:E1,useMemo:R1,useReducer:sg,useRef:v1,useState:function(){return sg(Qs)},useDebugValue:ag,useDeferredValue:function(r,a){var c=jt();return dt===null?lg(c,r,a):C1(c,dt.memoizedState,r,a)},useTransition:function(){var r=sg(Qs)[0],a=jt().memoizedState;return[typeof r=="boolean"?r:ru(r),a]},useSyncExternalStore:i1,useId:k1,useHostTransitionStatus:ug,useFormState:_1,useActionState:_1,useOptimistic:function(r,a){var c=jt();return dt!==null?c1(c,dt,r,a):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:ng,useCacheRefresh:D1},fl=null,lu=0;function Af(r){var a=lu;return lu+=1,fl===null&&(fl=[]),Y0(fl,r,a)}function cu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Rf(r,a){throw a.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function U1(r){var a=r._init;return a(r._payload)}function G1(r){function a(F,B){if(r){var Q=F.deletions;Q===null?(F.deletions=[B],F.flags|=16):Q.push(B)}}function c(F,B){if(!r)return null;for(;B!==null;)a(F,B),B=B.sibling;return null}function f(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function m(F,B){return F=js(F,B),F.index=0,F.sibling=null,F}function y(F,B,Q){return F.index=Q,r?(Q=F.alternate,Q!==null?(Q=Q.index,Q<B?(F.flags|=67108866,B):Q):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function T(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function R(F,B,Q,se){return B===null||B.tag!==6?(B=km(Q,F.mode,se),B.return=F,B):(B=m(B,Q),B.return=F,B)}function M(F,B,Q,se){var _e=Q.type;return _e===S?ie(F,B,Q.props.children,se,Q.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===P&&U1(_e)===B.type)?(B=m(B,Q.props),cu(B,Q),B.return=F,B):(B=cf(Q.type,Q.key,Q.props,null,F.mode,se),cu(B,Q),B.return=F,B)}function K(F,B,Q,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=Dm(Q,F.mode,se),B.return=F,B):(B=m(B,Q.children||[]),B.return=F,B)}function ie(F,B,Q,se,_e){return B===null||B.tag!==7?(B=Ho(Q,F.mode,se,_e),B.return=F,B):(B=m(B,Q),B.return=F,B)}function re(F,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=km(""+B,F.mode,Q),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return Q=cf(B.type,B.key,B.props,null,F.mode,Q),cu(Q,B),Q.return=F,Q;case b:return B=Dm(B,F.mode,Q),B.return=F,B;case P:var se=B._init;return B=se(B._payload),re(F,B,Q)}if(nt(B)||j(B))return B=Ho(B,F.mode,Q,null),B.return=F,B;if(typeof B.then=="function")return re(F,Af(B),Q);if(B.$$typeof===L)return re(F,df(F,B),Q);Rf(F,B)}return null}function Y(F,B,Q,se){var _e=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return _e!==null?null:R(F,B,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return Q.key===_e?M(F,B,Q,se):null;case b:return Q.key===_e?K(F,B,Q,se):null;case P:return _e=Q._init,Q=_e(Q._payload),Y(F,B,Q,se)}if(nt(Q)||j(Q))return _e!==null?null:ie(F,B,Q,se,null);if(typeof Q.then=="function")return Y(F,B,Af(Q),se);if(Q.$$typeof===L)return Y(F,B,df(F,Q),se);Rf(F,Q)}return null}function Z(F,B,Q,se,_e){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return F=F.get(Q)||null,R(B,F,""+se,_e);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case v:return F=F.get(se.key===null?Q:se.key)||null,M(B,F,se,_e);case b:return F=F.get(se.key===null?Q:se.key)||null,K(B,F,se,_e);case P:var Be=se._init;return se=Be(se._payload),Z(F,B,Q,se,_e)}if(nt(se)||j(se))return F=F.get(Q)||null,ie(B,F,se,_e,null);if(typeof se.then=="function")return Z(F,B,Q,Af(se),_e);if(se.$$typeof===L)return Z(F,B,Q,df(B,se),_e);Rf(B,se)}return null}function Ce(F,B,Q,se){for(var _e=null,Be=null,we=B,xe=B=0,an=null;we!==null&&xe<Q.length;xe++){we.index>xe?(an=we,we=null):an=we.sibling;var Ze=Y(F,we,Q[xe],se);if(Ze===null){we===null&&(we=an);break}r&&we&&Ze.alternate===null&&a(F,we),B=y(Ze,B,xe),Be===null?_e=Ze:Be.sibling=Ze,Be=Ze,we=an}if(xe===Q.length)return c(F,we),et&&qo(F,xe),_e;if(we===null){for(;xe<Q.length;xe++)we=re(F,Q[xe],se),we!==null&&(B=y(we,B,xe),Be===null?_e=we:Be.sibling=we,Be=we);return et&&qo(F,xe),_e}for(we=f(we);xe<Q.length;xe++)an=Z(we,F,xe,Q[xe],se),an!==null&&(r&&an.alternate!==null&&we.delete(an.key===null?xe:an.key),B=y(an,B,xe),Be===null?_e=an:Be.sibling=an,Be=an);return r&&we.forEach(function(Fr){return a(F,Fr)}),et&&qo(F,xe),_e}function Se(F,B,Q,se){if(Q==null)throw Error(i(151));for(var _e=null,Be=null,we=B,xe=B=0,an=null,Ze=Q.next();we!==null&&!Ze.done;xe++,Ze=Q.next()){we.index>xe?(an=we,we=null):an=we.sibling;var Fr=Y(F,we,Ze.value,se);if(Fr===null){we===null&&(we=an);break}r&&we&&Fr.alternate===null&&a(F,we),B=y(Fr,B,xe),Be===null?_e=Fr:Be.sibling=Fr,Be=Fr,we=an}if(Ze.done)return c(F,we),et&&qo(F,xe),_e;if(we===null){for(;!Ze.done;xe++,Ze=Q.next())Ze=re(F,Ze.value,se),Ze!==null&&(B=y(Ze,B,xe),Be===null?_e=Ze:Be.sibling=Ze,Be=Ze);return et&&qo(F,xe),_e}for(we=f(we);!Ze.done;xe++,Ze=Q.next())Ze=Z(we,F,xe,Ze.value,se),Ze!==null&&(r&&Ze.alternate!==null&&we.delete(Ze.key===null?xe:Ze.key),B=y(Ze,B,xe),Be===null?_e=Ze:Be.sibling=Ze,Be=Ze);return r&&we.forEach(function(nI){return a(F,nI)}),et&&qo(F,xe),_e}function mt(F,B,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===S&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:e:{for(var _e=Q.key;B!==null;){if(B.key===_e){if(_e=Q.type,_e===S){if(B.tag===7){c(F,B.sibling),se=m(B,Q.props.children),se.return=F,F=se;break e}}else if(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===P&&U1(_e)===B.type){c(F,B.sibling),se=m(B,Q.props),cu(se,Q),se.return=F,F=se;break e}c(F,B);break}else a(F,B);B=B.sibling}Q.type===S?(se=Ho(Q.props.children,F.mode,se,Q.key),se.return=F,F=se):(se=cf(Q.type,Q.key,Q.props,null,F.mode,se),cu(se,Q),se.return=F,F=se)}return T(F);case b:e:{for(_e=Q.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){c(F,B.sibling),se=m(B,Q.children||[]),se.return=F,F=se;break e}else{c(F,B);break}else a(F,B);B=B.sibling}se=Dm(Q,F.mode,se),se.return=F,F=se}return T(F);case P:return _e=Q._init,Q=_e(Q._payload),mt(F,B,Q,se)}if(nt(Q))return Ce(F,B,Q,se);if(j(Q)){if(_e=j(Q),typeof _e!="function")throw Error(i(150));return Q=_e.call(Q),Se(F,B,Q,se)}if(typeof Q.then=="function")return mt(F,B,Af(Q),se);if(Q.$$typeof===L)return mt(F,B,df(F,Q),se);Rf(F,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(c(F,B.sibling),se=m(B,Q),se.return=F,F=se):(c(F,B),se=km(Q,F.mode,se),se.return=F,F=se),T(F)):c(F,B)}return function(F,B,Q,se){try{lu=0;var _e=mt(F,B,Q,se);return fl=null,_e}catch(we){if(we===Jc||we===mf)throw we;var Be=ti(29,we,null,F.mode);return Be.lanes=se,Be.return=F,Be}finally{}}}var dl=G1(!0),B1=G1(!1),Si=ae(null),cs=null;function Pr(r){var a=r.alternate;ue(Wt,Wt.current&1),ue(Si,r),cs===null&&(a===null||ll.current!==null||a.memoizedState!==null)&&(cs=r)}function j1(r){if(r.tag===22){if(ue(Wt,Wt.current),ue(Si,r),cs===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(cs=r)}}else Ir()}function Ir(){ue(Wt,Wt.current),ue(Si,Si.current)}function Ks(r){fe(Si),cs===r&&(cs=null),fe(Wt)}var Wt=ae(0);function Cf(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||ty(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function fg(r,a,c,f){a=r.memoizedState,c=c(f,a),c=c==null?a:g({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var dg={enqueueSetState:function(r,a,c){r=r._reactInternals;var f=ri(),m=Ar(f);m.payload=a,c!=null&&(m.callback=c),a=Rr(r,m,f),a!==null&&(oi(a,r,f),tu(a,r,f))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var f=ri(),m=Ar(f);m.tag=1,m.payload=a,c!=null&&(m.callback=c),a=Rr(r,m,f),a!==null&&(oi(a,r,f),tu(a,r,f))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=ri(),f=Ar(c);f.tag=2,a!=null&&(f.callback=a),a=Rr(r,f,c),a!==null&&(oi(a,r,c),tu(a,r,c))}};function H1(r,a,c,f,m,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,T):a.prototype&&a.prototype.isPureReactComponent?!qc(c,f)||!qc(m,y):!0}function F1(r,a,c,f){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==r&&dg.enqueueReplaceState(a,a.state,null)}function Zo(r,a){var c=a;if("ref"in a){c={};for(var f in a)f!=="ref"&&(c[f]=a[f])}if(r=r.defaultProps){c===a&&(c=g({},c));for(var m in r)c[m]===void 0&&(c[m]=r[m])}return c}var Pf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function q1(r){Pf(r)}function $1(r){console.error(r)}function Q1(r){Pf(r)}function If(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function K1(r,a,c){try{var f=r.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function pg(r,a,c){return c=Ar(c),c.tag=3,c.payload={element:null},c.callback=function(){If(r,a)},c}function Y1(r){return r=Ar(r),r.tag=3,r}function X1(r,a,c,f){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var y=f.value;r.payload=function(){return m(y)},r.callback=function(){K1(a,c,f)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){K1(a,c,f),typeof m!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function nP(r,a,c,f,m){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=c.alternate,a!==null&&Xc(a,c,m,!0),c=Si.current,c!==null){switch(c.tag){case 13:return cs===null?zg():c.alternate===null&&Rt===0&&(Rt=3),c.flags&=-257,c.flags|=65536,c.lanes=m,f===Hm?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([f]):a.add(f),Gg(r,f,m)),!1;case 22:return c.flags|=65536,f===Hm?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([f]):c.add(f)),Gg(r,f,m)),!1}throw Error(i(435,c.tag))}return Gg(r,f,m),zg(),!1}if(et)return a=Si.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,f!==Nm&&(r=Error(i(422),{cause:f}),Yc(_i(r,c)))):(f!==Nm&&(a=Error(i(423),{cause:f}),Yc(_i(a,c))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,f=_i(f,c),m=pg(r.stateNode,f,m),$m(r,m),Rt!==4&&(Rt=2)),!1;var y=Error(i(520),{cause:f});if(y=_i(y,c),gu===null?gu=[y]:gu.push(y),Rt!==4&&(Rt=2),a===null)return!0;f=_i(f,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=m&-m,c.lanes|=r,r=pg(c.stateNode,f,r),$m(c,r),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Nr===null||!Nr.has(y))))return c.flags|=65536,m&=-m,c.lanes|=m,m=Y1(m),X1(m,r,c,f),$m(c,m),!1}c=c.return}while(c!==null);return!1}var W1=Error(i(461)),rn=!1;function dn(r,a,c,f){a.child=r===null?B1(a,null,c,f):dl(a,r.child,c,f)}function Z1(r,a,c,f,m){c=c.render;var y=a.ref;if("ref"in f){var T={};for(var R in f)R!=="ref"&&(T[R]=f[R])}else T=f;return Yo(a),f=Wm(r,a,c,T,y,m),R=Zm(),r!==null&&!rn?(Jm(r,a,m),Ys(r,a,m)):(et&&R&&Mm(a),a.flags|=1,dn(r,a,f,m),a.child)}function J1(r,a,c,f,m){if(r===null){var y=c.type;return typeof y=="function"&&!Om(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,ew(r,a,y,f,m)):(r=cf(c.type,null,f,a,a.mode,m),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!Sg(r,m)){var T=y.memoizedProps;if(c=c.compare,c=c!==null?c:qc,c(T,f)&&r.ref===a.ref)return Ys(r,a,m)}return a.flags|=1,r=js(y,f),r.ref=a.ref,r.return=a,a.child=r}function ew(r,a,c,f,m){if(r!==null){var y=r.memoizedProps;if(qc(y,f)&&r.ref===a.ref)if(rn=!1,a.pendingProps=f=y,Sg(r,m))(r.flags&131072)!==0&&(rn=!0);else return a.lanes=r.lanes,Ys(r,a,m)}return mg(r,a,c,f,m)}function tw(r,a,c){var f=a.pendingProps,m=f.children,y=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=y!==null?y.baseLanes|c:c,r!==null){for(m=a.child=r.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~f}else a.childLanes=0,a.child=null;return nw(r,a,f,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&pf(a,y!==null?y.cachePool:null),y!==null?e1(a,y):Km(),j1(a);else return a.lanes=a.childLanes=536870912,nw(r,a,y!==null?y.baseLanes|c:c,c)}else y!==null?(pf(a,y.cachePool),e1(a,y),Ir(),a.memoizedState=null):(r!==null&&pf(a,null),Km(),Ir());return dn(r,a,m,c),a.child}function nw(r,a,c,f){var m=jm();return m=m===null?null:{parent:Xt._currentValue,pool:m},a.memoizedState={baseLanes:c,cachePool:m},r!==null&&pf(a,null),Km(),j1(a),r!==null&&Xc(r,a,f,!0),null}function Of(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(a.flags|=4194816)}}function mg(r,a,c,f,m){return Yo(a),c=Wm(r,a,c,f,void 0,m),f=Zm(),r!==null&&!rn?(Jm(r,a,m),Ys(r,a,m)):(et&&f&&Mm(a),a.flags|=1,dn(r,a,c,m),a.child)}function iw(r,a,c,f,m,y){return Yo(a),a.updateQueue=null,c=n1(a,f,c,m),t1(r),f=Zm(),r!==null&&!rn?(Jm(r,a,y),Ys(r,a,y)):(et&&f&&Mm(a),a.flags|=1,dn(r,a,c,y),a.child)}function sw(r,a,c,f,m){if(Yo(a),a.stateNode===null){var y=il,T=c.contextType;typeof T=="object"&&T!==null&&(y=xn(T)),y=new c(f,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=dg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=f,y.state=a.memoizedState,y.refs={},Fm(a),T=c.contextType,y.context=typeof T=="object"&&T!==null?xn(T):il,y.state=a.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(fg(a,c,T,f),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&dg.enqueueReplaceState(y,y.state,null),iu(a,f,y,m),nu(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(r===null){y=a.stateNode;var R=a.memoizedProps,M=Zo(c,R);y.props=M;var K=y.context,ie=c.contextType;T=il,typeof ie=="object"&&ie!==null&&(T=xn(ie));var re=c.getDerivedStateFromProps;ie=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||K!==T)&&F1(a,y,f,T),xr=!1;var Y=a.memoizedState;y.state=Y,iu(a,f,y,m),nu(),K=a.memoizedState,R||Y!==K||xr?(typeof re=="function"&&(fg(a,c,re,f),K=a.memoizedState),(M=xr||H1(a,c,M,f,Y,K,T))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=K),y.props=f,y.state=K,y.context=T,f=M):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{y=a.stateNode,qm(r,a),T=a.memoizedProps,ie=Zo(c,T),y.props=ie,re=a.pendingProps,Y=y.context,K=c.contextType,M=il,typeof K=="object"&&K!==null&&(M=xn(K)),R=c.getDerivedStateFromProps,(K=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==re||Y!==M)&&F1(a,y,f,M),xr=!1,Y=a.memoizedState,y.state=Y,iu(a,f,y,m),nu();var Z=a.memoizedState;T!==re||Y!==Z||xr||r!==null&&r.dependencies!==null&&ff(r.dependencies)?(typeof R=="function"&&(fg(a,c,R,f),Z=a.memoizedState),(ie=xr||H1(a,c,ie,f,Y,Z,M)||r!==null&&r.dependencies!==null&&ff(r.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,Z,M),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,Z,M)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Z),y.props=f,y.state=Z,y.context=M,f=ie):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(a.flags|=1024),f=!1)}return y=f,Of(r,a),f=(a.flags&128)!==0,y||f?(y=a.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&f?(a.child=dl(a,r.child,null,m),a.child=dl(a,null,c,m)):dn(r,a,c,m),a.memoizedState=y.state,r=a.child):r=Ys(r,a,m),r}function rw(r,a,c,f){return Kc(),a.flags|=256,dn(r,a,c,f),a.child}var gg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yg(r){return{baseLanes:r,cachePool:$0()}}function _g(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=Ei),r}function ow(r,a,c){var f=a.pendingProps,m=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(Wt.current&2)!==0),T&&(m=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,r===null){if(et){if(m?Pr(a):Ir(),et){var R=At,M;if(M=R){e:{for(M=R,R=ls;M.nodeType!==8;){if(!R){R=null;break e}if(M=Ui(M.nextSibling),M===null){R=null;break e}}R=M}R!==null?(a.memoizedState={dehydrated:R,treeContext:Fo!==null?{id:Hs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},M=ti(18,null,null,0),M.stateNode=R,M.return=a,a.child=M,Nn=a,At=null,M=!0):M=!1}M||Qo(a)}if(R=a.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return ty(R)?a.lanes=32:a.lanes=536870912,null;Ks(a)}return R=f.children,f=f.fallback,m?(Ir(),m=a.mode,R=kf({mode:"hidden",children:R},m),f=Ho(f,m,c,null),R.return=a,f.return=a,R.sibling=f,a.child=R,m=a.child,m.memoizedState=yg(c),m.childLanes=_g(r,T,c),a.memoizedState=gg,f):(Pr(a),vg(a,R))}if(M=r.memoizedState,M!==null&&(R=M.dehydrated,R!==null)){if(y)a.flags&256?(Pr(a),a.flags&=-257,a=wg(r,a,c)):a.memoizedState!==null?(Ir(),a.child=r.child,a.flags|=128,a=null):(Ir(),m=f.fallback,R=a.mode,f=kf({mode:"visible",children:f.children},R),m=Ho(m,R,c,null),m.flags|=2,f.return=a,m.return=a,f.sibling=m,a.child=f,dl(a,r.child,null,c),f=a.child,f.memoizedState=yg(c),f.childLanes=_g(r,T,c),a.memoizedState=gg,a=m);else if(Pr(a),ty(R)){if(T=R.nextSibling&&R.nextSibling.dataset,T)var K=T.dgst;T=K,f=Error(i(419)),f.stack="",f.digest=T,Yc({value:f,source:null,stack:null}),a=wg(r,a,c)}else if(rn||Xc(r,a,c,!1),T=(c&r.childLanes)!==0,rn||T){if(T=_t,T!==null&&(f=c&-c,f=(f&42)!==0?1:yr(f),f=(f&(T.suspendedLanes|c))!==0?0:f,f!==0&&f!==M.retryLane))throw M.retryLane=f,nl(r,f),oi(T,r,f),W1;R.data==="$?"||zg(),a=wg(r,a,c)}else R.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=M.treeContext,At=Ui(R.nextSibling),Nn=a,et=!0,$o=null,ls=!1,r!==null&&(wi[bi++]=Hs,wi[bi++]=Fs,wi[bi++]=Fo,Hs=r.id,Fs=r.overflow,Fo=a),a=vg(a,f.children),a.flags|=4096);return a}return m?(Ir(),m=f.fallback,R=a.mode,M=r.child,K=M.sibling,f=js(M,{mode:"hidden",children:f.children}),f.subtreeFlags=M.subtreeFlags&65011712,K!==null?m=js(K,m):(m=Ho(m,R,c,null),m.flags|=2),m.return=a,f.return=a,f.sibling=m,a.child=f,f=m,m=a.child,R=r.child.memoizedState,R===null?R=yg(c):(M=R.cachePool,M!==null?(K=Xt._currentValue,M=M.parent!==K?{parent:K,pool:K}:M):M=$0(),R={baseLanes:R.baseLanes|c,cachePool:M}),m.memoizedState=R,m.childLanes=_g(r,T,c),a.memoizedState=gg,f):(Pr(a),c=r.child,r=c.sibling,c=js(c,{mode:"visible",children:f.children}),c.return=a,c.sibling=null,r!==null&&(T=a.deletions,T===null?(a.deletions=[r],a.flags|=16):T.push(r)),a.child=c,a.memoizedState=null,c)}function vg(r,a){return a=kf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function kf(r,a){return r=ti(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function wg(r,a,c){return dl(a,r.child,null,c),r=vg(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function aw(r,a,c){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a),zm(r.return,a,c)}function bg(r,a,c,f,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=c,y.tailMode=m)}function lw(r,a,c){var f=a.pendingProps,m=f.revealOrder,y=f.tail;if(dn(r,a,f.children,c),f=Wt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&aw(r,c,a);else if(r.tag===19)aw(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(ue(Wt,f),m){case"forwards":for(c=a.child,m=null;c!==null;)r=c.alternate,r!==null&&Cf(r)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),bg(a,!1,m,c,y);break;case"backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(r=m.alternate,r!==null&&Cf(r)===null){a.child=m;break}r=m.sibling,m.sibling=c,c=m,m=r}bg(a,!0,c,null,y);break;case"together":bg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ys(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),Vr|=a.lanes,(c&a.childLanes)===0)if(r!==null){if(Xc(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,c=js(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=js(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function Sg(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&ff(r)))}function iP(r,a,c){switch(a.tag){case 3:ht(a,a.stateNode.containerInfo),Tr(a,Xt,r.memoizedState.cache),Kc();break;case 27:case 5:Wn(a);break;case 4:ht(a,a.stateNode.containerInfo);break;case 10:Tr(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Pr(a),a.flags|=128,null):(c&a.child.childLanes)!==0?ow(r,a,c):(Pr(a),r=Ys(r,a,c),r!==null?r.sibling:null);Pr(a);break;case 19:var m=(r.flags&128)!==0;if(f=(c&a.childLanes)!==0,f||(Xc(r,a,c,!1),f=(c&a.childLanes)!==0),m){if(f)return lw(r,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ue(Wt,Wt.current),f)break;return null;case 22:case 23:return a.lanes=0,tw(r,a,c);case 24:Tr(a,Xt,r.memoizedState.cache)}return Ys(r,a,c)}function cw(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)rn=!0;else{if(!Sg(r,c)&&(a.flags&128)===0)return rn=!1,iP(r,a,c);rn=(r.flags&131072)!==0}else rn=!1,et&&(a.flags&1048576)!==0&&U0(a,hf,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var f=a.elementType,m=f._init;if(f=m(f._payload),a.type=f,typeof f=="function")Om(f)?(r=Zo(f,r),a.tag=1,a=sw(null,a,f,r,c)):(a.tag=0,a=mg(null,a,f,r,c));else{if(f!=null){if(m=f.$$typeof,m===H){a.tag=11,a=Z1(null,a,f,r,c);break e}else if(m===D){a.tag=14,a=J1(null,a,f,r,c);break e}}throw a=Ge(f)||f,Error(i(306,a,""))}}return a;case 0:return mg(r,a,a.type,a.pendingProps,c);case 1:return f=a.type,m=Zo(f,a.pendingProps),sw(r,a,f,m,c);case 3:e:{if(ht(a,a.stateNode.containerInfo),r===null)throw Error(i(387));f=a.pendingProps;var y=a.memoizedState;m=y.element,qm(r,a),iu(a,f,null,c);var T=a.memoizedState;if(f=T.cache,Tr(a,Xt,f),f!==y.cache&&Um(a,[Xt],c,!0),nu(),f=T.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=rw(r,a,f,c);break e}else if(f!==m){m=_i(Error(i(424)),a),Yc(m),a=rw(r,a,f,c);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(At=Ui(r.firstChild),Nn=a,et=!0,$o=null,ls=!0,c=B1(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Kc(),f===m){a=Ys(r,a,c);break e}dn(r,a,f,c)}a=a.child}return a;case 26:return Of(r,a),r===null?(c=db(a.type,null,a.pendingProps,null))?a.memoizedState=c:et||(c=a.type,r=a.pendingProps,f=$f(Re.current).createElement(c),f[Qt]=a,f[Ut]=r,mn(f,c,r),Ot(f),a.stateNode=f):a.memoizedState=db(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Wn(a),r===null&&et&&(f=a.stateNode=ub(a.type,a.pendingProps,Re.current),Nn=a,ls=!0,m=At,Ur(a.type)?(ny=m,At=Ui(f.firstChild)):At=m),dn(r,a,a.pendingProps.children,c),Of(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&et&&((m=f=At)&&(f=OP(f,a.type,a.pendingProps,ls),f!==null?(a.stateNode=f,Nn=a,At=Ui(f.firstChild),ls=!1,m=!0):m=!1),m||Qo(a)),Wn(a),m=a.type,y=a.pendingProps,T=r!==null?r.memoizedProps:null,f=y.children,Zg(m,y)?f=null:T!==null&&Zg(m,T)&&(a.flags|=32),a.memoizedState!==null&&(m=Wm(r,a,YC,null,null,c),xu._currentValue=m),Of(r,a),dn(r,a,f,c),a.child;case 6:return r===null&&et&&((r=c=At)&&(c=kP(c,a.pendingProps,ls),c!==null?(a.stateNode=c,Nn=a,At=null,r=!0):r=!1),r||Qo(a)),null;case 13:return ow(r,a,c);case 4:return ht(a,a.stateNode.containerInfo),f=a.pendingProps,r===null?a.child=dl(a,null,f,c):dn(r,a,f,c),a.child;case 11:return Z1(r,a,a.type,a.pendingProps,c);case 7:return dn(r,a,a.pendingProps,c),a.child;case 8:return dn(r,a,a.pendingProps.children,c),a.child;case 12:return dn(r,a,a.pendingProps.children,c),a.child;case 10:return f=a.pendingProps,Tr(a,a.type,f.value),dn(r,a,f.children,c),a.child;case 9:return m=a.type._context,f=a.pendingProps.children,Yo(a),m=xn(m),f=f(m),a.flags|=1,dn(r,a,f,c),a.child;case 14:return J1(r,a,a.type,a.pendingProps,c);case 15:return ew(r,a,a.type,a.pendingProps,c);case 19:return lw(r,a,c);case 31:return f=a.pendingProps,c=a.mode,f={mode:f.mode,children:f.children},r===null?(c=kf(f,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=js(r.child,f),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return tw(r,a,c);case 24:return Yo(a),f=xn(Xt),r===null?(m=jm(),m===null&&(m=_t,y=Gm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=c),m=y),a.memoizedState={parent:f,cache:m},Fm(a),Tr(a,Xt,m)):((r.lanes&c)!==0&&(qm(r,a),iu(a,null,null,c),nu()),m=r.memoizedState,y=a.memoizedState,m.parent!==f?(m={parent:f,cache:f},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Tr(a,Xt,f)):(f=y.cache,Tr(a,Xt,f),f!==m.cache&&Um(a,[Xt],c,!0))),dn(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Xs(r){r.flags|=4}function uw(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!_b(a)){if(a=Si.current,a!==null&&((Xe&4194048)===Xe?cs!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||a!==cs))throw eu=Hm,Q0;r.flags|=8192}}function Df(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Rc():536870912,r.lanes|=a,yl|=a)}function uu(r,a){if(!et)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Et(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(a)for(var m=r.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=f,r.childLanes=c,a}function sP(r,a,c){var f=a.pendingProps;switch(Vm(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(a),null;case 1:return Et(a),null;case 3:return c=a.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),$s(Xt),hi(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Qc(a)?Xs(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,j0())),Et(a),null;case 26:return c=a.memoizedState,r===null?(Xs(a),c!==null?(Et(a),uw(a,c)):(Et(a),a.flags&=-16777217)):c?c!==r.memoizedState?(Xs(a),Et(a),uw(a,c)):(Et(a),a.flags&=-16777217):(r.memoizedProps!==f&&Xs(a),Et(a),a.flags&=-16777217),null;case 27:Di(a),c=Re.current;var m=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==f&&Xs(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Et(a),null}r=be.current,Qc(a)?G0(a):(r=ub(m,f,c),a.stateNode=r,Xs(a))}return Et(a),null;case 5:if(Di(a),c=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==f&&Xs(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Et(a),null}if(r=be.current,Qc(a))G0(a);else{switch(m=$f(Re.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?m.createElement(c,{is:f.is}):m.createElement(c)}}r[Qt]=a,r[Ut]=f;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=r;e:switch(mn(r,c,f),c){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Xs(a)}}return Et(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==f&&Xs(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(r=Re.current,Qc(a)){if(r=a.stateNode,c=a.memoizedProps,f=null,m=Nn,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}r[Qt]=a,r=!!(r.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||ib(r.nodeValue,c)),r||Qo(a)}else r=$f(r).createTextNode(f),r[Qt]=a,a.stateNode=r}return Et(a),null;case 13:if(f=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Qc(a),f!==null&&f.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Qt]=a}else Kc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Et(a),m=!1}else m=j0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Ks(a),a):(Ks(a),null)}if(Ks(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=f!==null,r=r!==null&&r.memoizedState!==null,c){f=a.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==m&&(f.flags|=2048)}return c!==r&&c&&(a.child.flags|=8192),Df(a,a.updateQueue),Et(a),null;case 4:return hi(),r===null&&Qg(a.stateNode.containerInfo),Et(a),null;case 10:return $s(a.type),Et(a),null;case 19:if(fe(Wt),m=a.memoizedState,m===null)return Et(a),null;if(f=(a.flags&128)!==0,y=m.rendering,y===null)if(f)uu(m,!1);else{if(Rt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=Cf(r),y!==null){for(a.flags|=128,uu(m,!1),r=y.updateQueue,a.updateQueue=r,Df(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)z0(c,r),c=c.sibling;return ue(Wt,Wt.current&1|2),a.child}r=r.sibling}m.tail!==null&&fi()>Nf&&(a.flags|=128,f=!0,uu(m,!1),a.lanes=4194304)}else{if(!f)if(r=Cf(y),r!==null){if(a.flags|=128,f=!0,r=r.updateQueue,a.updateQueue=r,Df(a,r),uu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!et)return Et(a),null}else 2*fi()-m.renderingStartTime>Nf&&c!==536870912&&(a.flags|=128,f=!0,uu(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(r=m.last,r!==null?r.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=fi(),a.sibling=null,r=Wt.current,ue(Wt,f?r&1|2:r&1),a):(Et(a),null);case 22:case 23:return Ks(a),Ym(),f=a.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(c&536870912)!==0&&(a.flags&128)===0&&(Et(a),a.subtreeFlags&6&&(a.flags|=8192)):Et(a),c=a.updateQueue,c!==null&&Df(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==c&&(a.flags|=2048),r!==null&&fe(Xo),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),$s(Xt),Et(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function rP(r,a){switch(Vm(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return $s(Xt),hi(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Di(a),null;case 13:if(Ks(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Kc()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return fe(Wt),null;case 4:return hi(),null;case 10:return $s(a.type),null;case 22:case 23:return Ks(a),Ym(),r!==null&&fe(Xo),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return $s(Xt),null;case 25:return null;default:return null}}function hw(r,a){switch(Vm(a),a.tag){case 3:$s(Xt),hi();break;case 26:case 27:case 5:Di(a);break;case 4:hi();break;case 13:Ks(a);break;case 19:fe(Wt);break;case 10:$s(a.type);break;case 22:case 23:Ks(a),Ym(),r!==null&&fe(Xo);break;case 24:$s(Xt)}}function hu(r,a){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&r)===r){f=void 0;var y=c.create,T=c.inst;f=y(),T.destroy=f}c=c.next}while(c!==m)}}catch(R){yt(a,a.return,R)}}function Or(r,a,c){try{var f=a.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var y=m.next;f=y;do{if((f.tag&r)===r){var T=f.inst,R=T.destroy;if(R!==void 0){T.destroy=void 0,m=a;var M=c,K=R;try{K()}catch(ie){yt(m,M,ie)}}}f=f.next}while(f!==y)}}catch(ie){yt(a,a.return,ie)}}function fw(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{J0(a,c)}catch(f){yt(r,r.return,f)}}}function dw(r,a,c){c.props=Zo(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(f){yt(r,a,f)}}function fu(r,a){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof c=="function"?r.refCleanup=c(f):c.current=f}}catch(m){yt(r,a,m)}}function us(r,a){var c=r.ref,f=r.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(m){yt(r,a,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){yt(r,a,m)}else c.current=null}function pw(r){var a=r.type,c=r.memoizedProps,f=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(m){yt(r,r.return,m)}}function Eg(r,a,c){try{var f=r.stateNode;AP(f,r.type,c,a),f[Ut]=a}catch(m){yt(r,r.return,m)}}function mw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ur(r.type)||r.tag===4}function Tg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||mw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ur(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function xg(r,a,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(r),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=qf));else if(f!==4&&(f===27&&Ur(r.type)&&(c=r.stateNode,a=null),r=r.child,r!==null))for(xg(r,a,c),r=r.sibling;r!==null;)xg(r,a,c),r=r.sibling}function Mf(r,a,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(f!==4&&(f===27&&Ur(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Mf(r,a,c),r=r.sibling;r!==null;)Mf(r,a,c),r=r.sibling}function gw(r){var a=r.stateNode,c=r.memoizedProps;try{for(var f=r.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);mn(a,f,c),a[Qt]=r,a[Ut]=c}catch(y){yt(r,r.return,y)}}var Ws=!1,Dt=!1,Ag=!1,yw=typeof WeakSet=="function"?WeakSet:Set,on=null;function oP(r,a){if(r=r.containerInfo,Xg=Zf,r=C0(r),Tm(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var m=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var T=0,R=-1,M=-1,K=0,ie=0,re=r,Y=null;t:for(;;){for(var Z;re!==c||m!==0&&re.nodeType!==3||(R=T+m),re!==y||f!==0&&re.nodeType!==3||(M=T+f),re.nodeType===3&&(T+=re.nodeValue.length),(Z=re.firstChild)!==null;)Y=re,re=Z;for(;;){if(re===r)break t;if(Y===c&&++K===m&&(R=T),Y===y&&++ie===f&&(M=T),(Z=re.nextSibling)!==null)break;re=Y,Y=re.parentNode}re=Z}c=R===-1||M===-1?null:{start:R,end:M}}else c=null}c=c||{start:0,end:0}}else c=null;for(Wg={focusedElem:r,selectionRange:c},Zf=!1,on=a;on!==null;)if(a=on,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,on=r;else for(;on!==null;){switch(a=on,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,c=a,m=y.memoizedProps,y=y.memoizedState,f=c.stateNode;try{var Ce=Zo(c.type,m,c.elementType===c.type);r=f.getSnapshotBeforeUpdate(Ce,y),f.__reactInternalSnapshotBeforeUpdate=r}catch(Se){yt(c,c.return,Se)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)ey(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ey(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,on=r;break}on=a.return}}function _w(r,a,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:kr(r,c),f&4&&hu(5,c);break;case 1:if(kr(r,c),f&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(T){yt(c,c.return,T)}else{var m=Zo(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(m,a,r.__reactInternalSnapshotBeforeUpdate)}catch(T){yt(c,c.return,T)}}f&64&&fw(c),f&512&&fu(c,c.return);break;case 3:if(kr(r,c),f&64&&(r=c.updateQueue,r!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{J0(r,a)}catch(T){yt(c,c.return,T)}}break;case 27:a===null&&f&4&&gw(c);case 26:case 5:kr(r,c),a===null&&f&4&&pw(c),f&512&&fu(c,c.return);break;case 12:kr(r,c);break;case 13:kr(r,c),f&4&&bw(r,c),f&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=mP.bind(null,c),DP(r,c))));break;case 22:if(f=c.memoizedState!==null||Ws,!f){a=a!==null&&a.memoizedState!==null||Dt,m=Ws;var y=Dt;Ws=f,(Dt=a)&&!y?Dr(r,c,(c.subtreeFlags&8772)!==0):kr(r,c),Ws=m,Dt=y}break;case 30:break;default:kr(r,c)}}function vw(r){var a=r.alternate;a!==null&&(r.alternate=null,vw(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&wr(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var bt=null,jn=!1;function Zs(r,a,c){for(c=c.child;c!==null;)ww(r,a,c),c=c.sibling}function ww(r,a,c){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(xt,c)}catch{}switch(c.tag){case 26:Dt||us(c,a),Zs(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Dt||us(c,a);var f=bt,m=jn;Ur(c.type)&&(bt=c.stateNode,jn=!1),Zs(r,a,c),bu(c.stateNode),bt=f,jn=m;break;case 5:Dt||us(c,a);case 6:if(f=bt,m=jn,bt=null,Zs(r,a,c),bt=f,jn=m,bt!==null)if(jn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(c.stateNode)}catch(y){yt(c,a,y)}else try{bt.removeChild(c.stateNode)}catch(y){yt(c,a,y)}break;case 18:bt!==null&&(jn?(r=bt,lb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Pu(r)):lb(bt,c.stateNode));break;case 4:f=bt,m=jn,bt=c.stateNode.containerInfo,jn=!0,Zs(r,a,c),bt=f,jn=m;break;case 0:case 11:case 14:case 15:Dt||Or(2,c,a),Dt||Or(4,c,a),Zs(r,a,c);break;case 1:Dt||(us(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"&&dw(c,a,f)),Zs(r,a,c);break;case 21:Zs(r,a,c);break;case 22:Dt=(f=Dt)||c.memoizedState!==null,Zs(r,a,c),Dt=f;break;default:Zs(r,a,c)}}function bw(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Pu(r)}catch(c){yt(a,a.return,c)}}function aP(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new yw),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new yw),a;default:throw Error(i(435,r.tag))}}function Rg(r,a){var c=aP(r);a.forEach(function(f){var m=gP.bind(null,r,f);c.has(f)||(c.add(f),f.then(m,m))})}function ni(r,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var m=c[f],y=r,T=a,R=T;e:for(;R!==null;){switch(R.tag){case 27:if(Ur(R.type)){bt=R.stateNode,jn=!1;break e}break;case 5:bt=R.stateNode,jn=!1;break e;case 3:case 4:bt=R.stateNode.containerInfo,jn=!0;break e}R=R.return}if(bt===null)throw Error(i(160));ww(y,T,m),bt=null,jn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Sw(a,r),a=a.sibling}var zi=null;function Sw(r,a){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ni(a,r),ii(r),f&4&&(Or(3,r,r.return),hu(3,r),Or(5,r,r.return));break;case 1:ni(a,r),ii(r),f&512&&(Dt||c===null||us(c,c.return)),f&64&&Ws&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var m=zi;if(ni(a,r),ii(r),f&512&&(Dt||c===null||us(c,c.return)),f&4){var y=c!==null?c.memoizedState:null;if(f=r.memoizedState,c===null)if(f===null)if(r.stateNode===null){e:{f=r.type,c=r.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Ro]||y[Qt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(f),m.head.insertBefore(y,m.querySelector("head > title"))),mn(y,f,c),y[Qt]=r,Ot(y),f=y;break e;case"link":var T=gb("link","href",m).get(f+(c.href||""));if(T){for(var R=0;R<T.length;R++)if(y=T[R],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(R,1);break t}}y=m.createElement(f),mn(y,f,c),m.head.appendChild(y);break;case"meta":if(T=gb("meta","content",m).get(f+(c.content||""))){for(R=0;R<T.length;R++)if(y=T[R],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(R,1);break t}}y=m.createElement(f),mn(y,f,c),m.head.appendChild(y);break;default:throw Error(i(468,f))}y[Qt]=r,Ot(y),f=y}r.stateNode=f}else yb(m,r.type,r.stateNode);else r.stateNode=mb(m,f,r.memoizedProps);else y!==f?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,f===null?yb(m,r.type,r.stateNode):mb(m,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Eg(r,r.memoizedProps,c.memoizedProps)}break;case 27:ni(a,r),ii(r),f&512&&(Dt||c===null||us(c,c.return)),c!==null&&f&4&&Eg(r,r.memoizedProps,c.memoizedProps);break;case 5:if(ni(a,r),ii(r),f&512&&(Dt||c===null||us(c,c.return)),r.flags&32){m=r.stateNode;try{pi(m,"")}catch(Z){yt(r,r.return,Z)}}f&4&&r.stateNode!=null&&(m=r.memoizedProps,Eg(r,m,c!==null?c.memoizedProps:m)),f&1024&&(Ag=!0);break;case 6:if(ni(a,r),ii(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,c=r.stateNode;try{c.nodeValue=f}catch(Z){yt(r,r.return,Z)}}break;case 3:if(Yf=null,m=zi,zi=Qf(a.containerInfo),ni(a,r),zi=m,ii(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Pu(a.containerInfo)}catch(Z){yt(r,r.return,Z)}Ag&&(Ag=!1,Ew(r));break;case 4:f=zi,zi=Qf(r.stateNode.containerInfo),ni(a,r),ii(r),zi=f;break;case 12:ni(a,r),ii(r);break;case 13:ni(a,r),ii(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Dg=fi()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Rg(r,f)));break;case 22:m=r.memoizedState!==null;var M=c!==null&&c.memoizedState!==null,K=Ws,ie=Dt;if(Ws=K||m,Dt=ie||M,ni(a,r),Dt=ie,Ws=K,ii(r),f&8192)e:for(a=r.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(c===null||M||Ws||Dt||Jo(r)),c=null,a=r;;){if(a.tag===5||a.tag===26){if(c===null){M=c=a;try{if(y=M.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{R=M.stateNode;var re=M.memoizedProps.style,Y=re!=null&&re.hasOwnProperty("display")?re.display:null;R.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Z){yt(M,M.return,Z)}}}else if(a.tag===6){if(c===null){M=a;try{M.stateNode.nodeValue=m?"":M.memoizedProps}catch(Z){yt(M,M.return,Z)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=r.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Rg(r,c))));break;case 19:ni(a,r),ii(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Rg(r,f)));break;case 30:break;case 21:break;default:ni(a,r),ii(r)}}function ii(r){var a=r.flags;if(a&2){try{for(var c,f=r.return;f!==null;){if(mw(f)){c=f;break}f=f.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var m=c.stateNode,y=Tg(r);Mf(r,y,m);break;case 5:var T=c.stateNode;c.flags&32&&(pi(T,""),c.flags&=-33);var R=Tg(r);Mf(r,R,T);break;case 3:case 4:var M=c.stateNode.containerInfo,K=Tg(r);xg(r,K,M);break;default:throw Error(i(161))}}catch(ie){yt(r,r.return,ie)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Ew(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Ew(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function kr(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)_w(r,a.alternate,a),a=a.sibling}function Jo(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Or(4,a,a.return),Jo(a);break;case 1:us(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&dw(a,a.return,c),Jo(a);break;case 27:bu(a.stateNode);case 26:case 5:us(a,a.return),Jo(a);break;case 22:a.memoizedState===null&&Jo(a);break;case 30:Jo(a);break;default:Jo(a)}r=r.sibling}}function Dr(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,m=r,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:Dr(m,y,c),hu(4,y);break;case 1:if(Dr(m,y,c),f=y,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){yt(f,f.return,K)}if(f=y,m=f.updateQueue,m!==null){var R=f.stateNode;try{var M=m.shared.hiddenCallbacks;if(M!==null)for(m.shared.hiddenCallbacks=null,m=0;m<M.length;m++)Z0(M[m],R)}catch(K){yt(f,f.return,K)}}c&&T&64&&fw(y),fu(y,y.return);break;case 27:gw(y);case 26:case 5:Dr(m,y,c),c&&f===null&&T&4&&pw(y),fu(y,y.return);break;case 12:Dr(m,y,c);break;case 13:Dr(m,y,c),c&&T&4&&bw(m,y);break;case 22:y.memoizedState===null&&Dr(m,y,c),fu(y,y.return);break;case 30:break;default:Dr(m,y,c)}a=a.sibling}}function Cg(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&Wc(c))}function Pg(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Wc(r))}function hs(r,a,c,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Tw(r,a,c,f),a=a.sibling}function Tw(r,a,c,f){var m=a.flags;switch(a.tag){case 0:case 11:case 15:hs(r,a,c,f),m&2048&&hu(9,a);break;case 1:hs(r,a,c,f);break;case 3:hs(r,a,c,f),m&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Wc(r)));break;case 12:if(m&2048){hs(r,a,c,f),r=a.stateNode;try{var y=a.memoizedProps,T=y.id,R=y.onPostCommit;typeof R=="function"&&R(T,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(M){yt(a,a.return,M)}}else hs(r,a,c,f);break;case 13:hs(r,a,c,f);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?hs(r,a,c,f):du(r,a):y._visibility&2?hs(r,a,c,f):(y._visibility|=2,pl(r,a,c,f,(a.subtreeFlags&10256)!==0)),m&2048&&Cg(T,a);break;case 24:hs(r,a,c,f),m&2048&&Pg(a.alternate,a);break;default:hs(r,a,c,f)}}function pl(r,a,c,f,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,T=a,R=c,M=f,K=T.flags;switch(T.tag){case 0:case 11:case 15:pl(y,T,R,M,m),hu(8,T);break;case 23:break;case 22:var ie=T.stateNode;T.memoizedState!==null?ie._visibility&2?pl(y,T,R,M,m):du(y,T):(ie._visibility|=2,pl(y,T,R,M,m)),m&&K&2048&&Cg(T.alternate,T);break;case 24:pl(y,T,R,M,m),m&&K&2048&&Pg(T.alternate,T);break;default:pl(y,T,R,M,m)}a=a.sibling}}function du(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,f=a,m=f.flags;switch(f.tag){case 22:du(c,f),m&2048&&Cg(f.alternate,f);break;case 24:du(c,f),m&2048&&Pg(f.alternate,f);break;default:du(c,f)}a=a.sibling}}var pu=8192;function ml(r){if(r.subtreeFlags&pu)for(r=r.child;r!==null;)xw(r),r=r.sibling}function xw(r){switch(r.tag){case 26:ml(r),r.flags&pu&&r.memoizedState!==null&&$P(zi,r.memoizedState,r.memoizedProps);break;case 5:ml(r);break;case 3:case 4:var a=zi;zi=Qf(r.stateNode.containerInfo),ml(r),zi=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=pu,pu=16777216,ml(r),pu=a):ml(r));break;default:ml(r)}}function Aw(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function mu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];on=f,Cw(f,r)}Aw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Rw(r),r=r.sibling}function Rw(r){switch(r.tag){case 0:case 11:case 15:mu(r),r.flags&2048&&Or(9,r,r.return);break;case 3:mu(r);break;case 12:mu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Vf(r)):mu(r);break;default:mu(r)}}function Vf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];on=f,Cw(f,r)}Aw(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Or(8,a,a.return),Vf(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,Vf(a));break;default:Vf(a)}r=r.sibling}}function Cw(r,a){for(;on!==null;){var c=on;switch(c.tag){case 0:case 11:case 15:Or(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Wc(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,on=f;else e:for(c=r;on!==null;){f=on;var m=f.sibling,y=f.return;if(vw(f),f===c){on=null;break e}if(m!==null){m.return=y,on=m;break e}on=y}}}var lP={getCacheForType:function(r){var a=xn(Xt),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c}},cP=typeof WeakMap=="function"?WeakMap:Map,at=0,_t=null,He=null,Xe=0,lt=0,si=null,Mr=!1,gl=!1,Ig=!1,Js=0,Rt=0,Vr=0,ea=0,Og=0,Ei=0,yl=0,gu=null,Hn=null,kg=!1,Dg=0,Nf=1/0,Lf=null,Nr=null,pn=0,Lr=null,_l=null,vl=0,Mg=0,Vg=null,Pw=null,yu=0,Ng=null;function ri(){if((at&2)!==0&&Xe!==0)return Xe&-Xe;if(te.T!==null){var r=ol;return r!==0?r:Hg()}return _r()}function Iw(){Ei===0&&(Ei=(Xe&536870912)===0||et?Ac():536870912);var r=Si.current;return r!==null&&(r.flags|=32),Ei}function oi(r,a,c){(r===_t&&(lt===2||lt===9)||r.cancelPendingCommit!==null)&&(wl(r,0),zr(r,Xe,Ei,!1)),Os(r,c),((at&2)===0||r!==_t)&&(r===_t&&((at&2)===0&&(ea|=c),Rt===4&&zr(r,Xe,Ei,!1)),fs(r))}function Ow(r,a,c){if((at&6)!==0)throw Error(i(327));var f=!c&&(a&124)===0&&(a&r.expiredLanes)===0||Ao(r,a),m=f?fP(r,a):Ug(r,a,!0),y=f;do{if(m===0){gl&&!f&&zr(r,a,0,!1);break}else{if(c=r.current.alternate,y&&!uP(c)){m=Ug(r,a,!1),y=!1;continue}if(m===2){if(y=a,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var R=r;m=gu;var M=R.current.memoizedState.isDehydrated;if(M&&(wl(R,T).flags|=256),T=Ug(R,T,!1),T!==2){if(Ig&&!M){R.errorRecoveryDisabledLanes|=y,ea|=y,m=4;break e}y=Hn,Hn=m,y!==null&&(Hn===null?Hn=y:Hn.push.apply(Hn,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){wl(r,0),zr(r,a,0,!0);break}e:{switch(f=r,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:zr(f,a,Ei,!Mr);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Dg+300-fi(),10<m)){if(zr(f,a,Ei,!Mr),La(f,0,!0)!==0)break e;f.timeoutHandle=ob(kw.bind(null,f,c,Hn,Lf,kg,a,Ei,ea,yl,Mr,y,2,-0,0),m);break e}kw(f,c,Hn,Lf,kg,a,Ei,ea,yl,Mr,y,0,-0,0)}}break}while(!0);fs(r)}function kw(r,a,c,f,m,y,T,R,M,K,ie,re,Y,Z){if(r.timeoutHandle=-1,re=a.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Tu={stylesheets:null,count:0,unsuspend:qP},xw(a),re=QP(),re!==null)){r.cancelPendingCommit=re(Uw.bind(null,r,a,y,c,f,m,T,R,M,ie,1,Y,Z)),zr(r,y,T,!K);return}Uw(r,a,y,c,f,m,T,R,M)}function uP(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var m=c[f],y=m.getSnapshot;m=m.value;try{if(!ei(y(),m))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function zr(r,a,c,f){a&=~Og,a&=~ea,r.suspendedLanes|=a,r.pingedLanes&=~a,f&&(r.warmLanes|=a),f=r.expirationTimes;for(var m=a;0<m;){var y=31-Tn(m),T=1<<y;f[y]=-1,m&=~T}c!==0&&Wi(r,c,a)}function zf(){return(at&6)===0?(_u(0),!1):!0}function Lg(){if(He!==null){if(lt===0)var r=He.return;else r=He,qs=Ko=null,eg(r),fl=null,lu=0,r=He;for(;r!==null;)hw(r.alternate,r),r=r.return;He=null}}function wl(r,a){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,CP(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Lg(),_t=r,He=c=js(r.current,null),Xe=a,lt=0,si=null,Mr=!1,gl=Ao(r,a),Ig=!1,yl=Ei=Og=ea=Vr=Rt=0,Hn=gu=null,kg=!1,(a&8)!==0&&(a|=a&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=a;0<f;){var m=31-Tn(f),y=1<<m;a|=r[m],f&=~y}return Js=a,of(),c}function Dw(r,a){Ne=null,te.H=xf,a===Jc||a===mf?(a=X0(),lt=3):a===Q0?(a=X0(),lt=4):lt=a===W1?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,si=a,He===null&&(Rt=1,If(r,_i(a,r.current)))}function Mw(){var r=te.H;return te.H=xf,r===null?xf:r}function Vw(){var r=te.A;return te.A=lP,r}function zg(){Rt=4,Mr||(Xe&4194048)!==Xe&&Si.current!==null||(gl=!0),(Vr&134217727)===0&&(ea&134217727)===0||_t===null||zr(_t,Xe,Ei,!1)}function Ug(r,a,c){var f=at;at|=2;var m=Mw(),y=Vw();(_t!==r||Xe!==a)&&(Lf=null,wl(r,a)),a=!1;var T=Rt;e:do try{if(lt!==0&&He!==null){var R=He,M=si;switch(lt){case 8:Lg(),T=6;break e;case 3:case 2:case 9:case 6:Si.current===null&&(a=!0);var K=lt;if(lt=0,si=null,bl(r,R,M,K),c&&gl){T=0;break e}break;default:K=lt,lt=0,si=null,bl(r,R,M,K)}}hP(),T=Rt;break}catch(ie){Dw(r,ie)}while(!0);return a&&r.shellSuspendCounter++,qs=Ko=null,at=f,te.H=m,te.A=y,He===null&&(_t=null,Xe=0,of()),T}function hP(){for(;He!==null;)Nw(He)}function fP(r,a){var c=at;at|=2;var f=Mw(),m=Vw();_t!==r||Xe!==a?(Lf=null,Nf=fi()+500,wl(r,a)):gl=Ao(r,a);e:do try{if(lt!==0&&He!==null){a=He;var y=si;t:switch(lt){case 1:lt=0,si=null,bl(r,a,y,1);break;case 2:case 9:if(K0(y)){lt=0,si=null,Lw(a);break}a=function(){lt!==2&&lt!==9||_t!==r||(lt=7),fs(r)},y.then(a,a);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:K0(y)?(lt=0,si=null,Lw(a)):(lt=0,si=null,bl(r,a,y,7));break;case 5:var T=null;switch(He.tag){case 26:T=He.memoizedState;case 5:case 27:var R=He;if(!T||_b(T)){lt=0,si=null;var M=R.sibling;if(M!==null)He=M;else{var K=R.return;K!==null?(He=K,Uf(K)):He=null}break t}}lt=0,si=null,bl(r,a,y,5);break;case 6:lt=0,si=null,bl(r,a,y,6);break;case 8:Lg(),Rt=6;break e;default:throw Error(i(462))}}dP();break}catch(ie){Dw(r,ie)}while(!0);return qs=Ko=null,te.H=f,te.A=m,at=c,He!==null?0:(_t=null,Xe=0,of(),Rt)}function dP(){for(;He!==null&&!Sc();)Nw(He)}function Nw(r){var a=cw(r.alternate,r,Js);r.memoizedProps=r.pendingProps,a===null?Uf(r):He=a}function Lw(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=iw(c,a,a.pendingProps,a.type,void 0,Xe);break;case 11:a=iw(c,a,a.pendingProps,a.type.render,a.ref,Xe);break;case 5:eg(a);default:hw(c,a),a=He=z0(a,Js),a=cw(c,a,Js)}r.memoizedProps=r.pendingProps,a===null?Uf(r):He=a}function bl(r,a,c,f){qs=Ko=null,eg(a),fl=null,lu=0;var m=a.return;try{if(nP(r,m,a,c,Xe)){Rt=1,If(r,_i(c,r.current)),He=null;return}}catch(y){if(m!==null)throw He=m,y;Rt=1,If(r,_i(c,r.current)),He=null;return}a.flags&32768?(et||f===1?r=!0:gl||(Xe&536870912)!==0?r=!1:(Mr=r=!0,(f===2||f===9||f===3||f===6)&&(f=Si.current,f!==null&&f.tag===13&&(f.flags|=16384))),zw(a,r)):Uf(a)}function Uf(r){var a=r;do{if((a.flags&32768)!==0){zw(a,Mr);return}r=a.return;var c=sP(a.alternate,a,Js);if(c!==null){He=c;return}if(a=a.sibling,a!==null){He=a;return}He=a=r}while(a!==null);Rt===0&&(Rt=5)}function zw(r,a){do{var c=rP(r.alternate,r);if(c!==null){c.flags&=32767,He=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){He=r;return}He=r=c}while(r!==null);Rt=6,He=null}function Uw(r,a,c,f,m,y,T,R,M){r.cancelPendingCommit=null;do Gf();while(pn!==0);if((at&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Pm,Cc(r,c,y,T,R,M),r===_t&&(He=_t=null,Xe=0),_l=a,Lr=r,vl=c,Mg=y,Vg=m,Pw=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,yP(So,function(){return Fw(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=te.T,te.T=null,m=he.p,he.p=2,T=at,at|=4;try{oP(r,a,c)}finally{at=T,he.p=m,te.T=f}}pn=1,Gw(),Bw(),jw()}}function Gw(){if(pn===1){pn=0;var r=Lr,a=_l,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=te.T,te.T=null;var f=he.p;he.p=2;var m=at;at|=4;try{Sw(a,r);var y=Wg,T=C0(r.containerInfo),R=y.focusedElem,M=y.selectionRange;if(T!==R&&R&&R.ownerDocument&&R0(R.ownerDocument.documentElement,R)){if(M!==null&&Tm(R)){var K=M.start,ie=M.end;if(ie===void 0&&(ie=K),"selectionStart"in R)R.selectionStart=K,R.selectionEnd=Math.min(ie,R.value.length);else{var re=R.ownerDocument||document,Y=re&&re.defaultView||window;if(Y.getSelection){var Z=Y.getSelection(),Ce=R.textContent.length,Se=Math.min(M.start,Ce),mt=M.end===void 0?Se:Math.min(M.end,Ce);!Z.extend&&Se>mt&&(T=mt,mt=Se,Se=T);var F=A0(R,Se),B=A0(R,mt);if(F&&B&&(Z.rangeCount!==1||Z.anchorNode!==F.node||Z.anchorOffset!==F.offset||Z.focusNode!==B.node||Z.focusOffset!==B.offset)){var Q=re.createRange();Q.setStart(F.node,F.offset),Z.removeAllRanges(),Se>mt?(Z.addRange(Q),Z.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),Z.addRange(Q))}}}}for(re=[],Z=R;Z=Z.parentNode;)Z.nodeType===1&&re.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<re.length;R++){var se=re[R];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Zf=!!Xg,Wg=Xg=null}finally{at=m,he.p=f,te.T=c}}r.current=a,pn=2}}function Bw(){if(pn===2){pn=0;var r=Lr,a=_l,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=te.T,te.T=null;var f=he.p;he.p=2;var m=at;at|=4;try{_w(r,a.alternate,a)}finally{at=m,he.p=f,te.T=c}}pn=3}}function jw(){if(pn===4||pn===3){pn=0,Mh();var r=Lr,a=_l,c=vl,f=Pw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?pn=5:(pn=0,_l=Lr=null,Hw(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Nr=null),za(c),a=a.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(xt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=te.T,m=he.p,he.p=2,te.T=null;try{for(var y=r.onRecoverableError,T=0;T<f.length;T++){var R=f[T];y(R.value,{componentStack:R.stack})}}finally{te.T=a,he.p=m}}(vl&3)!==0&&Gf(),fs(r),m=r.pendingLanes,(c&4194090)!==0&&(m&42)!==0?r===Ng?yu++:(yu=0,Ng=r):yu=0,_u(0)}}function Hw(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Wc(a)))}function Gf(r){return Gw(),Bw(),jw(),Fw()}function Fw(){if(pn!==5)return!1;var r=Lr,a=Mg;Mg=0;var c=za(vl),f=te.T,m=he.p;try{he.p=32>c?32:c,te.T=null,c=Vg,Vg=null;var y=Lr,T=vl;if(pn=0,_l=Lr=null,vl=0,(at&6)!==0)throw Error(i(331));var R=at;if(at|=4,Rw(y.current),Tw(y,y.current,T,c),at=R,_u(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(xt,y)}catch{}return!0}finally{he.p=m,te.T=f,Hw(r,a)}}function qw(r,a,c){a=_i(c,a),a=pg(r.stateNode,a,2),r=Rr(r,a,2),r!==null&&(Os(r,2),fs(r))}function yt(r,a,c){if(r.tag===3)qw(r,r,c);else for(;a!==null;){if(a.tag===3){qw(a,r,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Nr===null||!Nr.has(f))){r=_i(c,r),c=Y1(2),f=Rr(a,c,2),f!==null&&(X1(c,f,a,r),Os(f,2),fs(f));break}}a=a.return}}function Gg(r,a,c){var f=r.pingCache;if(f===null){f=r.pingCache=new cP;var m=new Set;f.set(a,m)}else m=f.get(a),m===void 0&&(m=new Set,f.set(a,m));m.has(c)||(Ig=!0,m.add(c),r=pP.bind(null,r,a,c),a.then(r,r))}function pP(r,a,c){var f=r.pingCache;f!==null&&f.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,_t===r&&(Xe&c)===c&&(Rt===4||Rt===3&&(Xe&62914560)===Xe&&300>fi()-Dg?(at&2)===0&&wl(r,0):Og|=c,yl===Xe&&(yl=0)),fs(r)}function $w(r,a){a===0&&(a=Rc()),r=nl(r,a),r!==null&&(Os(r,a),fs(r))}function mP(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),$w(r,c)}function gP(r,a){var c=0;switch(r.tag){case 13:var f=r.stateNode,m=r.memoizedState;m!==null&&(c=m.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),$w(r,c)}function yP(r,a){return wo(r,a)}var Bf=null,Sl=null,Bg=!1,jf=!1,jg=!1,ta=0;function fs(r){r!==Sl&&r.next===null&&(Sl===null?Bf=Sl=r:Sl=Sl.next=r),jf=!0,Bg||(Bg=!0,vP())}function _u(r,a){if(!jg&&jf){jg=!0;do for(var c=!1,f=Bf;f!==null;){if(r!==0){var m=f.pendingLanes;if(m===0)var y=0;else{var T=f.suspendedLanes,R=f.pingedLanes;y=(1<<31-Tn(42|r)+1)-1,y&=m&~(T&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,Xw(f,y))}else y=Xe,y=La(f,f===_t?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||Ao(f,y)||(c=!0,Xw(f,y));f=f.next}while(c);jg=!1}}function _P(){Qw()}function Qw(){jf=Bg=!1;var r=0;ta!==0&&(RP()&&(r=ta),ta=0);for(var a=fi(),c=null,f=Bf;f!==null;){var m=f.next,y=Kw(f,a);y===0?(f.next=null,c===null?Bf=m:c.next=m,m===null&&(Sl=c)):(c=f,(r!==0||(y&3)!==0)&&(jf=!0)),f=m}_u(r)}function Kw(r,a){for(var c=r.suspendedLanes,f=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-Tn(y),R=1<<T,M=m[T];M===-1?((R&c)===0||(R&f)!==0)&&(m[T]=xc(R,a)):M<=a&&(r.expiredLanes|=R),y&=~R}if(a=_t,c=Xe,c=La(r,r===a?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,c===0||r===a&&(lt===2||lt===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&bo(f),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Ao(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(f!==null&&bo(f),za(c)){case 2:case 8:c=Va;break;case 32:c=So;break;case 268435456:c=Na;break;default:c=So}return f=Yw.bind(null,r),c=wo(c,f),r.callbackPriority=a,r.callbackNode=c,a}return f!==null&&f!==null&&bo(f),r.callbackPriority=2,r.callbackNode=null,2}function Yw(r,a){if(pn!==0&&pn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Gf()&&r.callbackNode!==c)return null;var f=Xe;return f=La(r,r===_t?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(Ow(r,f,a),Kw(r,fi()),r.callbackNode!=null&&r.callbackNode===c?Yw.bind(null,r):null)}function Xw(r,a){if(Gf())return null;Ow(r,a,!0)}function vP(){PP(function(){(at&6)!==0?wo(Ec,_P):Qw()})}function Hg(){return ta===0&&(ta=Ac()),ta}function Ww(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Fa(""+r)}function Zw(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function wP(r,a,c,f,m){if(a==="submit"&&c&&c.stateNode===m){var y=Ww((m[Ut]||null).action),T=f.submitter;T&&(a=(a=T[Ut]||null)?Ww(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var R=new qa("action","action",null,f,m);r.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ta!==0){var M=T?Zw(m,T):new FormData(m);cg(c,{pending:!0,data:M,method:m.method,action:y},null,M)}}else typeof y=="function"&&(R.preventDefault(),M=T?Zw(m,T):new FormData(m),cg(c,{pending:!0,data:M,method:m.method,action:y},y,M))},currentTarget:m}]})}}for(var Fg=0;Fg<Cm.length;Fg++){var qg=Cm[Fg],bP=qg.toLowerCase(),SP=qg[0].toUpperCase()+qg.slice(1);Li(bP,"on"+SP)}Li(O0,"onAnimationEnd"),Li(k0,"onAnimationIteration"),Li(D0,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(UC,"onTransitionRun"),Li(GC,"onTransitionStart"),Li(BC,"onTransitionCancel"),Li(M0,"onTransitionEnd"),Ds("onMouseEnter",["mouseout","mouseover"]),Ds("onMouseLeave",["mouseout","mouseover"]),Ds("onPointerEnter",["pointerout","pointerover"]),Ds("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vu));function Jw(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],m=f.event;f=f.listeners;e:{var y=void 0;if(a)for(var T=f.length-1;0<=T;T--){var R=f[T],M=R.instance,K=R.currentTarget;if(R=R.listener,M!==y&&m.isPropagationStopped())break e;y=R,m.currentTarget=K;try{y(m)}catch(ie){Pf(ie)}m.currentTarget=null,y=M}else for(T=0;T<f.length;T++){if(R=f[T],M=R.instance,K=R.currentTarget,R=R.listener,M!==y&&m.isPropagationStopped())break e;y=R,m.currentTarget=K;try{y(m)}catch(ie){Pf(ie)}m.currentTarget=null,y=M}}}}function Fe(r,a){var c=a[Ic];c===void 0&&(c=a[Ic]=new Set);var f=r+"__bubble";c.has(f)||(eb(a,r,2,!1),c.add(f))}function $g(r,a,c){var f=0;a&&(f|=4),eb(c,r,f,a)}var Hf="_reactListening"+Math.random().toString(36).slice(2);function Qg(r){if(!r[Hf]){r[Hf]=!0,Oc.forEach(function(c){c!=="selectionchange"&&(EP.has(c)||$g(c,!1,r),$g(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Hf]||(a[Hf]=!0,$g("selectionchange",!1,a))}}function eb(r,a,c,f){switch(Tb(a)){case 2:var m=XP;break;case 8:m=WP;break;default:m=ay}c=m.bind(null,a,c,r),m=void 0,!gi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),f?m!==void 0?r.addEventListener(a,c,{capture:!0,passive:m}):r.addEventListener(a,c,!0):m!==void 0?r.addEventListener(a,c,{passive:m}):r.addEventListener(a,c,!1)}function Kg(r,a,c,f,m){var y=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var R=f.stateNode.containerInfo;if(R===m)break;if(T===4)for(T=f.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;R!==null;){if(T=ks(R),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){f=y=T;continue e}R=R.parentNode}}f=f.return}Fh(function(){var K=y,ie=mi(c),re=[];e:{var Y=V0.get(r);if(Y!==void 0){var Z=qa,Ce=r;switch(r){case"keypress":if(is(c)===0)break e;case"keydown":case"keyup":Z=Wa;break;case"focusin":Ce="focus",Z=Ka;break;case"focusout":Ce="blur",Z=Ka;break;case"beforeblur":case"afterblur":Z=Ka;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=yi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=wm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Zh;break;case O0:case k0:case D0:Z=Ya;break;case M0:Z=ef;break;case"scroll":case"scrollend":Z=qh;break;case"wheel":Z=Za;break;case"copy":case"cut":case"paste":Z=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Hc;break;case"toggle":case"beforetoggle":Z=nf}var Se=(a&4)!==0,mt=!Se&&(r==="scroll"||r==="scrollend"),F=Se?Y!==null?Y+"Capture":null:Y;Se=[];for(var B=K,Q;B!==null;){var se=B;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||F===null||(se=Mo(B,F),se!=null&&Se.push(wu(B,se,Q))),mt)break;B=B.return}0<Se.length&&(Y=new Z(Y,Ce,null,c,ie),re.push({event:Y,listeners:Se}))}}if((a&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",Y&&c!==Ns&&(Ce=c.relatedTarget||c.fromElement)&&(ks(Ce)||Ce[di]))break e;if((Z||Y)&&(Y=ie.window===ie?ie:(Y=ie.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(Ce=c.relatedTarget||c.toElement,Z=K,Ce=Ce?ks(Ce):null,Ce!==null&&(mt=o(Ce),Se=Ce.tag,Ce!==mt||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(Z=null,Ce=K),Z!==Ce)){if(Se=yi,se="onMouseLeave",F="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Se=Hc,se="onPointerLeave",F="onPointerEnter",B="pointer"),mt=Z==null?Y:Ji(Z),Q=Ce==null?Y:Ji(Ce),Y=new Se(se,B+"leave",Z,c,ie),Y.target=mt,Y.relatedTarget=Q,se=null,ks(ie)===K&&(Se=new Se(F,B+"enter",Ce,c,ie),Se.target=Q,Se.relatedTarget=mt,se=Se),mt=se,Z&&Ce)t:{for(Se=Z,F=Ce,B=0,Q=Se;Q;Q=El(Q))B++;for(Q=0,se=F;se;se=El(se))Q++;for(;0<B-Q;)Se=El(Se),B--;for(;0<Q-B;)F=El(F),Q--;for(;B--;){if(Se===F||F!==null&&Se===F.alternate)break t;Se=El(Se),F=El(F)}Se=null}else Se=null;Z!==null&&tb(re,Y,Z,Se,!1),Ce!==null&&mt!==null&&tb(re,mt,Ce,Se,!0)}}e:{if(Y=K?Ji(K):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var _e=w0;else if(Yt(Y))if(b0)_e=NC;else{_e=MC;var Be=DC}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Nc(K.elementType)&&(_e=w0):_e=VC;if(_e&&(_e=_e(r,K))){Bs(re,_e,c,ie);break e}Be&&Be(r,Y,K),r==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Sr(Y,"number",Y.value)}switch(Be=K?Ji(K):window,r){case"focusin":(Yt(Be)||Be.contentEditable==="true")&&(Ja=Be,xm=K,$c=null);break;case"focusout":$c=xm=Ja=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,P0(re,c,ie);break;case"selectionchange":if(zC)break;case"keydown":case"keyup":P0(re,c,ie)}var we;if(os)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ke?J(r,c)&&(xe="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(xe="onCompositionStart");xe&&(E&&c.locale!=="ko"&&(Ke||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ke&&(we=zc()):(ns=ie,Er="value"in ns?ns.value:ns.textContent,Ke=!0)),Be=Ff(K,xe),0<Be.length&&(xe=new Bc(xe,r,null,c,ie),re.push({event:xe,listeners:Be}),we?xe.data=we:(we=de(c),we!==null&&(xe.data=we)))),(we=w?Kt(r,c):Ye(r,c))&&(xe=Ff(K,"onBeforeInput"),0<xe.length&&(Be=new Bc("onBeforeInput","beforeinput",null,c,ie),re.push({event:Be,listeners:xe}),Be.data=we)),wP(re,r,K,c,ie)}Jw(re,a)})}function wu(r,a,c){return{instance:r,listener:a,currentTarget:c}}function Ff(r,a){for(var c=a+"Capture",f=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Mo(r,c),m!=null&&f.unshift(wu(r,m,y)),m=Mo(r,a),m!=null&&f.push(wu(r,m,y))),r.tag===3)return f;r=r.return}return[]}function El(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function tb(r,a,c,f,m){for(var y=a._reactName,T=[];c!==null&&c!==f;){var R=c,M=R.alternate,K=R.stateNode;if(R=R.tag,M!==null&&M===f)break;R!==5&&R!==26&&R!==27||K===null||(M=K,m?(K=Mo(c,y),K!=null&&T.unshift(wu(c,K,M))):m||(K=Mo(c,y),K!=null&&T.push(wu(c,K,M)))),c=c.return}T.length!==0&&r.push({event:a,listeners:T})}var TP=/\r\n?/g,xP=/\u0000|\uFFFD/g;function nb(r){return(typeof r=="string"?r:""+r).replace(TP,`
`).replace(xP,"")}function ib(r,a){return a=nb(a),nb(r)===a}function qf(){}function pt(r,a,c,f,m,y){switch(c){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||pi(r,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&pi(r,""+f);break;case"className":es(r,"class",f);break;case"tabIndex":es(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":es(r,c,f);break;case"style":Vc(r,f,y);break;case"data":if(a!=="object"){es(r,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=Fa(""+f),r.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&pt(r,a,"name",m.name,m,null),pt(r,a,"formEncType",m.formEncType,m,null),pt(r,a,"formMethod",m.formMethod,m,null),pt(r,a,"formTarget",m.formTarget,m,null)):(pt(r,a,"encType",m.encType,m,null),pt(r,a,"method",m.method,m,null),pt(r,a,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=Fa(""+f),r.setAttribute(c,f);break;case"onClick":f!=null&&(r.onclick=qf);break;case"onScroll":f!=null&&Fe("scroll",r);break;case"onScrollEnd":f!=null&&Fe("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}c=Fa(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""+f):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":f===!0?r.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,f):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(c,f):r.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(c):r.setAttribute(c,f);break;case"popover":Fe("beforetoggle",r),Fe("toggle",r),br(r,"popover",f);break;case"xlinkActuate":hn(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":hn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":hn(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":hn(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":hn(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":hn(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":hn(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":hn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":hn(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":br(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=_m.get(c)||c,br(r,c,f))}}function Yg(r,a,c,f,m,y){switch(c){case"style":Vc(r,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof f=="string"?pi(r,f):(typeof f=="number"||typeof f=="bigint")&&pi(r,""+f);break;case"onScroll":f!=null&&Fe("scroll",r);break;case"onScrollEnd":f!=null&&Fe("scrollend",r);break;case"onClick":f!=null&&(r.onclick=qf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),a=c.slice(2,m?c.length-7:void 0),y=r[Ut]||null,y=y!=null?y[c]:null,typeof y=="function"&&r.removeEventListener(a,y,m),typeof f=="function")){typeof y!="function"&&y!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,f,m);break e}c in r?r[c]=f:f===!0?r.setAttribute(c,""):br(r,c,f)}}}function mn(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",r),Fe("load",r);var f=!1,m=!1,y;for(y in c)if(c.hasOwnProperty(y)){var T=c[y];if(T!=null)switch(y){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:pt(r,a,y,T,c,null)}}m&&pt(r,a,"srcSet",c.srcSet,c,null),f&&pt(r,a,"src",c.src,c,null);return;case"input":Fe("invalid",r);var R=y=T=m=null,M=null,K=null;for(f in c)if(c.hasOwnProperty(f)){var ie=c[f];if(ie!=null)switch(f){case"name":m=ie;break;case"type":T=ie;break;case"checked":M=ie;break;case"defaultChecked":K=ie;break;case"value":y=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,a));break;default:pt(r,a,f,ie,c,null)}}Oo(r,y,R,M,K,T,m,!1),Ha(r);return;case"select":Fe("invalid",r),f=T=y=null;for(m in c)if(c.hasOwnProperty(m)&&(R=c[m],R!=null))switch(m){case"value":y=R;break;case"defaultValue":T=R;break;case"multiple":f=R;default:pt(r,a,m,R,c,null)}a=y,c=T,r.multiple=!!f,a!=null?Vs(r,!!f,a,!1):c!=null&&Vs(r,!!f,c,!0);return;case"textarea":Fe("invalid",r),y=m=f=null;for(T in c)if(c.hasOwnProperty(T)&&(R=c[T],R!=null))switch(T){case"value":f=R;break;case"defaultValue":m=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:pt(r,a,T,R,c,null)}ko(r,f,m,y),Ha(r);return;case"option":for(M in c)if(c.hasOwnProperty(M)&&(f=c[M],f!=null))switch(M){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:pt(r,a,M,f,c,null)}return;case"dialog":Fe("beforetoggle",r),Fe("toggle",r),Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":Fe("load",r);break;case"video":case"audio":for(f=0;f<vu.length;f++)Fe(vu[f],r);break;case"image":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"embed":case"source":case"link":Fe("error",r),Fe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in c)if(c.hasOwnProperty(K)&&(f=c[K],f!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:pt(r,a,K,f,c,null)}return;default:if(Nc(a)){for(ie in c)c.hasOwnProperty(ie)&&(f=c[ie],f!==void 0&&Yg(r,a,ie,f,c,void 0));return}}for(R in c)c.hasOwnProperty(R)&&(f=c[R],f!=null&&pt(r,a,R,f,c,null))}function AP(r,a,c,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,R=null,M=null,K=null,ie=null;for(Z in c){var re=c[Z];if(c.hasOwnProperty(Z)&&re!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":M=re;default:f.hasOwnProperty(Z)||pt(r,a,Z,null,f,re)}}for(var Y in f){var Z=f[Y];if(re=c[Y],f.hasOwnProperty(Y)&&(Z!=null||re!=null))switch(Y){case"type":y=Z;break;case"name":m=Z;break;case"checked":K=Z;break;case"defaultChecked":ie=Z;break;case"value":T=Z;break;case"defaultValue":R=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Z!==re&&pt(r,a,Y,Z,f,re)}}Jn(r,T,R,M,K,ie,y,m);return;case"select":Z=T=R=Y=null;for(y in c)if(M=c[y],c.hasOwnProperty(y)&&M!=null)switch(y){case"value":break;case"multiple":Z=M;default:f.hasOwnProperty(y)||pt(r,a,y,null,f,M)}for(m in f)if(y=f[m],M=c[m],f.hasOwnProperty(m)&&(y!=null||M!=null))switch(m){case"value":Y=y;break;case"defaultValue":R=y;break;case"multiple":T=y;default:y!==M&&pt(r,a,m,y,f,M)}a=R,c=T,f=Z,Y!=null?Vs(r,!!c,Y,!1):!!f!=!!c&&(a!=null?Vs(r,!!c,a,!0):Vs(r,!!c,c?[]:"",!1));return;case"textarea":Z=Y=null;for(R in c)if(m=c[R],c.hasOwnProperty(R)&&m!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:pt(r,a,R,null,f,m)}for(T in f)if(m=f[T],y=c[T],f.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":Y=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&pt(r,a,T,m,f,y)}ft(r,Y,Z);return;case"option":for(var Ce in c)if(Y=c[Ce],c.hasOwnProperty(Ce)&&Y!=null&&!f.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:pt(r,a,Ce,null,f,Y)}for(M in f)if(Y=f[M],Z=c[M],f.hasOwnProperty(M)&&Y!==Z&&(Y!=null||Z!=null))switch(M){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:pt(r,a,M,Y,f,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in c)Y=c[Se],c.hasOwnProperty(Se)&&Y!=null&&!f.hasOwnProperty(Se)&&pt(r,a,Se,null,f,Y);for(K in f)if(Y=f[K],Z=c[K],f.hasOwnProperty(K)&&Y!==Z&&(Y!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,a));break;default:pt(r,a,K,Y,f,Z)}return;default:if(Nc(a)){for(var mt in c)Y=c[mt],c.hasOwnProperty(mt)&&Y!==void 0&&!f.hasOwnProperty(mt)&&Yg(r,a,mt,void 0,f,Y);for(ie in f)Y=f[ie],Z=c[ie],!f.hasOwnProperty(ie)||Y===Z||Y===void 0&&Z===void 0||Yg(r,a,ie,Y,f,Z);return}}for(var F in c)Y=c[F],c.hasOwnProperty(F)&&Y!=null&&!f.hasOwnProperty(F)&&pt(r,a,F,null,f,Y);for(re in f)Y=f[re],Z=c[re],!f.hasOwnProperty(re)||Y===Z||Y==null&&Z==null||pt(r,a,re,Y,f,Z)}var Xg=null,Wg=null;function $f(r){return r.nodeType===9?r:r.ownerDocument}function sb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rb(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Zg(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Jg=null;function RP(){var r=window.event;return r&&r.type==="popstate"?r===Jg?!1:(Jg=r,!0):(Jg=null,!1)}var ob=typeof setTimeout=="function"?setTimeout:void 0,CP=typeof clearTimeout=="function"?clearTimeout:void 0,ab=typeof Promise=="function"?Promise:void 0,PP=typeof queueMicrotask=="function"?queueMicrotask:typeof ab<"u"?function(r){return ab.resolve(null).then(r).catch(IP)}:ob;function IP(r){setTimeout(function(){throw r})}function Ur(r){return r==="head"}function lb(r,a){var c=a,f=0,m=0;do{var y=c.nextSibling;if(r.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(0<f&&8>f){c=f;var T=r.ownerDocument;if(c&1&&bu(T.documentElement),c&2&&bu(T.body),c&4)for(c=T.head,bu(c),T=c.firstChild;T;){var R=T.nextSibling,M=T.nodeName;T[Ro]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&T.rel.toLowerCase()==="stylesheet"||c.removeChild(T),T=R}}if(m===0){r.removeChild(y),Pu(a);return}m--}else c==="$"||c==="$?"||c==="$!"?m++:f=c.charCodeAt(0)-48;else f=0;c=y}while(c);Pu(a)}function ey(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ey(c),wr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function OP(r,a,c,f){for(;r.nodeType===1;){var m=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Ro])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Ui(r.nextSibling),r===null)break}return null}function kP(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Ui(r.nextSibling),r===null))return null;return r}function ty(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function DP(r,a){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")a();else{var f=function(){a(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Ui(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var ny=null;function cb(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}function ub(r,a,c){switch(a=$f(c),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function bu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);wr(r)}var Ti=new Map,hb=new Set;function Qf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var er=he.d;he.d={f:MP,r:VP,D:NP,C:LP,L:zP,m:UP,X:BP,S:GP,M:jP};function MP(){var r=er.f(),a=zf();return r||a}function VP(r){var a=Zi(r);a!==null&&a.tag===5&&a.type==="form"?O1(a):er.r(r)}var Tl=typeof document>"u"?null:document;function fb(r,a,c){var f=Tl;if(f&&typeof a=="string"&&a){var m=Gt(a);m='link[rel="'+r+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),hb.has(m)||(hb.add(m),r={rel:r,crossOrigin:c,href:a},f.querySelector(m)===null&&(a=f.createElement("link"),mn(a,"link",r),Ot(a),f.head.appendChild(a)))}}function NP(r){er.D(r),fb("dns-prefetch",r,null)}function LP(r,a){er.C(r,a),fb("preconnect",r,a)}function zP(r,a,c){er.L(r,a,c);var f=Tl;if(f&&r&&a){var m='link[rel="preload"][as="'+Gt(a)+'"]';a==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+Gt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+Gt(c.imageSizes)+'"]')):m+='[href="'+Gt(r)+'"]';var y=m;switch(a){case"style":y=xl(r);break;case"script":y=Al(r)}Ti.has(y)||(r=g({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),Ti.set(y,r),f.querySelector(m)!==null||a==="style"&&f.querySelector(Su(y))||a==="script"&&f.querySelector(Eu(y))||(a=f.createElement("link"),mn(a,"link",r),Ot(a),f.head.appendChild(a)))}}function UP(r,a){er.m(r,a);var c=Tl;if(c&&r){var f=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Gt(f)+'"][href="'+Gt(r)+'"]',y=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Al(r)}if(!Ti.has(y)&&(r=g({rel:"modulepreload",href:r},a),Ti.set(y,r),c.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Eu(y)))return}f=c.createElement("link"),mn(f,"link",r),Ot(f),c.head.appendChild(f)}}}function GP(r,a,c){er.S(r,a,c);var f=Tl;if(f&&r){var m=Dn(f).hoistableStyles,y=xl(r);a=a||"default";var T=m.get(y);if(!T){var R={loading:0,preload:null};if(T=f.querySelector(Su(y)))R.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":a},c),(c=Ti.get(y))&&iy(r,c);var M=T=f.createElement("link");Ot(M),mn(M,"link",r),M._p=new Promise(function(K,ie){M.onload=K,M.onerror=ie}),M.addEventListener("load",function(){R.loading|=1}),M.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Kf(T,a,f)}T={type:"stylesheet",instance:T,count:1,state:R},m.set(y,T)}}}function BP(r,a){er.X(r,a);var c=Tl;if(c&&r){var f=Dn(c).hoistableScripts,m=Al(r),y=f.get(m);y||(y=c.querySelector(Eu(m)),y||(r=g({src:r,async:!0},a),(a=Ti.get(m))&&sy(r,a),y=c.createElement("script"),Ot(y),mn(y,"link",r),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function jP(r,a){er.M(r,a);var c=Tl;if(c&&r){var f=Dn(c).hoistableScripts,m=Al(r),y=f.get(m);y||(y=c.querySelector(Eu(m)),y||(r=g({src:r,async:!0,type:"module"},a),(a=Ti.get(m))&&sy(r,a),y=c.createElement("script"),Ot(y),mn(y,"link",r),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function db(r,a,c,f){var m=(m=Re.current)?Qf(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=xl(c.href),c=Dn(m).hoistableStyles,f=c.get(a),f||(f={type:"style",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=xl(c.href);var y=Dn(m).hoistableStyles,T=y.get(r);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=m.querySelector(Su(r)))&&!y._p&&(T.instance=y,T.state.loading=5),Ti.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ti.set(r,c),y||HP(m,r,c,T.state))),a&&f===null)throw Error(i(528,""));return T}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Al(c),c=Dn(m).hoistableScripts,f=c.get(a),f||(f={type:"script",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function xl(r){return'href="'+Gt(r)+'"'}function Su(r){return'link[rel="stylesheet"]['+r+"]"}function pb(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function HP(r,a,c,f){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=r.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),mn(a,"link",c),Ot(a),r.head.appendChild(a))}function Al(r){return'[src="'+Gt(r)+'"]'}function Eu(r){return"script[async]"+r}function mb(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var f=r.querySelector('style[data-href~="'+Gt(c.href)+'"]');if(f)return a.instance=f,Ot(f),f;var m=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Ot(f),mn(f,"style",m),Kf(f,c.precedence,r),a.instance=f;case"stylesheet":m=xl(c.href);var y=r.querySelector(Su(m));if(y)return a.state.loading|=4,a.instance=y,Ot(y),y;f=pb(c),(m=Ti.get(m))&&iy(f,m),y=(r.ownerDocument||r).createElement("link"),Ot(y);var T=y;return T._p=new Promise(function(R,M){T.onload=R,T.onerror=M}),mn(y,"link",f),a.state.loading|=4,Kf(y,c.precedence,r),a.instance=y;case"script":return y=Al(c.src),(m=r.querySelector(Eu(y)))?(a.instance=m,Ot(m),m):(f=c,(m=Ti.get(y))&&(f=g({},c),sy(f,m)),r=r.ownerDocument||r,m=r.createElement("script"),Ot(m),mn(m,"link",f),r.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Kf(f,c.precedence,r));return a.instance}function Kf(r,a,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,y=m,T=0;T<f.length;T++){var R=f[T];if(R.dataset.precedence===a)y=R;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function iy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function sy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Yf=null;function gb(r,a,c){if(Yf===null){var f=new Map,m=Yf=new Map;m.set(c,f)}else m=Yf,f=m.get(c),f||(f=new Map,m.set(c,f));if(f.has(r))return f;for(f.set(r,null),c=c.getElementsByTagName(r),m=0;m<c.length;m++){var y=c[m];if(!(y[Ro]||y[Qt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=r+T;var R=f.get(T);R?R.push(y):f.set(T,[y])}}return f}function yb(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function FP(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function _b(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Tu=null;function qP(){}function $P(r,a,c){if(Tu===null)throw Error(i(475));var f=Tu;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=xl(c.href),y=r.querySelector(Su(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=Xf.bind(f),r.then(f,f)),a.state.loading|=4,a.instance=y,Ot(y);return}y=r.ownerDocument||r,c=pb(c),(m=Ti.get(m))&&iy(c,m),y=y.createElement("link"),Ot(y);var T=y;T._p=new Promise(function(R,M){T.onload=R,T.onerror=M}),mn(y,"link",c),a.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=Xf.bind(f),r.addEventListener("load",a),r.addEventListener("error",a))}}function QP(){if(Tu===null)throw Error(i(475));var r=Tu;return r.stylesheets&&r.count===0&&ry(r,r.stylesheets),0<r.count?function(a){var c=setTimeout(function(){if(r.stylesheets&&ry(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c)}}:null}function Xf(){if(this.count--,this.count===0){if(this.stylesheets)ry(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Wf=null;function ry(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Wf=new Map,a.forEach(KP,r),Wf=null,Xf.call(r))}function KP(r,a){if(!(a.state.loading&4)){var c=Wf.get(r);if(c)var f=c.get(null);else{c=new Map,Wf.set(r,c);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),f=T)}f&&c.set(null,f)}m=a.instance,T=m.getAttribute("data-precedence"),y=c.get(T)||f,y===f&&c.set(null,m),c.set(T,m),this.count++,f=Xf.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),a.state.loading|=4}}var xu={$$typeof:L,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function YP(r,a,c,f,m,y,T,R){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Is(0),this.hiddenUpdates=Is(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function vb(r,a,c,f,m,y,T,R,M,K,ie,re){return r=new YP(r,a,c,T,R,M,K,re),a=1,y===!0&&(a|=24),y=ti(3,null,null,a),r.current=y,y.stateNode=r,a=Gm(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:f,isDehydrated:c,cache:a},Fm(y),r}function wb(r){return r?(r=il,r):il}function bb(r,a,c,f,m,y){m=wb(m),f.context===null?f.context=m:f.pendingContext=m,f=Ar(a),f.payload={element:c},y=y===void 0?null:y,y!==null&&(f.callback=y),c=Rr(r,f,a),c!==null&&(oi(c,r,a),tu(c,r,a))}function Sb(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function oy(r,a){Sb(r,a),(r=r.alternate)&&Sb(r,a)}function Eb(r){if(r.tag===13){var a=nl(r,67108864);a!==null&&oi(a,r,67108864),oy(r,67108864)}}var Zf=!0;function XP(r,a,c,f){var m=te.T;te.T=null;var y=he.p;try{he.p=2,ay(r,a,c,f)}finally{he.p=y,te.T=m}}function WP(r,a,c,f){var m=te.T;te.T=null;var y=he.p;try{he.p=8,ay(r,a,c,f)}finally{he.p=y,te.T=m}}function ay(r,a,c,f){if(Zf){var m=ly(f);if(m===null)Kg(r,a,f,Jf,c),xb(r,f);else if(JP(m,r,a,c,f))f.stopPropagation();else if(xb(r,f),a&4&&-1<ZP.indexOf(r)){for(;m!==null;){var y=Zi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Mi(y.pendingLanes);if(T!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;T;){var M=1<<31-Tn(T);R.entanglements[1]|=M,T&=~M}fs(y),(at&6)===0&&(Nf=fi()+500,_u(0))}}break;case 13:R=nl(y,2),R!==null&&oi(R,y,2),zf(),oy(y,2)}if(y=ly(f),y===null&&Kg(r,a,f,Jf,c),y===m)break;m=y}m!==null&&f.stopPropagation()}else Kg(r,a,f,null,c)}}function ly(r){return r=mi(r),cy(r)}var Jf=null;function cy(r){if(Jf=null,r=ks(r),r!==null){var a=o(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=l(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Jf=r,null}function Tb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fm()){case Ec:return 2;case Va:return 8;case So:case dm:return 32;case Na:return 268435456;default:return 32}default:return 32}}var uy=!1,Gr=null,Br=null,jr=null,Au=new Map,Ru=new Map,Hr=[],ZP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xb(r,a){switch(r){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Au.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(a.pointerId)}}function Cu(r,a,c,f,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[m]},a!==null&&(a=Zi(a),a!==null&&Eb(a)),r):(r.eventSystemFlags|=f,a=r.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),r)}function JP(r,a,c,f,m){switch(a){case"focusin":return Gr=Cu(Gr,r,a,c,f,m),!0;case"dragenter":return Br=Cu(Br,r,a,c,f,m),!0;case"mouseover":return jr=Cu(jr,r,a,c,f,m),!0;case"pointerover":var y=m.pointerId;return Au.set(y,Cu(Au.get(y)||null,r,a,c,f,m)),!0;case"gotpointercapture":return y=m.pointerId,Ru.set(y,Cu(Ru.get(y)||null,r,a,c,f,m)),!0}return!1}function Ab(r){var a=ks(r.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){r.blockedOn=a,Lh(r.priority,function(){if(c.tag===13){var f=ri();f=yr(f);var m=nl(c,f);m!==null&&oi(m,c,f),oy(c,f)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ed(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=ly(r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);Ns=f,c.target.dispatchEvent(f),Ns=null}else return a=Zi(c),a!==null&&Eb(a),r.blockedOn=c,!1;a.shift()}return!0}function Rb(r,a,c){ed(r)&&c.delete(a)}function eI(){uy=!1,Gr!==null&&ed(Gr)&&(Gr=null),Br!==null&&ed(Br)&&(Br=null),jr!==null&&ed(jr)&&(jr=null),Au.forEach(Rb),Ru.forEach(Rb)}function td(r,a){r.blockedOn===a&&(r.blockedOn=null,uy||(uy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,eI)))}var nd=null;function Cb(r){nd!==r&&(nd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){nd===r&&(nd=null);for(var a=0;a<r.length;a+=3){var c=r[a],f=r[a+1],m=r[a+2];if(typeof f!="function"){if(cy(f||c)===null)continue;break}var y=Zi(c);y!==null&&(r.splice(a,3),a-=3,cg(y,{pending:!0,data:m,method:c.method,action:f},f,m))}}))}function Pu(r){function a(M){return td(M,r)}Gr!==null&&td(Gr,r),Br!==null&&td(Br,r),jr!==null&&td(jr,r),Au.forEach(a),Ru.forEach(a);for(var c=0;c<Hr.length;c++){var f=Hr[c];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Hr.length&&(c=Hr[0],c.blockedOn===null);)Ab(c),c.blockedOn===null&&Hr.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var m=c[f],y=c[f+1],T=m[Ut]||null;if(typeof y=="function")T||Cb(c);else if(T){var R=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[Ut]||null)R=T.formAction;else if(cy(m)!==null)continue}else R=T.action;typeof R=="function"?c[f+1]=R:(c.splice(f,3),f-=3),Cb(c)}}}function hy(r){this._internalRoot=r}id.prototype.render=hy.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,f=ri();bb(c,f,r,a,null,null)},id.prototype.unmount=hy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;bb(r.current,2,null,r,null,null),zf(),a[di]=null}};function id(r){this._internalRoot=r}id.prototype.unstable_scheduleHydration=function(r){if(r){var a=_r();r={blockedOn:null,target:r,priority:a};for(var c=0;c<Hr.length&&a!==0&&a<Hr[c].priority;c++);Hr.splice(c,0,r),c===0&&Ab(r)}};var Pb=e.version;if(Pb!=="19.1.0")throw Error(i(527,Pb,"19.1.0"));he.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(a),r=r!==null?d(r):null,r=r===null?null:r.stateNode,r};var tI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{xt=sd.inject(tI),ot=sd}catch{}}return Ou.createRoot=function(r,a){if(!s(r))throw Error(i(299));var c=!1,f="",m=q1,y=$1,T=Q1,R=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks)),a=vb(r,1,!1,null,null,c,f,m,y,T,R,null),r[di]=a.current,Qg(r),new hy(a)},Ou.hydrateRoot=function(r,a,c){if(!s(r))throw Error(i(299));var f=!1,m="",y=q1,T=$1,R=Q1,M=null,K=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(M=c.unstable_transitionCallbacks),c.formState!==void 0&&(K=c.formState)),a=vb(r,1,!0,a,c??null,f,m,y,T,R,M,K),a.context=wb(null),c=a.current,f=ri(),f=yr(f),m=Ar(f),m.callback=null,Rr(c,m,f),c=f,a.current.lanes=c,Os(a,c),fs(a),r[di]=a.current,Qg(r),new id(a)},Ou.version="19.1.0",Ou}var Ub;function fI(){if(Ub)return py.exports;Ub=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),py.exports=hI(),py.exports}var dI=fI();const pI=iI(dI);var ku={},Gb;function mI(){if(Gb)return ku;Gb=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.parse=l,ku.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,b){const S=new o,A=v.length;if(A<2)return S;const x=(b==null?void 0:b.decode)||g;let O=0;do{const U=v.indexOf("=",O);if(U===-1)break;const L=v.indexOf(";",O),H=L===-1?A:L;if(U>H){O=v.lastIndexOf(";",U-1)+1;continue}const W=u(v,O,U),le=h(v,U,W),D=v.slice(W,le);if(S[D]===void 0){let P=u(v,U+1,H),I=h(v,H,P);const V=x(v.slice(P,I));S[D]=V}O=H+1}while(O<A);return S}function u(v,b,S){do{const A=v.charCodeAt(b);if(A!==32&&A!==9)return b}while(++b<S);return S}function h(v,b,S){for(;b>S;){const A=v.charCodeAt(--b);if(A!==32&&A!==9)return b+1}return S}function d(v,b,S){const A=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const x=A(b);if(!e.test(x))throw new TypeError(`argument val is invalid: ${b}`);let O=v+"="+x;if(!S)return O;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);O+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);O+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);O+="; Path="+S.path}if(S.expires){if(!_(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);O+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(O+="; HttpOnly"),S.secure&&(O+="; Secure"),S.partitioned&&(O+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return O}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return s.call(v)==="[object Date]"}return ku}mI();var Bb="popstate";function gI(n={}){function e(i,s){let{pathname:o,search:l,hash:u}=i.location;return r_("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Wu(s)}return _I(e,t,null,n)}function St(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yI(){return Math.random().toString(36).substring(2,10)}function jb(n,e){return{usr:n.state,key:n.key,idx:e}}function r_(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?uc(e):e,state:t,key:e&&e.key||i||yI()}}function Wu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function uc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function _I(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,u="POP",h=null,d=g();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function g(){return(l.state||{idx:null}).idx}function _(){u="POP";let x=g(),O=x==null?null:x-d;d=x,h&&h({action:u,location:A.location,delta:O})}function v(x,O){u="PUSH";let U=r_(A.location,x,O);d=g()+1;let L=jb(U,d),H=A.createHref(U);try{l.pushState(L,"",H)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;s.location.assign(H)}o&&h&&h({action:u,location:A.location,delta:1})}function b(x,O){u="REPLACE";let U=r_(A.location,x,O);d=g();let L=jb(U,d),H=A.createHref(U);l.replaceState(L,"",H),o&&h&&h({action:u,location:A.location,delta:0})}function S(x){return vI(x)}let A={get action(){return u},get location(){return n(s,l)},listen(x){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Bb,_),h=x,()=>{s.removeEventListener(Bb,_),h=null}},createHref(x){return e(s,x)},createURL:S,encodeLocation(x){let O=S(x);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:b,go(x){return l.go(x)}};return A}function vI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),St(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Wu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function w2(n,e,t="/"){return wI(n,e,t,!1)}function wI(n,e,t,i){let s=typeof e=="string"?uc(e):e,o=ur(s.pathname||"/",t);if(o==null)return null;let l=b2(n);bI(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let d=kI(o);u=II(l[h],d,i)}return u}function b2(n,e=[],t=[],i=""){let s=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(St(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=ar([i,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(St(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),b2(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:CI(d,o.index),routesMeta:g})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let h of S2(o.path))s(o,l,h)}),e}function S2(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=S2(i.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),s&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function bI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:PI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var SI=/^:[\w-]+$/,EI=3,TI=2,xI=1,AI=10,RI=-2,Hb=n=>n==="*";function CI(n,e){let t=n.split("/"),i=t.length;return t.some(Hb)&&(i+=RI),e&&(i+=TI),t.filter(s=>!Hb(s)).reduce((s,o)=>s+(SI.test(o)?EI:o===""?xI:AI),i)}function PI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function II(n,e,t=!1){let{routesMeta:i}=n,s={},o="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],d=u===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=Jd({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},g),v=h.route;if(!_&&d&&t&&!i[i.length-1].route.index&&(_=Jd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:ar([o,_.pathname]),pathnameBase:NI(ar([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=ar([o,_.pathnameBase]))}return l}function Jd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=OI(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:_},v)=>{if(g==="*"){let S=u[v]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const b=u[v];return _&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function OI(n,e=!1,t=!0){qi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function kI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ur(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function DI(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?uc(n):n;return{pathname:t?t.startsWith("/")?t:MI(t,e):e,search:LI(i),hash:zI(s)}}function MI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function _y(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ov(n){let e=VI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function av(n,e,t,i=!1){let s;typeof n=="string"?s=uc(n):(s={...n},St(!s.pathname||!s.pathname.includes("?"),_y("?","pathname","search",s)),St(!s.pathname||!s.pathname.includes("#"),_y("#","pathname","hash",s)),St(!s.search||!s.search.includes("#"),_y("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=t;else{let _=e.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),_-=1;s.pathname=v.join("/")}u=_>=0?e[_]:"/"}let h=DI(s,u),d=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}var ar=n=>n.join("/").replace(/\/\/+/g,"/"),NI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),LI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function UI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var E2=["POST","PUT","PATCH","DELETE"];new Set(E2);var GI=["GET",...E2];new Set(GI);var hc=q.createContext(null);hc.displayName="DataRouter";var Np=q.createContext(null);Np.displayName="DataRouterState";var T2=q.createContext({isTransitioning:!1});T2.displayName="ViewTransition";var BI=q.createContext(new Map);BI.displayName="Fetchers";var jI=q.createContext(null);jI.displayName="Await";var Yi=q.createContext(null);Yi.displayName="Navigation";var ph=q.createContext(null);ph.displayName="Location";var Cs=q.createContext({outlet:null,matches:[],isDataRoute:!1});Cs.displayName="Route";var lv=q.createContext(null);lv.displayName="RouteError";function HI(n,{relative:e}={}){St(fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=q.useContext(Yi),{hash:s,pathname:o,search:l}=gh(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:ar([t,o])),i.createHref({pathname:u,search:l,hash:s})}function fc(){return q.useContext(ph)!=null}function Ps(){return St(fc(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(ph).location}var x2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A2(n){q.useContext(Yi).static||q.useLayoutEffect(n)}function mh(){let{isDataRoute:n}=q.useContext(Cs);return n?nO():FI()}function FI(){St(fc(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(hc),{basename:e,navigator:t}=q.useContext(Yi),{matches:i}=q.useContext(Cs),{pathname:s}=Ps(),o=JSON.stringify(ov(i)),l=q.useRef(!1);return A2(()=>{l.current=!0}),q.useCallback((h,d={})=>{if(qi(l.current,x2),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=av(h,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ar([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,s,n])}q.createContext(null);function gh(n,{relative:e}={}){let{matches:t}=q.useContext(Cs),{pathname:i}=Ps(),s=JSON.stringify(ov(t));return q.useMemo(()=>av(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function qI(n,e){return R2(n,e)}function R2(n,e,t,i){var U;St(fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=q.useContext(Yi),{matches:l}=q.useContext(Cs),u=l[l.length-1],h=u?u.params:{},d=u?u.pathname:"/",g=u?u.pathnameBase:"/",_=u&&u.route;{let L=_&&_.path||"";C2(d,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=Ps(),b;if(e){let L=typeof e=="string"?uc(e):e;St(g==="/"||((U=L.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),b=L}else b=v;let S=b.pathname||"/",A=S;if(g!=="/"){let L=g.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let x=!o&&t&&t.matches&&t.matches.length>0?t.matches:w2(n,{pathname:A});qi(_||x!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),qi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=XI(x&&x.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:ar([g,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:ar([g,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,t,i);return e&&O?q.createElement(ph.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},O):O}function $I(){let n=tO(),e=UI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:s},t):null,l)}var QI=q.createElement($I,null),KI=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(Cs.Provider,{value:this.props.routeContext},q.createElement(lv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YI({routeContext:n,match:e,children:t}){let i=q.useContext(hc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Cs.Provider,{value:n},t)}function XI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let h=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);St(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:g,errors:_}=t,v=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,d,g)=>{let _,v=!1,b=null,S=null;t&&(_=o&&d.route.id?o[d.route.id]:void 0,b=d.route.errorElement||QI,l&&(u<0&&g===0?(C2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):u===g&&(v=!0,S=d.route.hydrateFallbackElement||null)));let A=e.concat(s.slice(0,g+1)),x=()=>{let O;return _?O=b:v?O=S:d.route.Component?O=q.createElement(d.route.Component,null):d.route.element?O=d.route.element:O=h,q.createElement(YI,{match:d,routeContext:{outlet:h,matches:A,isDataRoute:t!=null},children:O})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?q.createElement(KI,{location:t.location,revalidation:t.revalidation,component:b,error:_,children:x(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):x()},null)}function cv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WI(n){let e=q.useContext(hc);return St(e,cv(n)),e}function ZI(n){let e=q.useContext(Np);return St(e,cv(n)),e}function JI(n){let e=q.useContext(Cs);return St(e,cv(n)),e}function uv(n){let e=JI(n),t=e.matches[e.matches.length-1];return St(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function eO(){return uv("useRouteId")}function tO(){var i;let n=q.useContext(lv),e=ZI("useRouteError"),t=uv("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function nO(){let{router:n}=WI("useNavigate"),e=uv("useNavigate"),t=q.useRef(!1);return A2(()=>{t.current=!0}),q.useCallback(async(s,o={})=>{qi(t.current,x2),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var Fb={};function C2(n,e,t){!e&&!Fb[n]&&(Fb[n]=!0,qi(!1,t))}q.memo(iO);function iO({routes:n,future:e,state:t}){return R2(n,void 0,t,e)}function vy({to:n,replace:e,state:t,relative:i}){St(fc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=q.useContext(Yi);qi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=q.useContext(Cs),{pathname:l}=Ps(),u=mh(),h=av(n,ov(o),l,i==="path"),d=JSON.stringify(h);return q.useEffect(()=>{u(JSON.parse(d),{replace:e,state:t,relative:i})},[u,d,i,e,t]),null}function Lu(n){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sO({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:o=!1}){St(!fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=q.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof t=="string"&&(t=uc(t));let{pathname:h="/",search:d="",hash:g="",state:_=null,key:v="default"}=t,b=q.useMemo(()=>{let S=ur(h,l);return S==null?null:{location:{pathname:S,search:d,hash:g,state:_,key:v},navigationType:i}},[l,h,d,g,_,v,i]);return qi(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:q.createElement(Yi.Provider,{value:u},q.createElement(ph.Provider,{children:e,value:b}))}function rO({children:n,location:e}){return qI(o_(n),e)}function o_(n,e=[]){let t=[];return q.Children.forEach(n,(i,s)=>{if(!q.isValidElement(i))return;let o=[...e,s];if(i.type===q.Fragment){t.push.apply(t,o_(i.props.children,o));return}St(i.type===Lu,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=o_(i.props.children,o)),t.push(l)}),t}var Nd="get",Ld="application/x-www-form-urlencoded";function Lp(n){return n!=null&&typeof n.tagName=="string"}function oO(n){return Lp(n)&&n.tagName.toLowerCase()==="button"}function aO(n){return Lp(n)&&n.tagName.toLowerCase()==="form"}function lO(n){return Lp(n)&&n.tagName.toLowerCase()==="input"}function cO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function uO(n,e){return n.button===0&&(!e||e==="_self")&&!cO(n)}var rd=null;function hO(){if(rd===null)try{new FormData(document.createElement("form"),0),rd=!1}catch{rd=!0}return rd}var fO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wy(n){return n!=null&&!fO.has(n)?(qi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ld}"`),null):n}function dO(n,e){let t,i,s,o,l;if(aO(n)){let u=n.getAttribute("action");i=u?ur(u,e):null,t=n.getAttribute("method")||Nd,s=wy(n.getAttribute("enctype"))||Ld,o=new FormData(n)}else if(oO(n)||lO(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?ur(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Nd,s=wy(n.getAttribute("formenctype"))||wy(u.getAttribute("enctype"))||Ld,o=new FormData(u,n),!hO()){let{name:d,type:g,value:_}=n;if(g==="image"){let v=d?`${d}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else d&&o.append(d,_)}}else{if(Lp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Nd,i=null,s=Ld,l=n}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:o,body:l}}function hv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function pO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function gO(n,e,t){let i=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await pO(o,t);return l.links?l.links():[]}return[]}));return wO(i.flat(1).filter(mO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function qb(n,e,t,i,s,o){let l=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,u=(h,d)=>{var g;return t[d].pathname!==h.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,d)=>l(h,d)||u(h,d)):o==="data"?e.filter((h,d)=>{var _;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,d)||u(h,d))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function yO(n,e,{includeHydrateFallback:t}={}){return _O(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function _O(n){return[...new Set(n)]}function vO(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function wO(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let o=JSON.stringify(vO(s));return t.has(o)||(t.add(o),i.push({key:o,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bO=new Set([100,101,204,205]);function SO(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ur(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function P2(){let n=q.useContext(hc);return hv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function EO(){let n=q.useContext(Np);return hv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var fv=q.createContext(void 0);fv.displayName="FrameworkContext";function I2(){let n=q.useContext(fv);return hv(n,"You must render this element inside a <HydratedRouter> element"),n}function TO(n,e){let t=q.useContext(fv),[i,s]=q.useState(!1),[o,l]=q.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:d,onMouseLeave:g,onTouchStart:_}=e,v=q.useRef(null);q.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=O=>{O.forEach(U=>{l(U.isIntersecting)})},x=new IntersectionObserver(A,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[n]),q.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let b=()=>{s(!0)},S=()=>{s(!1),l(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Du(u,b),onBlur:Du(h,S),onMouseEnter:Du(d,b),onMouseLeave:Du(g,S),onTouchStart:Du(_,b)}]:[!1,v,{}]}function Du(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xO({page:n,...e}){let{router:t}=P2(),i=q.useMemo(()=>w2(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?q.createElement(RO,{page:n,matches:i,...e}):null}function AO(n){let{manifest:e,routeModules:t}=I2(),[i,s]=q.useState([]);return q.useEffect(()=>{let o=!1;return gO(n,e,t).then(l=>{o||s(l)}),()=>{o=!0}},[n,e,t]),i}function RO({page:n,matches:e,...t}){let i=Ps(),{manifest:s,routeModules:o}=I2(),{basename:l}=P2(),{loaderData:u,matches:h}=EO(),d=q.useMemo(()=>qb(n,e,h,s,i,"data"),[n,e,h,s,i]),g=q.useMemo(()=>qb(n,e,h,s,i,"assets"),[n,e,h,s,i]),_=q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let S=new Set,A=!1;if(e.forEach(O=>{var L;let U=s.routes[O.route.id];!U||!U.hasLoader||(!d.some(H=>H.route.id===O.route.id)&&O.route.id in u&&((L=o[O.route.id])!=null&&L.shouldRevalidate)||U.hasClientLoader?A=!0:S.add(O.route.id))}),S.size===0)return[];let x=SO(n,l);return A&&S.size>0&&x.searchParams.set("_routes",e.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[x.pathname+x.search]},[l,u,i,s,d,e,n,o]),v=q.useMemo(()=>yO(g,s),[g,s]),b=AO(g);return q.createElement(q.Fragment,null,_.map(S=>q.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),v.map(S=>q.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),b.map(({key:S,link:A})=>q.createElement("link",{key:S,...A})))}function CO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var O2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O2&&(window.__reactRouterVersion="7.6.0")}catch{}function PO({basename:n,children:e,window:t}){let i=q.useRef();i.current==null&&(i.current=gI({window:t,v5Compat:!0}));let s=i.current,[o,l]=q.useState({action:s.action,location:s.location}),u=q.useCallback(h=>{q.startTransition(()=>l(h))},[l]);return q.useLayoutEffect(()=>s.listen(u),[s,u]),q.createElement(sO,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var k2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D2=q.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:o,replace:l,state:u,target:h,to:d,preventScrollReset:g,viewTransition:_,...v},b){let{basename:S}=q.useContext(Yi),A=typeof d=="string"&&k2.test(d),x,O=!1;if(typeof d=="string"&&A&&(x=d,O2))try{let I=new URL(window.location.href),V=d.startsWith("//")?new URL(I.protocol+d):new URL(d),G=ur(V.pathname,S);V.origin===I.origin&&G!=null?d=G+V.search+V.hash:O=!0}catch{qi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=HI(d,{relative:s}),[L,H,W]=TO(i,v),le=kO(d,{replace:l,state:u,target:h,preventScrollReset:g,relative:s,viewTransition:_});function D(I){e&&e(I),I.defaultPrevented||le(I)}let P=q.createElement("a",{...v,...W,href:x||U,onClick:O||o?e:D,ref:CO(b,H),target:h,"data-discover":!A&&t==="render"?"true":void 0});return L&&!A?q.createElement(q.Fragment,null,P,q.createElement(xO,{page:U})):P});D2.displayName="Link";var va=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:u,children:h,...d},g){let _=gh(l,{relative:d.relative}),v=Ps(),b=q.useContext(Np),{navigator:S,basename:A}=q.useContext(Yi),x=b!=null&&LO(_)&&u===!0,O=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,U=v.pathname,L=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(U=U.toLowerCase(),L=L?L.toLowerCase():null,O=O.toLowerCase()),L&&A&&(L=ur(L,A)||L);const H=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let W=U===O||!s&&U.startsWith(O)&&U.charAt(H)==="/",le=L!=null&&(L===O||!s&&L.startsWith(O)&&L.charAt(O.length)==="/"),D={isActive:W,isPending:le,isTransitioning:x},P=W?e:void 0,I;typeof i=="function"?I=i(D):I=[i,W?"active":null,le?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(D):o;return q.createElement(D2,{...d,"aria-current":P,className:I,ref:g,style:V,to:l,viewTransition:u},typeof h=="function"?h(D):h)});va.displayName="NavLink";var IO=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:o,method:l=Nd,action:u,onSubmit:h,relative:d,preventScrollReset:g,viewTransition:_,...v},b)=>{let S=VO(),A=NO(u,{relative:d}),x=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&k2.test(u),U=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let H=L.nativeEvent.submitter,W=(H==null?void 0:H.getAttribute("formmethod"))||l;S(H||L.currentTarget,{fetcherKey:e,method:W,navigate:t,replace:s,state:o,relative:d,preventScrollReset:g,viewTransition:_})};return q.createElement("form",{ref:b,method:x,action:A,onSubmit:i?h:U,...v,"data-discover":!O&&n==="render"?"true":void 0})});IO.displayName="Form";function OO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M2(n){let e=q.useContext(hc);return St(e,OO(n)),e}function kO(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=mh(),h=Ps(),d=gh(n,{relative:o});return q.useCallback(g=>{if(uO(g,e)){g.preventDefault();let _=t!==void 0?t:Wu(h)===Wu(d);u(n,{replace:_,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,u,d,t,i,e,n,s,o,l])}var DO=0,MO=()=>`__${String(++DO)}__`;function VO(){let{router:n}=M2("useSubmit"),{basename:e}=q.useContext(Yi),t=eO();return q.useCallback(async(i,s={})=>{let{action:o,method:l,encType:u,formData:h,body:d}=dO(i,e);if(s.navigate===!1){let g=s.fetcherKey||MO();await n.fetch(g,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function NO(n,{relative:e}={}){let{basename:t}=q.useContext(Yi),i=q.useContext(Cs);St(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...gh(n||".",{relative:e})},l=Ps();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(_=>_).forEach(_=>u.append("index",_));let g=u.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ar([t,o.pathname])),Wu(o)}function LO(n,e={}){let t=q.useContext(T2);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=M2("useViewTransitionState"),s=gh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ur(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=ur(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Jd(s.pathname,l)!=null||Jd(s.pathname,o)!=null}[...bO];const zO=()=>{};var $b={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},UO=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],l=n[t++],u=n[t++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},N2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],l=s+1<n.length,u=l?n[s+1]:0,h=s+2<n.length,d=h?n[s+2]:0,g=o>>2,_=(o&3)<<4|u>>4;let v=(u&15)<<2|d>>6,b=d&63;h||(b=64,l||(v=64)),i.push(t[g],t[_],t[v],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(V2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):UO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||u==null||d==null||_==null)throw new GO;const v=o<<2|u>>4;if(i.push(v),d!==64){const b=u<<4&240|d>>2;if(i.push(b),_!==64){const S=d<<6&192|_;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class GO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BO=function(n){const e=V2(n);return N2.encodeByteArray(e,!0)},ep=function(n){return BO(n).replace(/\./g,"")},L2=function(n){try{return N2.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=()=>jO().__FIREBASE_DEFAULTS__,FO=()=>{if(typeof process>"u"||typeof $b>"u")return;const n=$b.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},qO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&L2(n[1]);return e&&JSON.parse(e)},zp=()=>{try{return zO()||HO()||FO()||qO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},z2=n=>{var e,t;return(t=(e=zp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},$O=n=>{const e=z2(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},U2=()=>{var n;return(n=zp())===null||n===void 0?void 0:n.config},G2=n=>{var e;return(e=zp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(n){return n.endsWith(".cloudworkstations.dev")}async function B2(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ep(JSON.stringify(t)),ep(JSON.stringify(l)),""].join(".")}const Hu={};function YO(){const n={prod:[],emulator:[]};for(const e of Object.keys(Hu))Hu[e]?n.emulator.push(e):n.prod.push(e);return n}function XO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Qb=!1;function j2(n,e){if(typeof window>"u"||typeof document>"u"||!yh(window.location.host)||Hu[n]===e||Hu[n]||Qb)return;Hu[n]=e;function t(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=YO().prod.length>0;function l(){const v=document.getElementById(i);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Qb=!0,l()},v}function g(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=XO(i),b=t("text"),S=document.getElementById(b)||document.createElement("span"),A=t("learnmore"),x=document.getElementById(A)||document.createElement("a"),O=t("preprendIcon"),U=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const L=v.element;u(L),g(x,A);const H=d();h(U,O),L.append(U,S,x,H),document.body.appendChild(L)}o?(S.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function ZO(){var n;const e=(n=zp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function t4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n4(){const n=kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function i4(){return!ZO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s4(){try{return typeof indexedDB=="object"}catch{return!1}}function r4(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="FirebaseError";class gr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=o4,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_h.prototype.create)}}class _h{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?a4(o,i):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new gr(s,u,i)}}function a4(n,e){return n.replace(l4,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const l4=/\{\$([^}]+)}/g;function c4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ba(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const o=n[s],l=e[s];if(Kb(o)&&Kb(l)){if(!ba(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function Kb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function zu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Uu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function u4(n,e){const t=new h4(n,e);return t.subscribe.bind(t)}class h4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");f4(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=by),s.error===void 0&&(s.error=by),s.complete===void 0&&(s.complete=by);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function by(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(n){return n&&n._delegate?n._delegate:n}class Sa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new QO;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m4(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:p4(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p4(n){return n===ca?void 0:n}function m4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new d4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const y4={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},_4=$e.INFO,v4={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},w4=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=v4[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dv{constructor(e){this.name=e,this._logLevel=_4,this._logHandler=w4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const b4=(n,e)=>e.some(t=>n instanceof t);let Yb,Xb;function S4(){return Yb||(Yb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E4(){return Xb||(Xb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H2=new WeakMap,a_=new WeakMap,F2=new WeakMap,Sy=new WeakMap,pv=new WeakMap;function T4(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(io(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&H2.set(t,n)}).catch(()=>{}),pv.set(e,n),e}function x4(n){if(a_.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});a_.set(n,e)}let l_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return a_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||F2.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return io(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function A4(n){l_=n(l_)}function R4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Ey(this),e,...t);return F2.set(i,e.sort?e.sort():[e]),io(i)}:E4().includes(n)?function(...e){return n.apply(Ey(this),e),io(H2.get(this))}:function(...e){return io(n.apply(Ey(this),e))}}function C4(n){return typeof n=="function"?R4(n):(n instanceof IDBTransaction&&x4(n),b4(n,S4())?new Proxy(n,l_):n)}function io(n){if(n instanceof IDBRequest)return T4(n);if(Sy.has(n))return Sy.get(n);const e=C4(n);return e!==n&&(Sy.set(n,e),pv.set(e,n)),e}const Ey=n=>pv.get(n);function P4(n,e,{blocked:t,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(n,e),u=io(l);return i&&l.addEventListener("upgradeneeded",h=>{i(io(l.result),h.oldVersion,h.newVersion,io(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const I4=["get","getKey","getAll","getAllKeys","count"],O4=["put","add","delete","clear"],Ty=new Map;function Wb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ty.get(e))return Ty.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=O4.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||I4.includes(t)))return;const o=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[t](...u),s&&h.done]))[0]};return Ty.set(e,o),o}A4(n=>({...n,get:(e,t,i)=>Wb(e,t)||n.get(e,t,i),has:(e,t)=>!!Wb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(D4(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function D4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const c_="@firebase/app",Zb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new dv("@firebase/app"),M4="@firebase/app-compat",V4="@firebase/analytics-compat",N4="@firebase/analytics",L4="@firebase/app-check-compat",z4="@firebase/app-check",U4="@firebase/auth",G4="@firebase/auth-compat",B4="@firebase/database",j4="@firebase/data-connect",H4="@firebase/database-compat",F4="@firebase/functions",q4="@firebase/functions-compat",$4="@firebase/installations",Q4="@firebase/installations-compat",K4="@firebase/messaging",Y4="@firebase/messaging-compat",X4="@firebase/performance",W4="@firebase/performance-compat",Z4="@firebase/remote-config",J4="@firebase/remote-config-compat",e3="@firebase/storage",t3="@firebase/storage-compat",n3="@firebase/firestore",i3="@firebase/ai",s3="@firebase/firestore-compat",r3="firebase",o3="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="[DEFAULT]",a3={[c_]:"fire-core",[M4]:"fire-core-compat",[N4]:"fire-analytics",[V4]:"fire-analytics-compat",[z4]:"fire-app-check",[L4]:"fire-app-check-compat",[U4]:"fire-auth",[G4]:"fire-auth-compat",[B4]:"fire-rtdb",[j4]:"fire-data-connect",[H4]:"fire-rtdb-compat",[F4]:"fire-fn",[q4]:"fire-fn-compat",[$4]:"fire-iid",[Q4]:"fire-iid-compat",[K4]:"fire-fcm",[Y4]:"fire-fcm-compat",[X4]:"fire-perf",[W4]:"fire-perf-compat",[Z4]:"fire-rc",[J4]:"fire-rc-compat",[e3]:"fire-gcs",[t3]:"fire-gcs-compat",[n3]:"fire-fst",[s3]:"fire-fst-compat",[i3]:"fire-vertex","fire-js":"fire-js",[r3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new Map,l3=new Map,h_=new Map;function Jb(n,e){try{n.container.addComponent(e)}catch(t){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yl(n){const e=n.name;if(h_.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;h_.set(e,n);for(const t of tp.values())Jb(t,n);for(const t of l3.values())Jb(t,n);return!0}function mv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Pi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},so=new _h("app","Firebase",c3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw so.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=o3;function q2(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:u_,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw so.create("bad-app-name",{appName:String(s)});if(t||(t=U2()),!t)throw so.create("no-options");const o=tp.get(s);if(o){if(ba(t,o.options)&&ba(i,o.config))return o;throw so.create("duplicate-app",{appName:s})}const l=new g4(s);for(const h of h_.values())l.addComponent(h);const u=new u3(t,i,l);return tp.set(s,u),u}function $2(n=u_){const e=tp.get(n);if(!e&&n===u_&&U2())return q2();if(!e)throw so.create("no-app",{appName:n});return e}function ro(n,e,t){var i;let s=(i=a3[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(u.join(" "));return}Yl(new Sa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="firebase-heartbeat-database",f3=1,Zu="firebase-heartbeat-store";let xy=null;function Q2(){return xy||(xy=P4(h3,f3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zu)}catch(t){console.warn(t)}}}}).catch(n=>{throw so.create("idb-open",{originalErrorMessage:n.message})})),xy}async function d3(n){try{const t=(await Q2()).transaction(Zu),i=await t.objectStore(Zu).get(K2(n));return await t.done,i}catch(e){if(e instanceof gr)hr.warn(e.message);else{const t=so.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hr.warn(t.message)}}}async function eS(n,e){try{const i=(await Q2()).transaction(Zu,"readwrite");await i.objectStore(Zu).put(e,K2(n)),await i.done}catch(t){if(t instanceof gr)hr.warn(t.message);else{const i=so.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});hr.warn(i.message)}}}function K2(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=1024,m3=30;class g3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _3(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>m3){const l=v3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){hr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tS(),{heartbeatsToSend:i,unsentEntries:s}=y3(this._heartbeatsCache.heartbeats),o=ep(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return hr.warn(t),""}}}function tS(){return new Date().toISOString().substring(0,10)}function y3(n,e=p3){const t=[];let i=n.slice();for(const s of n){const o=t.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),nS(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),nS(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class _3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s4()?r4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await d3(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return eS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return eS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function nS(n){return ep(JSON.stringify({version:2,heartbeats:n})).length}function v3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(n){Yl(new Sa("platform-logger",e=>new k4(e),"PRIVATE")),Yl(new Sa("heartbeat",e=>new g3(e),"PRIVATE")),ro(c_,Zb,n),ro(c_,Zb,"esm2017"),ro("fire-js","")}w3("");function gv(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function Y2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b3=Y2,X2=new _h("auth","Firebase",Y2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=new dv("@firebase/auth");function S3(n,...e){np.logLevel<=$e.WARN&&np.warn(`Auth (${dc}): ${n}`,...e)}function zd(n,...e){np.logLevel<=$e.ERROR&&np.error(`Auth (${dc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(n,...e){throw yv(n,...e)}function _s(n,...e){return yv(n,...e)}function W2(n,e,t){const i=Object.assign(Object.assign({},b3()),{[e]:t});return new _h("auth","Firebase",i).create(e,{appName:n.name})}function lr(n){return W2(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return X2.create(n,...e)}function Ae(n,e,...t){if(!n)throw yv(e,...t)}function ir(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zd(e),new Error(e)}function fr(n,e){n||ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function E3(){return iS()==="http:"||iS()==="https:"}function iS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E3()||e4()||"connection"in navigator)?navigator.onLine:!0}function x3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t){this.shortDelay=e,this.longDelay=t,fr(t>e,"Short delay should be less than long delay!"),this.isMobile=WO()||t4()}get(){return T3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(n,e){fr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C3=new wh(3e4,6e4);function yo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function _o(n,e,t,i,s={}){return J2(n,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const u=vh(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:h},o);return JO()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&yh(n.emulatorConfig.host)&&(d.credentials="include"),Z2.fetch()(await ex(n,n.config.apiHost,t,u),d)})}async function J2(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},A3),e);try{const s=new I3(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw od(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,d]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw od(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw od(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw od(n,"user-disabled",l);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw W2(n,g,d);$i(n,g)}}catch(s){if(s instanceof gr)throw s;$i(n,"network-request-failed",{message:String(s)})}}async function bh(n,e,t,i,s={}){const o=await _o(n,e,t,i,s);return"mfaPendingCredential"in o&&$i(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function ex(n,e,t,i){const s=`${e}${t}?${i}`,o=n,l=o.config.emulator?_v(n.config,s):`${n.config.apiScheme}://${s}`;return R3.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function P3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class I3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(_s(this.auth,"network-request-failed")),C3.get())})}}function od(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=_s(n,e,i);return s.customData._tokenResponse=t,s}function sS(n){return n!==void 0&&n.enterprise!==void 0}class O3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return P3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function k3(n,e){return _o(n,"GET","/v2/recaptchaConfig",yo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(n,e){return _o(n,"POST","/v1/accounts:delete",e)}async function ip(n,e){return _o(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M3(n,e=!1){const t=ci(n),i=await t.getIdToken(e),s=vv(i);Ae(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:Fu(Ay(s.auth_time)),issuedAtTime:Fu(Ay(s.iat)),expirationTime:Fu(Ay(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ay(n){return Number(n)*1e3}function vv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return zd("JWT malformed, contained fewer than 3 sections"),null;try{const s=L2(t);return s?JSON.parse(s):(zd("Failed to decode base64 JWT payload"),null)}catch(s){return zd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function rS(n){const e=vv(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof gr&&V3(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function V3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sp(n){var e;const t=n.auth,i=await n.getIdToken(),s=await Ju(n,ip(t,{idToken:i}));Ae(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?tx(o.providerUserInfo):[],u=z3(n.providerData,l),h=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),g=h?d:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new d_(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function L3(n){const e=ci(n);await sp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z3(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function tx(n){return n.map(e=>{var{providerId:t}=e,i=gv(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(n,e){const t=await J2(n,{},async()=>{const i=vh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=await ex(n,s,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Z2.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function G3(n,e){return _o(n,"POST","/v2/accounts:revokeToken",yo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=rS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:o}=await U3(e,t);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:o}=t,l=new Gl;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(Ae(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ae(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gl,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Bi{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,o=gv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new N3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new d_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ju(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return M3(this,e)}reload(){return L3(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await sp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pi(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await Ju(this,D3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,o,l,u,h,d,g;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,v=(s=t.email)!==null&&s!==void 0?s:void 0,b=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=t.photoURL)!==null&&l!==void 0?l:void 0,A=(u=t.tenantId)!==null&&u!==void 0?u:void 0,x=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,O=(d=t.createdAt)!==null&&d!==void 0?d:void 0,U=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:L,emailVerified:H,isAnonymous:W,providerData:le,stsTokenManager:D}=t;Ae(L&&D,e,"internal-error");const P=Gl.fromJSON(this.name,D);Ae(typeof L=="string",e,"internal-error"),qr(_,e.name),qr(v,e.name),Ae(typeof H=="boolean",e,"internal-error"),Ae(typeof W=="boolean",e,"internal-error"),qr(b,e.name),qr(S,e.name),qr(A,e.name),qr(x,e.name),qr(O,e.name),qr(U,e.name);const I=new Bi({uid:L,auth:e,email:v,emailVerified:H,displayName:_,isAnonymous:W,photoURL:S,phoneNumber:b,tenantId:A,stsTokenManager:P,createdAt:O,lastLoginAt:U});return le&&Array.isArray(le)&&(I.providerData=le.map(V=>Object.assign({},V))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,t,i=!1){const s=new Gl;s.updateFromServerResponse(t);const o=new Bi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await sp(o),o}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ae(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?tx(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),u=new Gl;u.updateFromIdToken(i);const h=new Bi({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new d_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=new Map;function sr(n){fr(n instanceof Function,"Expected a class definition");let e=oS.get(n);return e?(fr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,oS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nx.type="NONE";const aS=nx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(n,e,t){return`firebase:${n}:${e}:${t}`}class Bl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Ud(this.userKey,s.apiKey,o),this.fullPersistenceKey=Ud("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ip(this.auth,{idToken:e}).catch(()=>{});return t?Bi._fromGetAccountInfoResponse(this.auth,t,e):null}return Bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Bl(sr(aS),e,i);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||sr(aS);const l=Ud(i,e.config.apiKey,e.name);let u=null;for(const d of t)try{const g=await d._get(l);if(g){let _;if(typeof g=="string"){const v=await ip(e,{idToken:g}).catch(()=>{});if(!v)break;_=await Bi._fromGetAccountInfoResponse(e,v,g)}else _=Bi._fromJSON(e,g);d!==o&&(u=_),o=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Bl(o,e,i):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new Bl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ox(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ix(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lx(e))return"Blackberry";if(cx(e))return"Webos";if(sx(e))return"Safari";if((e.includes("chrome/")||rx(e))&&!e.includes("edge/"))return"Chrome";if(ax(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function ix(n=kn()){return/firefox\//i.test(n)}function sx(n=kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rx(n=kn()){return/crios\//i.test(n)}function ox(n=kn()){return/iemobile/i.test(n)}function ax(n=kn()){return/android/i.test(n)}function lx(n=kn()){return/blackberry/i.test(n)}function cx(n=kn()){return/webos/i.test(n)}function wv(n=kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function B3(n=kn()){var e;return wv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function j3(){return n4()&&document.documentMode===10}function ux(n=kn()){return wv(n)||ax(n)||cx(n)||lx(n)||/windows phone/i.test(n)||ox(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(n,e=[]){let t;switch(n){case"Browser":t=lS(kn());break;case"Worker":t=`${lS(kn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${dc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F3(n,e={}){return _o(n,"GET","/v2/passwordPolicy",yo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=6;class $3{constructor(e){var t,i,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:q3,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cS(this),this.idTokenSubscription=new cS(this),this.beforeStateQueue=new H3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=sr(t)),this._initializationPromise=this.queue(async()=>{var i,s,o;if(!this._deleted&&(this.persistenceManager=await Bl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ip(this,{idToken:e}),i=await Bi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pi(this.app))return Promise.reject(lr(this));const t=e?ci(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pi(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pi(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F3(this),t=new $3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _h("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await G3(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&sr(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Bl.create(this,[sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&S3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ia(n){return ci(n)}class cS{constructor(e){this.auth=e,this.observer=null,this.addObserver=u4(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function K3(n){Up=n}function fx(n){return Up.loadJS(n)}function Y3(){return Up.recaptchaEnterpriseScript}function X3(){return Up.gapiScript}function W3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Z3{constructor(){this.enterprise=new J3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class J3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ek="recaptcha-enterprise",dx="NO_RECAPTCHA";class tk{constructor(e){this.type=ek,this.auth=Ia(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{k3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new O3(h);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(h=>{u(h)})})}function s(o,l,u){const h=window.grecaptcha;sS(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(d=>{l(d)}).catch(()=>{l(dx)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Z3().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!t&&sS(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Y3();h.length!==0&&(h+=u),fx(h).then(()=>{s(u,o,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function uS(n,e,t,i=!1,s=!1){const o=new tk(n);let l;if(s)l=dx;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function p_(n,e,t,i,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await uS(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await uS(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n,e){const t=mv(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(ba(o,e??{}))return s;$i(s,"already-initialized")}return t.initialize({options:e})}function ik(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(sr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function sk(n,e,t){const i=Ia(n);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=px(e),{host:l,port:u}=rk(e),h=u===null?"":`:${u}`,d={url:`${o}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(ba(d,i.config.emulator)&&ba(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,yh(l)?(B2(`${o}//${l}${h}`),j2("Auth",!0)):ok()}function px(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function rk(n){const e=px(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:hS(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:hS(l)}}}function hS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ok(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,t){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function ak(n,e){return _o(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(n,e){return bh(n,"POST","/v1/accounts:signInWithPassword",yo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(n,e){return bh(n,"POST","/v1/accounts:signInWithEmailLink",yo(n,e))}async function uk(n,e){return bh(n,"POST","/v1/accounts:signInWithEmailLink",yo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends bv{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new eh(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new eh(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p_(e,t,"signInWithPassword",lk);case"emailLink":return ck(e,{email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p_(e,i,"signUpPassword",ak);case"emailLink":return uk(e,{idToken:t,email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(n,e){return bh(n,"POST","/v1/accounts:signInWithIdp",yo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="http://localhost";class Ea extends bv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$i("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,o=gv(t,["providerId","signInMethod"]);if(!i||!s)return null;const l=new Ea(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return jl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,jl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jl(e,t)}buildRequest(){const e={requestUri:hk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dk(n){const e=zu(Uu(n)).link,t=e?zu(Uu(e)).deep_link_id:null,i=zu(Uu(n)).deep_link_id;return(i?zu(Uu(i)).link:null)||i||t||e||n}class Sv{constructor(e){var t,i,s,o,l,u;const h=zu(Uu(e)),d=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(i=h.oobCode)!==null&&i!==void 0?i:null,_=fk((s=h.mode)!==null&&s!==void 0?s:null);Ae(d&&g&&_,"argument-error"),this.apiKey=d,this.operation=_,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=dk(e);try{return new Sv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.providerId=pc.PROVIDER_ID}static credential(e,t){return eh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Sv.parseLink(t);return Ae(i,"argument-error"),eh._fromEmailAndCode(e,i.code,i.tenantId)}}pc.PROVIDER_ID="password";pc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends mx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Sh{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Sh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ea._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Qr.credential(t,i)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Sh{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Sh{constructor(){super("twitter.com")}static credential(e,t){return Ea._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Yr.credential(t,i)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(n,e){return bh(n,"POST","/v1/accounts:signUp",yo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const o=await Bi._fromIdTokenResponse(e,i,s),l=fS(i);return new Ta({user:o,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=fS(i);return new Ta({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function fS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends gr{constructor(e,t,i,s){var o;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,rp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new rp(e,t,i,s)}}function gx(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?rp._fromErrorAndOperation(n,o,e,i):o})}async function mk(n,e,t=!1){const i=await Ju(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ta._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(n,e,t=!1){const{auth:i}=n;if(Pi(i.app))return Promise.reject(lr(i));const s="reauthenticate";try{const o=await Ju(n,gx(i,s,e,n),t);Ae(o.idToken,i,"internal-error");const l=vv(o.idToken);Ae(l,i,"internal-error");const{sub:u}=l;return Ae(n.uid===u,i,"user-mismatch"),Ta._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&$i(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(n,e,t=!1){if(Pi(n.app))return Promise.reject(lr(n));const i="signIn",s=await gx(n,i,e),o=await Ta._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(o.user),o}async function yk(n,e){return yx(Ia(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(n){const e=Ia(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _k(n,e,t){if(Pi(n.app))return Promise.reject(lr(n));const i=Ia(n),l=await p_(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pk).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&_x(n),h}),u=await Ta._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function vk(n,e,t){return Pi(n.app)?Promise.reject(lr(n)):yk(ci(n),pc.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&_x(n),i})}function wk(n,e,t,i){return ci(n).onIdTokenChanged(e,t,i)}function bk(n,e,t){return ci(n).beforeAuthStateChanged(e,t)}function Sk(n,e,t,i){return ci(n).onAuthStateChanged(e,t,i)}function Ek(n){return ci(n).signOut()}const op="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(op,"1"),this.storage.removeItem(op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=1e3,xk=10;class wx extends vx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ux(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);j3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,xk):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Tk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wx.type="LOCAL";const Ak=wx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx extends vx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bx.type="SESSION";const Sx=bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Gp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:o}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(l).map(async d=>d(t.origin,o)),h=await Rk(u);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const d=Ev("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(_){const v=_;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(){return window}function Pk(n){vs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(){return typeof vs().WorkerGlobalScope<"u"&&typeof vs().importScripts=="function"}async function Ik(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ok(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function kk(){return Ex()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="firebaseLocalStorageDb",Dk=1,ap="firebaseLocalStorage",xx="fbase_key";class Eh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bp(n,e){return n.transaction([ap],e?"readwrite":"readonly").objectStore(ap)}function Mk(){const n=indexedDB.deleteDatabase(Tx);return new Eh(n).toPromise()}function m_(){const n=indexedDB.open(Tx,Dk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ap,{keyPath:xx})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ap)?e(i):(i.close(),await Mk(),e(await m_()))})})}async function dS(n,e,t){const i=Bp(n,!0).put({[xx]:e,value:t});return new Eh(i).toPromise()}async function Vk(n,e){const t=Bp(n,!1).get(e),i=await new Eh(t).toPromise();return i===void 0?null:i.value}function pS(n,e){const t=Bp(n,!0).delete(e);return new Eh(t).toPromise()}const Nk=800,Lk=3;class Ax{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await m_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Lk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ex()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gp._getInstance(kk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Ik(),!this.activeServiceWorker)return;this.sender=new Ck(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ok()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await m_();return await dS(e,op,"1"),await pS(e,op),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>dS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Vk(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Bp(s,!1).getAll();return new Eh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ax.type="LOCAL";const zk=Ax;new wh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(n,e){return e?sr(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends bv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gk(n){return yx(n.auth,new Tv(n),n.bypassAuthState)}function Bk(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),gk(t,new Tv(n),n.bypassAuthState)}async function jk(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),mk(t,new Tv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gk;case"linkViaPopup":case"linkViaRedirect":return jk;case"reauthViaPopup":case"reauthViaRedirect":return Bk;default:$i(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=new wh(2e3,1e4);class Vl extends Rx{constructor(e,t,i,s,o){super(e,t,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Vl.currentPopupAction&&Vl.currentPopupAction.cancel(),Vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=Ev();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Hk.get())};e()}}Vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="pendingRedirect",Gd=new Map;class qk extends Rx{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Gd.get(this.auth._key());if(!e){try{const i=await $k(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Gd.set(this.auth._key(),e)}return this.bypassAuthState||Gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $k(n,e){const t=Yk(e),i=Kk(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function Qk(n,e){Gd.set(n._key(),e)}function Kk(n){return sr(n._redirectPersistence)}function Yk(n){return Ud(Fk,n.config.apiKey,n.name)}async function Xk(n,e,t=!1){if(Pi(n.app))return Promise.reject(lr(n));const i=Ia(n),s=Uk(i,e),l=await new qk(i,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=10*60*1e3;class Zk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Jk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Cx(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(_s(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Wk&&this.cachedEventUids.clear(),this.cachedEventUids.has(mS(e))}saveEventToCache(e){this.cachedEventUids.add(mS(e)),this.lastProcessedEventTime=Date.now()}}function mS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Cx({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Jk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(n,e={}){return _o(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nD=/^https?/;async function iD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await eD(n);for(const t of e)try{if(sD(t))return}catch{}$i(n,"unauthorized-domain")}function sD(n){const e=f_(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!nD.test(t))return!1;if(tD.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new wh(3e4,6e4);function gS(){const n=vs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function oD(n){return new Promise((e,t)=>{var i,s,o;function l(){gS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gS(),t(_s(n,"network-request-failed"))},timeout:rD.get()})}if(!((s=(i=vs().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=vs().gapi)===null||o===void 0)&&o.load)l();else{const u=W3("iframefcb");return vs()[u]=()=>{gapi.load?l():t(_s(n,"network-request-failed"))},fx(`${X3()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw Bd=null,e})}let Bd=null;function aD(n){return Bd=Bd||oD(n),Bd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new wh(5e3,15e3),cD="__/auth/iframe",uD="emulator/auth/iframe",hD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dD(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?_v(e,uD):`https://${n.config.authDomain}/${cD}`,i={apiKey:e.apiKey,appName:n.name,v:dc},s=fD.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${vh(i).slice(1)}`}async function pD(n){const e=await aD(n),t=vs().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:dD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hD,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=_s(n,"network-request-failed"),u=vs().setTimeout(()=>{o(l)},lD.get());function h(){vs().clearTimeout(u),s(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gD=500,yD=600,_D="_blank",vD="http://localhost";class yS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wD(n,e,t,i=gD,s=yD){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},mD),{width:i.toString(),height:s.toString(),top:o,left:l}),d=kn().toLowerCase();t&&(u=rx(d)?_D:t),ix(d)&&(e=e||vD,h.scrollbars="yes");const g=Object.entries(h).reduce((v,[b,S])=>`${v}${b}=${S},`,"");if(B3(d)&&u!=="_self")return bD(e||"",u),new yS(null);const _=window.open(e||"",u,g);Ae(_,n,"popup-blocked");try{_.focus()}catch{}return new yS(_)}function bD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="__/auth/handler",ED="emulator/auth/handler",TD=encodeURIComponent("fac");async function _S(n,e,t,i,s,o){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:dc,eventId:s};if(e instanceof mx){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",c4(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Sh){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await n._getAppCheckToken(),d=h?`#${TD}=${encodeURIComponent(h)}`:"";return`${xD(n)}?${vh(u).slice(1)}${d}`}function xD({config:n}){return n.emulator?_v(n,ED):`https://${n.authDomain}/${SD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="webStorageSupport";class AD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sx,this._completeRedirectFn=Xk,this._overrideRedirectResult=Qk}async _openPopup(e,t,i,s){var o;fr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await _S(e,t,i,f_(),s);return wD(e,l,Ev())}async _openRedirect(e,t,i,s){await this._originValidation(e);const o=await _S(e,t,i,f_(),s);return Pk(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(fr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await pD(e),i=new Zk(e);return t.register("authEvent",s=>(Ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ry,{type:Ry},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Ry];l!==void 0&&t(!!l),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=iD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ux()||sx()||wv()}}const RD=AD;var vS="@firebase/auth",wS="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ID(n){Yl(new Sa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Ae(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hx(n)},d=new Q3(i,s,o,h);return ik(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Yl(new Sa("auth-internal",e=>{const t=Ia(e.getProvider("auth").getImmediate());return(i=>new CD(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ro(vS,wS,PD(n)),ro(vS,wS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=5*60,kD=G2("authIdTokenMaxAge")||OD;let bS=null;const DD=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>kD)return;const s=t==null?void 0:t.token;bS!==s&&(bS=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function MD(n=$2()){const e=mv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=nk(n,{popupRedirectResolver:RD,persistence:[zk,Ak,Sx]}),i=G2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=DD(o.toString());bk(t,l,()=>l(t.currentUser)),wk(t,u=>l(u))}}const s=z2("auth");return s&&sk(t,`http://${s}`),t}function VD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}K3({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const o=_s("internal-error");o.customData=s,t(o)},i.type="text/javascript",i.charset="UTF-8",VD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ID("Browser");var SS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oo,Px;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,P){function I(){}I.prototype=P.prototype,D.D=P.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(V,G,j){for(var k=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)k[Ge-2]=arguments[Ge];return P.prototype[G].apply(V,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,P,I){I||(I=0);var V=Array(16);if(typeof P=="string")for(var G=0;16>G;++G)V[G]=P.charCodeAt(I++)|P.charCodeAt(I++)<<8|P.charCodeAt(I++)<<16|P.charCodeAt(I++)<<24;else for(G=0;16>G;++G)V[G]=P[I++]|P[I++]<<8|P[I++]<<16|P[I++]<<24;P=D.g[0],I=D.g[1],G=D.g[2];var j=D.g[3],k=P+(j^I&(G^j))+V[0]+3614090360&4294967295;P=I+(k<<7&4294967295|k>>>25),k=j+(G^P&(I^G))+V[1]+3905402710&4294967295,j=P+(k<<12&4294967295|k>>>20),k=G+(I^j&(P^I))+V[2]+606105819&4294967295,G=j+(k<<17&4294967295|k>>>15),k=I+(P^G&(j^P))+V[3]+3250441966&4294967295,I=G+(k<<22&4294967295|k>>>10),k=P+(j^I&(G^j))+V[4]+4118548399&4294967295,P=I+(k<<7&4294967295|k>>>25),k=j+(G^P&(I^G))+V[5]+1200080426&4294967295,j=P+(k<<12&4294967295|k>>>20),k=G+(I^j&(P^I))+V[6]+2821735955&4294967295,G=j+(k<<17&4294967295|k>>>15),k=I+(P^G&(j^P))+V[7]+4249261313&4294967295,I=G+(k<<22&4294967295|k>>>10),k=P+(j^I&(G^j))+V[8]+1770035416&4294967295,P=I+(k<<7&4294967295|k>>>25),k=j+(G^P&(I^G))+V[9]+2336552879&4294967295,j=P+(k<<12&4294967295|k>>>20),k=G+(I^j&(P^I))+V[10]+4294925233&4294967295,G=j+(k<<17&4294967295|k>>>15),k=I+(P^G&(j^P))+V[11]+2304563134&4294967295,I=G+(k<<22&4294967295|k>>>10),k=P+(j^I&(G^j))+V[12]+1804603682&4294967295,P=I+(k<<7&4294967295|k>>>25),k=j+(G^P&(I^G))+V[13]+4254626195&4294967295,j=P+(k<<12&4294967295|k>>>20),k=G+(I^j&(P^I))+V[14]+2792965006&4294967295,G=j+(k<<17&4294967295|k>>>15),k=I+(P^G&(j^P))+V[15]+1236535329&4294967295,I=G+(k<<22&4294967295|k>>>10),k=P+(G^j&(I^G))+V[1]+4129170786&4294967295,P=I+(k<<5&4294967295|k>>>27),k=j+(I^G&(P^I))+V[6]+3225465664&4294967295,j=P+(k<<9&4294967295|k>>>23),k=G+(P^I&(j^P))+V[11]+643717713&4294967295,G=j+(k<<14&4294967295|k>>>18),k=I+(j^P&(G^j))+V[0]+3921069994&4294967295,I=G+(k<<20&4294967295|k>>>12),k=P+(G^j&(I^G))+V[5]+3593408605&4294967295,P=I+(k<<5&4294967295|k>>>27),k=j+(I^G&(P^I))+V[10]+38016083&4294967295,j=P+(k<<9&4294967295|k>>>23),k=G+(P^I&(j^P))+V[15]+3634488961&4294967295,G=j+(k<<14&4294967295|k>>>18),k=I+(j^P&(G^j))+V[4]+3889429448&4294967295,I=G+(k<<20&4294967295|k>>>12),k=P+(G^j&(I^G))+V[9]+568446438&4294967295,P=I+(k<<5&4294967295|k>>>27),k=j+(I^G&(P^I))+V[14]+3275163606&4294967295,j=P+(k<<9&4294967295|k>>>23),k=G+(P^I&(j^P))+V[3]+4107603335&4294967295,G=j+(k<<14&4294967295|k>>>18),k=I+(j^P&(G^j))+V[8]+1163531501&4294967295,I=G+(k<<20&4294967295|k>>>12),k=P+(G^j&(I^G))+V[13]+2850285829&4294967295,P=I+(k<<5&4294967295|k>>>27),k=j+(I^G&(P^I))+V[2]+4243563512&4294967295,j=P+(k<<9&4294967295|k>>>23),k=G+(P^I&(j^P))+V[7]+1735328473&4294967295,G=j+(k<<14&4294967295|k>>>18),k=I+(j^P&(G^j))+V[12]+2368359562&4294967295,I=G+(k<<20&4294967295|k>>>12),k=P+(I^G^j)+V[5]+4294588738&4294967295,P=I+(k<<4&4294967295|k>>>28),k=j+(P^I^G)+V[8]+2272392833&4294967295,j=P+(k<<11&4294967295|k>>>21),k=G+(j^P^I)+V[11]+1839030562&4294967295,G=j+(k<<16&4294967295|k>>>16),k=I+(G^j^P)+V[14]+4259657740&4294967295,I=G+(k<<23&4294967295|k>>>9),k=P+(I^G^j)+V[1]+2763975236&4294967295,P=I+(k<<4&4294967295|k>>>28),k=j+(P^I^G)+V[4]+1272893353&4294967295,j=P+(k<<11&4294967295|k>>>21),k=G+(j^P^I)+V[7]+4139469664&4294967295,G=j+(k<<16&4294967295|k>>>16),k=I+(G^j^P)+V[10]+3200236656&4294967295,I=G+(k<<23&4294967295|k>>>9),k=P+(I^G^j)+V[13]+681279174&4294967295,P=I+(k<<4&4294967295|k>>>28),k=j+(P^I^G)+V[0]+3936430074&4294967295,j=P+(k<<11&4294967295|k>>>21),k=G+(j^P^I)+V[3]+3572445317&4294967295,G=j+(k<<16&4294967295|k>>>16),k=I+(G^j^P)+V[6]+76029189&4294967295,I=G+(k<<23&4294967295|k>>>9),k=P+(I^G^j)+V[9]+3654602809&4294967295,P=I+(k<<4&4294967295|k>>>28),k=j+(P^I^G)+V[12]+3873151461&4294967295,j=P+(k<<11&4294967295|k>>>21),k=G+(j^P^I)+V[15]+530742520&4294967295,G=j+(k<<16&4294967295|k>>>16),k=I+(G^j^P)+V[2]+3299628645&4294967295,I=G+(k<<23&4294967295|k>>>9),k=P+(G^(I|~j))+V[0]+4096336452&4294967295,P=I+(k<<6&4294967295|k>>>26),k=j+(I^(P|~G))+V[7]+1126891415&4294967295,j=P+(k<<10&4294967295|k>>>22),k=G+(P^(j|~I))+V[14]+2878612391&4294967295,G=j+(k<<15&4294967295|k>>>17),k=I+(j^(G|~P))+V[5]+4237533241&4294967295,I=G+(k<<21&4294967295|k>>>11),k=P+(G^(I|~j))+V[12]+1700485571&4294967295,P=I+(k<<6&4294967295|k>>>26),k=j+(I^(P|~G))+V[3]+2399980690&4294967295,j=P+(k<<10&4294967295|k>>>22),k=G+(P^(j|~I))+V[10]+4293915773&4294967295,G=j+(k<<15&4294967295|k>>>17),k=I+(j^(G|~P))+V[1]+2240044497&4294967295,I=G+(k<<21&4294967295|k>>>11),k=P+(G^(I|~j))+V[8]+1873313359&4294967295,P=I+(k<<6&4294967295|k>>>26),k=j+(I^(P|~G))+V[15]+4264355552&4294967295,j=P+(k<<10&4294967295|k>>>22),k=G+(P^(j|~I))+V[6]+2734768916&4294967295,G=j+(k<<15&4294967295|k>>>17),k=I+(j^(G|~P))+V[13]+1309151649&4294967295,I=G+(k<<21&4294967295|k>>>11),k=P+(G^(I|~j))+V[4]+4149444226&4294967295,P=I+(k<<6&4294967295|k>>>26),k=j+(I^(P|~G))+V[11]+3174756917&4294967295,j=P+(k<<10&4294967295|k>>>22),k=G+(P^(j|~I))+V[2]+718787259&4294967295,G=j+(k<<15&4294967295|k>>>17),k=I+(j^(G|~P))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+P&4294967295,D.g[1]=D.g[1]+(G+(k<<21&4294967295|k>>>11))&4294967295,D.g[2]=D.g[2]+G&4294967295,D.g[3]=D.g[3]+j&4294967295}i.prototype.u=function(D,P){P===void 0&&(P=D.length);for(var I=P-this.blockSize,V=this.B,G=this.h,j=0;j<P;){if(G==0)for(;j<=I;)s(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<P;)if(V[G++]=D.charCodeAt(j++),G==this.blockSize){s(this,V),G=0;break}}else for(;j<P;)if(V[G++]=D[j++],G==this.blockSize){s(this,V),G=0;break}}this.h=G,this.o+=P},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var P=1;P<D.length-8;++P)D[P]=0;var I=8*this.o;for(P=D.length-8;P<D.length;++P)D[P]=I&255,I/=256;for(this.u(D),D=Array(16),P=I=0;4>P;++P)for(var V=0;32>V;V+=8)D[I++]=this.g[P]>>>V&255;return D};function o(D,P){var I=u;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=P(D)}function l(D,P){this.h=P;for(var I=[],V=!0,G=D.length-1;0<=G;G--){var j=D[G]|0;V&&j==P||(I[G]=j,V=!1)}this.g=I}var u={};function h(D){return-128<=D&&128>D?o(D,function(P){return new l([P|0],0>P?-1:0)}):new l([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return x(d(-D));for(var P=[],I=1,V=0;D>=I;V++)P[V]=D/I|0,I*=4294967296;return new l(P,0)}function g(D,P){if(D.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(D.charAt(0)=="-")return x(g(D.substring(1),P));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(P,8)),V=_,G=0;G<D.length;G+=8){var j=Math.min(8,D.length-G),k=parseInt(D.substring(G,G+j),P);8>j?(j=d(Math.pow(P,j)),V=V.j(j).add(d(k))):(V=V.j(I),V=V.add(d(k)))}return V}var _=h(0),v=h(1),b=h(16777216);n=l.prototype,n.m=function(){if(A(this))return-x(this).m();for(var D=0,P=1,I=0;I<this.g.length;I++){var V=this.i(I);D+=(0<=V?V:4294967296+V)*P,P*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(A(this))return"-"+x(this).toString(D);for(var P=d(Math.pow(D,6)),I=this,V="";;){var G=H(I,P).g;I=O(I,G.j(P));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=G,S(I))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var P=0;P<D.g.length;P++)if(D.g[P]!=0)return!1;return!0}function A(D){return D.h==-1}n.l=function(D){return D=O(this,D),A(D)?-1:S(D)?0:1};function x(D){for(var P=D.g.length,I=[],V=0;V<P;V++)I[V]=~D.g[V];return new l(I,~D.h).add(v)}n.abs=function(){return A(this)?x(this):this},n.add=function(D){for(var P=Math.max(this.g.length,D.g.length),I=[],V=0,G=0;G<=P;G++){var j=V+(this.i(G)&65535)+(D.i(G)&65535),k=(j>>>16)+(this.i(G)>>>16)+(D.i(G)>>>16);V=k>>>16,j&=65535,k&=65535,I[G]=k<<16|j}return new l(I,I[I.length-1]&-2147483648?-1:0)};function O(D,P){return D.add(x(P))}n.j=function(D){if(S(this)||S(D))return _;if(A(this))return A(D)?x(this).j(x(D)):x(x(this).j(D));if(A(D))return x(this.j(x(D)));if(0>this.l(b)&&0>D.l(b))return d(this.m()*D.m());for(var P=this.g.length+D.g.length,I=[],V=0;V<2*P;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var G=0;G<D.g.length;G++){var j=this.i(V)>>>16,k=this.i(V)&65535,Ge=D.i(G)>>>16,nt=D.i(G)&65535;I[2*V+2*G]+=k*nt,U(I,2*V+2*G),I[2*V+2*G+1]+=j*nt,U(I,2*V+2*G+1),I[2*V+2*G+1]+=k*Ge,U(I,2*V+2*G+1),I[2*V+2*G+2]+=j*Ge,U(I,2*V+2*G+2)}for(V=0;V<P;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=P;V<2*P;V++)I[V]=0;return new l(I,0)};function U(D,P){for(;(D[P]&65535)!=D[P];)D[P+1]+=D[P]>>>16,D[P]&=65535,P++}function L(D,P){this.g=D,this.h=P}function H(D,P){if(S(P))throw Error("division by zero");if(S(D))return new L(_,_);if(A(D))return P=H(x(D),P),new L(x(P.g),x(P.h));if(A(P))return P=H(D,x(P)),new L(x(P.g),P.h);if(30<D.g.length){if(A(D)||A(P))throw Error("slowDivide_ only works with positive integers.");for(var I=v,V=P;0>=V.l(D);)I=W(I),V=W(V);var G=le(I,1),j=le(V,1);for(V=le(V,2),I=le(I,2);!S(V);){var k=j.add(V);0>=k.l(D)&&(G=G.add(I),j=k),V=le(V,1),I=le(I,1)}return P=O(D,G.j(P)),new L(G,P)}for(G=_;0<=D.l(P);){for(I=Math.max(1,Math.floor(D.m()/P.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=d(I),k=j.j(P);A(k)||0<k.l(D);)I-=V,j=d(I),k=j.j(P);S(j)&&(j=v),G=G.add(j),D=O(D,k)}return new L(G,D)}n.A=function(D){return H(this,D).h},n.and=function(D){for(var P=Math.max(this.g.length,D.g.length),I=[],V=0;V<P;V++)I[V]=this.i(V)&D.i(V);return new l(I,this.h&D.h)},n.or=function(D){for(var P=Math.max(this.g.length,D.g.length),I=[],V=0;V<P;V++)I[V]=this.i(V)|D.i(V);return new l(I,this.h|D.h)},n.xor=function(D){for(var P=Math.max(this.g.length,D.g.length),I=[],V=0;V<P;V++)I[V]=this.i(V)^D.i(V);return new l(I,this.h^D.h)};function W(D){for(var P=D.g.length+1,I=[],V=0;V<P;V++)I[V]=D.i(V)<<1|D.i(V-1)>>>31;return new l(I,D.h)}function le(D,P){var I=P>>5;P%=32;for(var V=D.g.length-I,G=[],j=0;j<V;j++)G[j]=0<P?D.i(j+I)>>>P|D.i(j+I+1)<<32-P:D.i(j+I);return new l(G,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Px=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=g,oo=l}).apply(typeof SS<"u"?SS:typeof self<"u"?self:typeof window<"u"?window:{});var ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ix,Gu,Ox,jd,g_,kx,Dx,Mx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,w,E){return p==Array.prototype||p==Object.prototype||(p[w]=E.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof ad=="object"&&ad];for(var w=0;w<p.length;++w){var E=p[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function s(p,w){if(w)e:{var E=i;p=p.split(".");for(var C=0;C<p.length-1;C++){var $=p[C];if(!($ in E))break e;E=E[$]}p=p[p.length-1],C=E[p],w=w(C),w!=C&&w!=null&&e(E,p,{configurable:!0,writable:!0,value:w})}}function o(p,w){p instanceof String&&(p+="");var E=0,C=!1,$={next:function(){if(!C&&E<p.length){var J=E++;return{value:w(J,p[J]),done:!1}}return C=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(p){return p||function(){return o(this,function(w,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(p){var w=typeof p;return w=w!="object"?w:p?Array.isArray(p)?"array":w:"null",w=="array"||w=="object"&&typeof p.length=="number"}function d(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function g(p,w,E){return p.call.apply(p.bind,arguments)}function _(p,w,E){if(!p)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,C),p.apply(w,$)}}return function(){return p.apply(w,arguments)}}function v(p,w,E){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function b(p,w){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),p.apply(this,C)}}function S(p,w){function E(){}E.prototype=w.prototype,p.aa=w.prototype,p.prototype=new E,p.prototype.constructor=p,p.Qb=function(C,$,J){for(var de=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)de[Ke-2]=arguments[Ke];return w.prototype[$].apply(C,de)}}function A(p){const w=p.length;if(0<w){const E=Array(w);for(let C=0;C<w;C++)E[C]=p[C];return E}return[]}function x(p,w){for(let E=1;E<arguments.length;E++){const C=arguments[E];if(h(C)){const $=p.length||0,J=C.length||0;p.length=$+J;for(let de=0;de<J;de++)p[$+de]=C[de]}else p.push(C)}}class O{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function U(p){return/^[\s\xa0]*$/.test(p)}function L(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function H(p){return H[" "](p),p}H[" "]=function(){};var W=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function le(p,w,E){for(const C in p)w.call(E,p[C],C,p)}function D(p,w){for(const E in p)w.call(void 0,p[E],E,p)}function P(p){const w={};for(const E in p)w[E]=p[E];return w}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(p,w){let E,C;for(let $=1;$<arguments.length;$++){C=arguments[$];for(E in C)p[E]=C[E];for(let J=0;J<I.length;J++)E=I[J],Object.prototype.hasOwnProperty.call(C,E)&&(p[E]=C[E])}}function G(p){var w=1;p=p.split(":");const E=[];for(;0<w&&p.length;)E.push(p.shift()),w--;return p.length&&E.push(p.join(":")),E}function j(p){u.setTimeout(()=>{throw p},0)}function k(){var p=je;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class Ge{constructor(){this.h=this.g=null}add(w,E){const C=nt.get();C.set(w,E),this.h?this.h.next=C:this.g=C,this.h=C}}var nt=new O(()=>new te,p=>p.reset());class te{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ve=!1,je=new Ge,z=()=>{const p=u.Promise.resolve(void 0);he=()=>{p.then(ae)}};var ae=()=>{for(var p;p=k();){try{p.h.call(p.g)}catch(E){j(E)}var w=nt;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}ve=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const E=()=>{};u.addEventListener("test",E,w),u.removeEventListener("test",E,w)}catch{}return p}();function Me(p,w){if(ue.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var E=this.type=p.type,C=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(W){e:{try{H(w.nodeName);var $=!0;break e}catch{}$=!1}$||(w=null)}}else E=="mouseover"?w=p.fromElement:E=="mouseout"&&(w=p.toElement);this.relatedTarget=w,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Re[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Me.aa.h.call(this)}}S(Me,ue);var Re={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),ht=0;function hi(p,w,E,C,$){this.listener=p,this.proxy=null,this.src=w,this.type=E,this.capture=!!C,this.ha=$,this.key=++ht,this.da=this.fa=!1}function Wn(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Di(p){this.src=p,this.g={},this.h=0}Di.prototype.add=function(p,w,E,C,$){var J=p.toString();p=this.g[J],p||(p=this.g[J]=[],this.h++);var de=wo(p,w,C,$);return-1<de?(w=p[de],E||(w.fa=!1)):(w=new hi(w,this.src,J,!!C,$),w.fa=E,p.push(w)),w};function vo(p,w){var E=w.type;if(E in p.g){var C=p.g[E],$=Array.prototype.indexOf.call(C,w,void 0),J;(J=0<=$)&&Array.prototype.splice.call(C,$,1),J&&(Wn(w),p.g[E].length==0&&(delete p.g[E],p.h--))}}function wo(p,w,E,C){for(var $=0;$<p.length;++$){var J=p[$];if(!J.da&&J.listener==w&&J.capture==!!E&&J.ha==C)return $}return-1}var bo="closure_lm_"+(1e6*Math.random()|0),Sc={};function Mh(p,w,E,C,$){if(Array.isArray(w)){for(var J=0;J<w.length;J++)Mh(p,w[J],E,C,$);return null}return E=Vh(E),p&&p[zt]?p.K(w,E,d(C)?!!C.capture:!1,$):fi(p,w,E,!1,C,$)}function fi(p,w,E,C,$,J){if(!w)throw Error("Invalid event type");var de=d($)?!!$.capture:!!$,Ke=Na(p);if(Ke||(p[bo]=Ke=new Di(p)),E=Ke.add(w,E,C,de,J),E.proxy)return E;if(C=fm(),E.proxy=C,C.src=p,C.listener=E,p.addEventListener)be||($=de),$===void 0&&($=!1),p.addEventListener(w.toString(),C,$);else if(p.attachEvent)p.attachEvent(So(w.toString()),C);else if(p.addListener&&p.removeListener)p.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function fm(){function p(E){return w.call(p.src,p.listener,E)}const w=dm;return p}function Ec(p,w,E,C,$){if(Array.isArray(w))for(var J=0;J<w.length;J++)Ec(p,w[J],E,C,$);else C=d(C)?!!C.capture:!!C,E=Vh(E),p&&p[zt]?(p=p.i,w=String(w).toString(),w in p.g&&(J=p.g[w],E=wo(J,E,C,$),-1<E&&(Wn(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete p.g[w],p.h--)))):p&&(p=Na(p))&&(w=p.g[w.toString()],p=-1,w&&(p=wo(w,E,C,$)),(E=-1<p?w[p]:null)&&Va(E))}function Va(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[zt])vo(w.i,p);else{var E=p.type,C=p.proxy;w.removeEventListener?w.removeEventListener(E,C,p.capture):w.detachEvent?w.detachEvent(So(E),C):w.addListener&&w.removeListener&&w.removeListener(C),(E=Na(w))?(vo(E,p),E.h==0&&(E.src=null,w[bo]=null)):Wn(p)}}}function So(p){return p in Sc?Sc[p]:Sc[p]="on"+p}function dm(p,w){if(p.da)p=!0;else{w=new Me(w,this);var E=p.listener,C=p.ha||p.src;p.fa&&Va(p),p=E.call(C,w)}return p}function Na(p){return p=p[bo],p instanceof Di?p:null}var Tc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vh(p){return typeof p=="function"?p:(p[Tc]||(p[Tc]=function(w){return p.handleEvent(w)}),p[Tc])}function xt(){fe.call(this),this.i=new Di(this),this.M=this,this.F=null}S(xt,fe),xt.prototype[zt]=!0,xt.prototype.removeEventListener=function(p,w,E,C){Ec(this,p,w,E,C)};function ot(p,w){var E,C=p.F;if(C)for(E=[];C;C=C.F)E.push(C);if(p=p.M,C=w.type||w,typeof w=="string")w=new ue(w,p);else if(w instanceof ue)w.target=w.target||p;else{var $=w;w=new ue(C,p),V(w,$)}if($=!0,E)for(var J=E.length-1;0<=J;J--){var de=w.g=E[J];$=Zn(de,C,!0,w)&&$}if(de=w.g=p,$=Zn(de,C,!0,w)&&$,$=Zn(de,C,!1,w)&&$,E)for(J=0;J<E.length;J++)de=w.g=E[J],$=Zn(de,C,!1,w)&&$}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var p=this.i,w;for(w in p.g){for(var E=p.g[w],C=0;C<E.length;C++)Wn(E[C]);delete p.g[w],p.h--}}this.F=null},xt.prototype.K=function(p,w,E,C){return this.i.add(String(p),w,!1,E,C)},xt.prototype.L=function(p,w,E,C){return this.i.add(String(p),w,!0,E,C)};function Zn(p,w,E,C){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();for(var $=!0,J=0;J<w.length;++J){var de=w[J];if(de&&!de.da&&de.capture==E){var Ke=de.listener,Kt=de.ha||de.src;de.fa&&vo(p.i,de),$=Ke.call(Kt,C)!==!1&&$}}return $&&!C.defaultPrevented}function Tn(p,w,E){if(typeof p=="function")E&&(p=v(p,E));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(p,w||0)}function Nh(p){p.g=Tn(()=>{p.g=null,p.i&&(p.i=!1,Nh(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class pm extends fe{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Nh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Eo(p){fe.call(this),this.h=p,this.g={}}S(Eo,fe);var To=[];function xo(p){le(p.g,function(w,E){this.g.hasOwnProperty(E)&&Va(w)},p),p.g={}}Eo.prototype.N=function(){Eo.aa.N.call(this),xo(this)},Eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mi=u.JSON.stringify,La=u.JSON.parse,Ao=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function xc(){}xc.prototype.h=null;function Ac(p){return p.h||(p.h=p.i())}function Rc(){}var Is={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Os(){ue.call(this,"d")}S(Os,ue);function Cc(){ue.call(this,"c")}S(Cc,ue);var Wi={},Pc=null;function yr(){return Pc=Pc||new xt}Wi.La="serverreachability";function za(p){ue.call(this,Wi.La,p)}S(za,ue);function _r(p){const w=yr();ot(w,new za(w))}Wi.STAT_EVENT="statevent";function Lh(p,w){ue.call(this,Wi.STAT_EVENT,p),this.stat=w}S(Lh,ue);function wt(p){const w=yr();ot(w,new Lh(w,p))}Wi.Ma="timingevent";function Qt(p,w){ue.call(this,Wi.Ma,p),this.size=w}S(Qt,ue);function Ut(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},w)}function di(){this.g=!0}di.prototype.xa=function(){this.g=!1};function Ic(p,w,E,C,$,J){p.info(function(){if(p.g)if(J)for(var de="",Ke=J.split("&"),Kt=0;Kt<Ke.length;Kt++){var Ye=Ke[Kt].split("=");if(1<Ye.length){var sn=Ye[0];Ye=Ye[1];var Yt=sn.split("_");de=2<=Yt.length&&Yt[1]=="type"?de+(sn+"="+Ye+"&"):de+(sn+"=redacted&")}}else de=null;else de=J;return"XMLHTTP REQ ("+C+") [attempt "+$+"]: "+w+`
`+E+`
`+de})}function mm(p,w,E,C,$,J,de){p.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+$+"]: "+w+`
`+E+`
`+J+" "+de})}function vr(p,w,E,C){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ro(p,E)+(C?" "+C:"")})}function zh(p,w){p.info(function(){return"TIMEOUT: "+w})}di.prototype.info=function(){};function Ro(p,w){if(!p.g)return w;if(!w)return null;try{var E=JSON.parse(w);if(E){for(p=0;p<E.length;p++)if(Array.isArray(E[p])){var C=E[p];if(!(2>C.length)){var $=C[1];if(Array.isArray($)&&!(1>$.length)){var J=$[0];if(J!="noop"&&J!="stop"&&J!="close")for(var de=1;de<$.length;de++)$[de]=""}}}}return Mi(E)}catch{return w}}var wr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ks={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zi;function Ji(){}S(Ji,xc),Ji.prototype.g=function(){return new XMLHttpRequest},Ji.prototype.i=function(){return{}},Zi=new Ji;function Dn(p,w,E,C){this.j=p,this.i=w,this.l=E,this.R=C||1,this.U=new Eo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}var Oc={},Ua={};function Vi(p,w,E){p.L=1,p.v=ko(Jn(w)),p.m=E,p.P=!0,Ds(p,null)}function Ds(p,w){p.F=Date.now(),Co(p),p.A=Jn(p.v);var E=p.A,C=p.R;Array.isArray(C)||(C=[String(C)]),Lc(E.i,"t",C),p.C=0,E=p.j.J,p.h=new Ot,p.g=ef(p.j,E?w:null,!p.m),0<p.O&&(p.M=new pm(v(p.Y,p,p.g),p.O)),w=p.U,E=p.g,C=p.ca;var $="readystatechange";Array.isArray($)||($&&(To[0]=$.toString()),$=To);for(var J=0;J<$.length;J++){var de=Mh(E,$[J],C||w.handleEvent,!1,w.h||w);if(!de)break;w.g[de.key]=de}w=p.H?P(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),_r(),Ic(p.i,p.u,p.A,p.l,p.R,p.m)}Dn.prototype.ca=function(p){p=p.target;const w=this.M;w&&yi(p)==3?w.j():this.Y(p)},Dn.prototype.Y=function(p){try{if(p==this.g)e:{const Yt=yi(this.g);var w=this.g.Ba();const Bs=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||$h(this.g)))){this.J||Yt!=4||w==7||(w==8||0>=Bs?_r(3):_r(2)),br(this);var E=this.g.Z();this.X=E;t:if(Uh(this)){var C=$h(this.g);p="";var $=C.length,J=yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),es(this);var de="";break t}this.h.i=new u.TextDecoder}for(w=0;w<$;w++)this.h.h=!0,p+=this.h.i.decode(C[w],{stream:!(J&&w==$-1)});C.length=0,this.h.g+=p,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,mm(this.i,this.u,this.A,this.l,this.R,Yt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Kt=this.g;if((Ke=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ke)){var Ye=Ke;break t}}Ye=null}if(E=Ye)vr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Po(this,E);else{this.o=!1,this.s=3,wt(12),hn(this),es(this);break e}}if(this.P){E=!0;let fn;for(;!this.J&&this.C<de.length;)if(fn=Gh(this,de),fn==Ua){Yt==4&&(this.s=4,wt(14),E=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Oc){this.s=4,wt(15),vr(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else vr(this.i,this.l,fn,null),Po(this,fn);if(Uh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||de.length!=0||this.h.h||(this.s=1,wt(16),E=!1),this.o=this.o&&E,!E)vr(this.i,this.l,de,"[Invalid Chunked Response]"),hn(this),es(this);else if(0<de.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Go(sn),sn.M=!0,wt(11))}}else vr(this.i,this.l,de,null),Po(this,de);Yt==4&&hn(this),this.o&&!this.J&&(Yt==4?Wh(this.j,this):(this.o=!1,Co(this)))}else wm(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),hn(this),es(this)}}}catch{}finally{}};function Uh(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Gh(p,w){var E=p.C,C=w.indexOf(`
`,E);return C==-1?Ua:(E=Number(w.substring(E,C)),isNaN(E)?Oc:(C+=1,C+E>w.length?Ua:(w=w.slice(C,C+E),p.C=C+E,w)))}Dn.prototype.cancel=function(){this.J=!0,hn(this)};function Co(p){p.S=Date.now()+p.I,Bh(p,p.I)}function Bh(p,w){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Ut(v(p.ba,p),w)}function br(p){p.B&&(u.clearTimeout(p.B),p.B=null)}Dn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(zh(this.i,this.A),this.L!=2&&(_r(),wt(17)),hn(this),this.s=2,es(this)):Bh(this,this.S-p)};function es(p){p.j.G==0||p.J||Wh(p.j,p)}function hn(p){br(p);var w=p.M;w&&typeof w.ma=="function"&&w.ma(),p.M=null,xo(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function Po(p,w){try{var E=p.j;if(E.G!=0&&(E.g==p||kc(E.h,p))){if(!p.K&&kc(E.h,p)&&E.G==3){try{var C=E.Da.g.parse(w)}catch{C=null}if(Array.isArray(C)&&C.length==3){var $=C;if($[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<p.F)Wa(E),Ya(E);else break e;jc(E),wt(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ut(v(E.Za,E),6e3));if(1>=Ba(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Gs(E,11)}else if((p.K||E.g==p)&&Wa(E),!U(w))for($=E.Da.g.parse(w),w=0;w<$.length;w++){let Ye=$[w];if(E.T=Ye[0],Ye=Ye[1],E.G==2)if(Ye[0]=="c"){E.K=Ye[1],E.ia=Ye[2];const sn=Ye[3];sn!=null&&(E.la=sn,E.j.info("VER="+E.la));const Yt=Ye[4];Yt!=null&&(E.Aa=Yt,E.j.info("SVER="+E.Aa));const Bs=Ye[5];Bs!=null&&typeof Bs=="number"&&0<Bs&&(C=1.5*Bs,E.L=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const fn=p.g;if(fn){const as=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(as){var J=C.h;J.g||as.indexOf("spdy")==-1&&as.indexOf("quic")==-1&&as.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ja(J,J.h),J.h=null))}if(C.D){const Fc=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fc&&(C.ya=Fc,ft(C.I,C.D,Fc))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-p.F,E.j.info("Handshake RTT: "+E.R+"ms")),C=E;var de=p;if(C.qa=Jh(C,C.J?C.ia:null,C.W),de.K){Mn(C.h,de);var Ke=de,Kt=C.L;Kt&&(Ke.I=Kt),Ke.B&&(br(Ke),Co(Ke)),C.g=de}else Yh(C);0<E.i.length&&Xa(E)}else Ye[0]!="stop"&&Ye[0]!="close"||Gs(E,7);else E.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Gs(E,7):Gc(E):Ye[0]!="noop"&&E.l&&E.l.ta(Ye),E.v=0)}}_r(4)}catch{}}var jh=class{constructor(p,w){this.g=p,this.map=w}};function Ms(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ga(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ba(p){return p.h?1:p.g?p.g.size:0}function kc(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function ja(p,w){p.g?p.g.add(w):p.h=w}function Mn(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}Ms.prototype.cancel=function(){if(this.i=Dc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Dc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const E of p.g.values())w=w.concat(E.D);return w}return A(p.i)}function gm(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var w=[],E=p.length,C=0;C<E;C++)w.push(p[C]);return w}w=[],E=0;for(C in p)w[E++]=p[C];return w}function Ha(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var w=[];p=p.length;for(var E=0;E<p;E++)w.push(E);return w}w=[],E=0;for(const C in p)w[E++]=C;return w}}}function Mc(p,w){if(p.forEach&&typeof p.forEach=="function")p.forEach(w,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,w,void 0);else for(var E=Ha(p),C=gm(p),$=C.length,J=0;J<$;J++)w.call(void 0,C[J],E&&E[J],p)}var Io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ym(p,w){if(p){p=p.split("&");for(var E=0;E<p.length;E++){var C=p[E].indexOf("="),$=null;if(0<=C){var J=p[E].substring(0,C);$=p[E].substring(C+1)}else J=p[E];w(J,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Gt(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Gt){this.h=p.h,Oo(this,p.j),this.o=p.o,this.g=p.g,Sr(this,p.s),this.l=p.l;var w=p.i,E=new Ns;E.i=w.i,w.g&&(E.g=new Map(w.g),E.h=w.h),Vs(this,E),this.m=p.m}else p&&(w=String(p).match(Io))?(this.h=!1,Oo(this,w[1]||"",!0),this.o=pi(w[2]||""),this.g=pi(w[3]||"",!0),Sr(this,w[4]),this.l=pi(w[5]||"",!0),Vs(this,w[6]||"",!0),this.m=pi(w[7]||"")):(this.h=!1,this.i=new Ns(null,this.h))}Gt.prototype.toString=function(){var p=[],w=this.j;w&&p.push(Do(w,Vc,!0),":");var E=this.g;return(E||w=="file")&&(p.push("//"),(w=this.o)&&p.push(Do(w,Vc,!0),"@"),p.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&p.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&p.push("/"),p.push(Do(E,E.charAt(0)=="/"?_m:Nc,!0))),(E=this.i.toString())&&p.push("?",E),(E=this.m)&&p.push("#",Do(E,Fa)),p.join("")};function Jn(p){return new Gt(p)}function Oo(p,w,E){p.j=E?pi(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function Sr(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function Vs(p,w,E){w instanceof Ns?(p.i=w,Fh(p.i,p.h)):(E||(w=Do(w,vm)),p.i=new Ns(w,p.h))}function ft(p,w,E){p.i.set(w,E)}function ko(p){return ft(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function pi(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Do(p,w,E){return typeof p=="string"?(p=encodeURI(p).replace(w,Hh),E&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Hh(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Vc=/[#\/\?@]/g,Nc=/[#\?:]/g,_m=/[#\?]/g,vm=/[#\?@]/g,Fa=/#/g;function Ns(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function mi(p){p.g||(p.g=new Map,p.h=0,p.i&&ym(p.i,function(w,E){p.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}n=Ns.prototype,n.add=function(p,w){mi(this),this.i=null,p=ts(this,p);var E=this.g.get(p);return E||this.g.set(p,E=[]),E.push(w),this.h+=1,this};function Ls(p,w){mi(p),w=ts(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function zs(p,w){return mi(p),w=ts(p,w),p.g.has(w)}n.forEach=function(p,w){mi(this),this.g.forEach(function(E,C){E.forEach(function($){p.call(w,$,C,this)},this)},this)},n.na=function(){mi(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),E=[];for(let C=0;C<w.length;C++){const $=p[C];for(let J=0;J<$.length;J++)E.push(w[C])}return E},n.V=function(p){mi(this);let w=[];if(typeof p=="string")zs(this,p)&&(w=w.concat(this.g.get(ts(this,p))));else{p=Array.from(this.g.values());for(let E=0;E<p.length;E++)w=w.concat(p[E])}return w},n.set=function(p,w){return mi(this),this.i=null,p=ts(this,p),zs(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},n.get=function(p,w){return p?(p=this.V(p),0<p.length?String(p[0]):w):w};function Lc(p,w,E){Ls(p,w),0<E.length&&(p.i=null,p.g.set(ts(p,w),A(E)),p.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var E=0;E<w.length;E++){var C=w[E];const J=encodeURIComponent(String(C)),de=this.V(C);for(C=0;C<de.length;C++){var $=J;de[C]!==""&&($+="="+encodeURIComponent(String(de[C]))),p.push($)}}return this.i=p.join("&")};function ts(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function Fh(p,w){w&&!p.j&&(mi(p),p.i=null,p.g.forEach(function(E,C){var $=C.toLowerCase();C!=$&&(Ls(this,C),Lc(this,$,E))},p)),p.j=w}function Mo(p,w){const E=new di;if(u.Image){const C=new Image;C.onload=b(gi,E,"TestLoadImage: loaded",!0,w,C),C.onerror=b(gi,E,"TestLoadImage: error",!1,w,C),C.onabort=b(gi,E,"TestLoadImage: abort",!1,w,C),C.ontimeout=b(gi,E,"TestLoadImage: timeout",!1,w,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=p}else w(!1)}function Ni(p,w){const E=new di,C=new AbortController,$=setTimeout(()=>{C.abort(),gi(E,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:C.signal}).then(J=>{clearTimeout($),J.ok?gi(E,"TestPingServer: ok",!0,w):gi(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout($),gi(E,"TestPingServer: error",!1,w)})}function gi(p,w,E,C,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),C(E)}catch{}}function Vo(){this.g=new Ao}function ns(p,w,E){const C=E||"";try{Mc(p,function($,J){let de=$;d($)&&(de=Mi($)),w.push(C+J+"="+encodeURIComponent(de))})}catch($){throw w.push(C+"type="+encodeURIComponent("_badmap")),$}}function Er(p){this.l=p.Ub||null,this.j=p.eb||!1}S(Er,xc),Er.prototype.g=function(){return new Us(this.l,this.j)},Er.prototype.i=function(p){return function(){return p}}({});function Us(p,w){xt.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Us,xt),n=Us.prototype,n.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,ss(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,is(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ss(this)),this.g&&(this.readyState=3,ss(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function zc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?is(this):ss(this),this.readyState==3&&zc(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,is(this))},n.Qa=function(p){this.g&&(this.response=p,is(this))},n.ga=function(){this.g&&is(this)};function is(p){p.readyState=4,p.l=null,p.j=null,p.v=null,ss(p)}n.setRequestHeader=function(p,w){this.u.append(p,w)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,p.push(E[0]+": "+E[1]),E=w.next();return p.join(`\r
`)};function ss(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Uc(p){let w="";return le(p,function(E,C){w+=C,w+=":",w+=E,w+=`\r
`}),w}function nn(p,w,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=Uc(E),typeof p=="string"?E!=null&&encodeURIComponent(String(E)):ft(p,w,E))}function it(p){xt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(it,xt);var qa=/^https?$/i,No=["POST","PUT"];n=it.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,w,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zi.g(),this.v=this.o?Ac(this.o):Ac(Zi),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(J){qh(this,J);return}if(p=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var $ in C)E.set($,C[$]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())E.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),$=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(No,w,void 0))||C||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of E)this.g.setRequestHeader(J,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lo(this),this.u=!0,this.g.send(p),this.u=!1}catch(J){qh(this,J)}};function qh(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,$a(p),rs(p)}function $a(p){p.A||(p.A=!0,ot(p,"complete"),ot(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,ot(this,"complete"),ot(this,"abort"),rs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},n.bb=function(){Qa(this)};function Qa(p){if(p.h&&typeof l<"u"&&(!p.v[1]||yi(p)!=4||p.Z()!=2)){if(p.u&&yi(p)==4)Tn(p.Ea,0,p);else if(ot(p,"readystatechange"),yi(p)==4){p.h=!1;try{const de=p.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var C;if(C=de===0){var $=String(p.D).match(Io)[1]||null;!$&&u.self&&u.self.location&&($=u.self.location.protocol.slice(0,-1)),C=!qa.test($?$.toLowerCase():"")}E=C}if(E)ot(p,"complete"),ot(p,"success");else{p.m=6;try{var J=2<yi(p)?p.g.statusText:""}catch{J=""}p.l=J+" ["+p.Z()+"]",$a(p)}}finally{rs(p)}}}}function rs(p,w){if(p.g){Lo(p);const E=p.g,C=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||ot(p,"ready");try{E.onreadystatechange=C}catch{}}}function Lo(p){p.I&&(u.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function yi(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<yi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),La(w)}};function $h(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function wm(p){const w={};p=(p.g&&2<=yi(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<p.length;C++){if(U(p[C]))continue;var E=G(p[C]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=w[$]||[];w[$]=J,J.push(E)}D(w,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zo(p,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[p]||w}function Ka(p){this.Aa=0,this.i=[],this.j=new di,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zo("baseRetryDelayMs",5e3,p),this.cb=zo("retryDelaySeedMs",1e4,p),this.Wa=zo("forwardChannelMaxRetries",2,p),this.wa=zo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Ms(p&&p.concurrentRequestLimit),this.Da=new Vo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ka.prototype,n.la=8,n.G=1,n.connect=function(p,w,E,C){wt(0),this.W=p,this.H=w||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.I=Jh(this,null,this.W),Xa(this)};function Gc(p){if(Qh(p),p.G==3){var w=p.U++,E=Jn(p.I);if(ft(E,"SID",p.K),ft(E,"RID",w),ft(E,"TYPE","terminate"),Uo(p,E),w=new Dn(p,p.j,w),w.L=2,w.v=ko(Jn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=w.v,E=!0),E||(w.g=ef(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Co(w)}Zh(p)}function Ya(p){p.g&&(Go(p),p.g.cancel(),p.g=null)}function Qh(p){Ya(p),p.u&&(u.clearTimeout(p.u),p.u=null),Wa(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function Xa(p){if(!Ga(p.h)&&!p.s){p.s=!0;var w=p.Ga;he||z(),ve||(he(),ve=!0),je.add(w,p),p.B=0}}function bm(p,w){return Ba(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=w.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Ut(v(p.Ga,p,w),Hc(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const $=new Dn(this,this.j,p);let J=this.o;if(this.S&&(J?(J=P(J),V(J,this.S)):J=this.S),this.m!==null||this.O||($.H=J,J=null),this.P)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(w+=C,4096<w){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=Kh(this,$,w),E=Jn(this.I),ft(E,"RID",p),ft(E,"CVER",22),this.D&&ft(E,"X-HTTP-Session-Id",this.D),Uo(this,E),J&&(this.O?w="headers="+encodeURIComponent(String(Uc(J)))+"&"+w:this.m&&nn(E,this.m,J)),ja(this.h,$),this.Ua&&ft(E,"TYPE","init"),this.P?(ft(E,"$req",w),ft(E,"SID","null"),$.T=!0,Vi($,E,null)):Vi($,E,w),this.G=2}}else this.G==3&&(p?Bc(this,p):this.i.length==0||Ga(this.h)||Bc(this))};function Bc(p,w){var E;w?E=w.l:E=p.U++;const C=Jn(p.I);ft(C,"SID",p.K),ft(C,"RID",E),ft(C,"AID",p.T),Uo(p,C),p.m&&p.o&&nn(C,p.m,p.o),E=new Dn(p,p.j,E,p.B+1),p.m===null&&(E.H=p.o),w&&(p.i=w.D.concat(p.i)),w=Kh(p,E,1e3),E.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),ja(p.h,E),Vi(E,C,w)}function Uo(p,w){p.H&&le(p.H,function(E,C){ft(w,C,E)}),p.l&&Mc({},function(E,C){ft(w,C,E)})}function Kh(p,w,E){E=Math.min(p.i.length,E);var C=p.l?v(p.l.Na,p.l,p):null;e:{var $=p.i;let J=-1;for(;;){const de=["count="+E];J==-1?0<E?(J=$[0].g,de.push("ofs="+J)):J=0:de.push("ofs="+J);let Ke=!0;for(let Kt=0;Kt<E;Kt++){let Ye=$[Kt].g;const sn=$[Kt].map;if(Ye-=J,0>Ye)J=Math.max(0,$[Kt].g-100),Ke=!1;else try{ns(sn,de,"req"+Ye+"_")}catch{C&&C(sn)}}if(Ke){C=de.join("&");break e}}}return p=p.i.splice(0,E),w.D=p,C}function Yh(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;he||z(),ve||(he(),ve=!0),je.add(w,p),p.v=0}}function jc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Ut(v(p.Fa,p),Hc(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Xh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Ut(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Ya(this),Xh(this))};function Go(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function Xh(p){p.g=new Dn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var w=Jn(p.qa);ft(w,"RID","rpc"),ft(w,"SID",p.K),ft(w,"AID",p.T),ft(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&ft(w,"TO",p.ja),ft(w,"TYPE","xmlhttp"),Uo(p,w),p.m&&p.o&&nn(w,p.m,p.o),p.L&&(p.g.I=p.L);var E=p.g;p=p.ia,E.L=1,E.v=ko(Jn(w)),E.m=null,E.P=!0,Ds(E,p)}n.Za=function(){this.C!=null&&(this.C=null,Ya(this),jc(this),wt(19))};function Wa(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Wh(p,w){var E=null;if(p.g==w){Wa(p),Go(p),p.g=null;var C=2}else if(kc(p.h,w))E=w.D,Mn(p.h,w),C=1;else return;if(p.G!=0){if(w.o)if(C==1){E=w.m?w.m.length:0,w=Date.now()-w.F;var $=p.B;C=yr(),ot(C,new Qt(C,E)),Xa(p)}else Yh(p);else if($=w.s,$==3||$==0&&0<w.X||!(C==1&&bm(p,w)||C==2&&jc(p)))switch(E&&0<E.length&&(w=p.h,w.i=w.i.concat(E)),$){case 1:Gs(p,5);break;case 4:Gs(p,10);break;case 3:Gs(p,6);break;default:Gs(p,2)}}}function Hc(p,w){let E=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(E*=2),E*w}function Gs(p,w){if(p.j.info("Error code "+w),w==2){var E=v(p.fb,p),C=p.Xa;const $=!C;C=new Gt(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Oo(C,"https"),ko(C),$?Mo(C.toString(),E):Ni(C.toString(),E)}else wt(2);p.G=0,p.l&&p.l.sa(w),Zh(p),Qh(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Zh(p){if(p.G=0,p.ka=[],p.l){const w=Dc(p.h);(w.length!=0||p.i.length!=0)&&(x(p.ka,w),x(p.ka,p.i),p.h.i.length=0,A(p.i),p.i.length=0),p.l.ra()}}function Jh(p,w,E){var C=E instanceof Gt?Jn(E):new Gt(E);if(C.g!="")w&&(C.g=w+"."+C.g),Sr(C,C.s);else{var $=u.location;C=$.protocol,w=w?w+"."+$.hostname:$.hostname,$=+$.port;var J=new Gt(null);C&&Oo(J,C),w&&(J.g=w),$&&Sr(J,$),E&&(J.l=E),C=J}return E=p.D,w=p.ya,E&&w&&ft(C,E,w),ft(C,"VER",p.la),Uo(p,C),C}function ef(p,w,E){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Ca&&!p.pa?new it(new Er({eb:E})):new it(p.pa),w.Ha(p.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function tf(){}n=tf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Za(){}Za.prototype.g=function(p,w){return new Vn(p,w)};function Vn(p,w){xt.call(this),this.g=new Ka(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!U(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!U(w)&&(this.g.D=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new os(this)}S(Vn,xt),Vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){Gc(this.g)},Vn.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var E={};E.__data__=p,p=E}else this.u&&(E={},E.__data__=Mi(p),p=E);w.i.push(new jh(w.Ya++,p)),w.G==3&&Xa(w)},Vn.prototype.N=function(){this.g.l=null,delete this.j,Gc(this.g),delete this.g,Vn.aa.N.call(this)};function nf(p){Os.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const E in w){p=E;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}S(nf,Os);function sf(){Cc.call(this),this.status=1}S(sf,Cc);function os(p){this.g=p}S(os,tf),os.prototype.ua=function(){ot(this.g,"a")},os.prototype.ta=function(p){ot(this.g,new nf(p))},os.prototype.sa=function(p){ot(this.g,new sf)},os.prototype.ra=function(){ot(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,Mx=function(){return new Za},Dx=function(){return yr()},kx=Wi,g_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,jd=wr,ks.COMPLETE="complete",Ox=ks,Rc.EventType=Is,Is.OPEN="a",Is.CLOSE="b",Is.ERROR="c",Is.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Gu=Rc,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,Ix=it}).apply(typeof ad<"u"?ad:typeof self<"u"?self:typeof window<"u"?window:{});const ES="@firebase/firestore",TS="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new dv("@firebase/firestore");function Ol(){return xa.logLevel}function ye(n,...e){if(xa.logLevel<=$e.DEBUG){const t=e.map(xv);xa.debug(`Firestore (${mc}): ${n}`,...t)}}function dr(n,...e){if(xa.logLevel<=$e.ERROR){const t=e.map(xv);xa.error(`Firestore (${mc}): ${n}`,...t)}}function Xl(n,...e){if(xa.logLevel<=$e.WARN){const t=e.map(xv);xa.warn(`Firestore (${mc}): ${n}`,...t)}}function xv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Vx(n,i,t)}function Vx(n,e,t){let i=`FIRESTORE (${mc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw dr(i),new Error(i)}function rt(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||Vx(e,s,i)}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends gr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ND{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Cn.UNAUTHENTICATED))}shutdown(){}}class LD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zD{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let o=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ao,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},u=h=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ao)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rt(typeof i.accessToken=="string",31837,{l:i}),new Nx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new Cn(e)}}class UD{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GD{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new UD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0,3512);const i=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new xS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=jD(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<t&&(i+=e.charAt(s[o]%62))}return i}}function Le(n,e){return n<e?-1:n>e?1:0}function y_(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return Le(i,s);{const o=Lx(),l=HD(o.encode(AS(n,t)),o.encode(AS(e,t)));return l!==0?l:Le(i,s)}}t+=i>65535?2:1}return Le(n.length,e.length)}function AS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function HD(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Le(n[t],e[t]);return Le(n.length,e.length)}function Wl(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=-62135596800,CS=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*CS);return new Jt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<RS)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CS}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-RS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Jt(0,0))}static max(){return new Ie(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="__name__";class ms{constructor(e,t,i){t===void 0?t=0:t>e.length&&Pe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Pe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ms.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ms?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const o=ms.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Le(e.length,t.length)}static compareSegments(e,t){const i=ms.isNumericId(e),s=ms.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?ms.extractNumericId(e).compare(ms.extractNumericId(t)):y_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oo.fromString(e.substring(4,e.length-2))}}class Pt extends ms{construct(e,t,i){return new Pt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new Pt(t)}static emptyPath(){return new Pt([])}}const FD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends ms{construct(e,t,i){return new vn(e,t,i)}static isValidIdentifier(e){return FD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PS}static keyField(){return new vn([PS])}static fromServerFormat(e){const t=[];let i="",s=0;const o=()=>{if(i.length===0)throw new Ee(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new Ee(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ee(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(i+=u,s++):(o(),s++)}if(o(),l)throw new Ee(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(t)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Pt.fromString(e))}static fromName(e){return new Te(Pt.fromString(e).popFirst(5))}static empty(){return new Te(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=-1;function qD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(i===1e9?new Jt(t+1,0):new Jt(t,i));return new lo(s,Te.empty(),e)}function $D(n){return new lo(n.readTime,n.key,th)}class lo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new lo(Ie.min(),Te.empty(),th)}static max(){return new lo(Ie.max(),Te.empty(),th)}}function QD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==KD)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,i)=>{t(e)})}static reject(e){return new oe((t,i)=>{i(e)})}static waitFor(e){return new oe((t,i)=>{let s=0,o=0,l=!1;e.forEach(u=>{++s,u.next(()=>{++o,l&&o===s&&t()},h=>i(h))}),l=!0,o===s&&t()})}static or(e){let t=oe.resolve(!1);for(const i of e)t=t.next(s=>s?oe.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,o)=>{i.push(t.call(this,s,o))}),this.waitFor(i)}static mapArray(e,t){return new oe((i,s)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const d=h;t(e[d]).next(g=>{l[d]=g,++u,u===o&&i(l)},g=>s(g))}})}static doWhile(e,t){return new oe((i,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):i()};o()})}}function XD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function yc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}jp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-1;function Hp(n){return n==null}function lp(n){return n===0&&1/n==-1/0}function WD(n){return typeof n=="number"&&Number.isInteger(n)&&!lp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="";function ZD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=IS(e)),e=JD(n.get(t),e);return IS(e)}function JD(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case Ux:t+="";break;default:t+=o}}return t}function IS(n){return n+Ux+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Gx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new Tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ld(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ld(this.root,e,this.comparator,!1)}getReverseIterator(){return new ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ld(this.root,e,this.comparator,!0)}}class ld{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??_n.RED,this.left=s??_n.EMPTY,this.right=o??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,o){return new _n(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,t,i,s,o){return this}insert(e,t,i){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kS(this.data.getIterator())}getIteratorFrom(e){return new kS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new en(this.comparator);return t.data=e,t}}class kS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new ji([])}unionWith(e){let t=new en(vn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ji(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Bx("Invalid base64 string: "+o):o}}(e);return new Sn(t)}static fromUint8Array(e){const t=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new Sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const e5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(n){if(rt(!!n,39018),typeof n=="string"){let e=0;const t=e5.exec(n);if(rt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mt(n.seconds),nanos:Mt(n.nanos)}}function Mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function uo(n){return typeof n=="string"?Sn.fromBase64String(n):Sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="server_timestamp",Hx="__type__",Fx="__previous_value__",qx="__local_write_time__";function Rv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Hx])===null||t===void 0?void 0:t.stringValue)===jx}function Fp(n){const e=n.mapValue.fields[Fx];return Rv(e)?Fp(e):e}function nh(n){const e=co(n.mapValue.fields[qx].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,t,i,s,o,l,u,h,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=g}}const cp="(default)";class ih{constructor(e,t){this.projectId=e,this.database=t||cp}static empty(){return new ih("","")}get isDefaultDatabase(){return this.database===cp}isEqual(e){return e instanceof ih&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="__type__",n5="__max__",cd={mapValue:{}},Qx="__vector__",up="value";function ho(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rv(n)?4:s5(n)?9007199254740991:i5(n)?10:11:Pe(28295,{value:n})}function Es(n,e){if(n===e)return!0;const t=ho(n);if(t!==ho(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nh(n).isEqual(nh(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=co(s.timestampValue),u=co(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return uo(s.bytesValue).isEqual(uo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return Mt(s.geoPointValue.latitude)===Mt(o.geoPointValue.latitude)&&Mt(s.geoPointValue.longitude)===Mt(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Mt(s.integerValue)===Mt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Mt(s.doubleValue),u=Mt(o.doubleValue);return l===u?lp(l)===lp(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Wl(n.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(OS(l)!==OS(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Es(l[h],u[h])))return!1;return!0}(n,e);default:return Pe(52216,{left:n})}}function sh(n,e){return(n.values||[]).find(t=>Es(t,e))!==void 0}function Zl(n,e){if(n===e)return 0;const t=ho(n),i=ho(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=Mt(o.integerValue||o.doubleValue),h=Mt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return DS(n.timestampValue,e.timestampValue);case 4:return DS(nh(n),nh(e));case 5:return y_(n.stringValue,e.stringValue);case 6:return function(o,l){const u=uo(o),h=uo(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let d=0;d<u.length&&d<h.length;d++){const g=Le(u[d],h[d]);if(g!==0)return g}return Le(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=Le(Mt(o.latitude),Mt(l.latitude));return u!==0?u:Le(Mt(o.longitude),Mt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return MS(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,h,d,g;const _=o.fields||{},v=l.fields||{},b=(u=_[up])===null||u===void 0?void 0:u.arrayValue,S=(h=v[up])===null||h===void 0?void 0:h.arrayValue,A=Le(((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:MS(b,S)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===cd.mapValue&&l===cd.mapValue)return 0;if(o===cd.mapValue)return 1;if(l===cd.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),d=l.fields||{},g=Object.keys(d);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const v=y_(h[_],g[_]);if(v!==0)return v;const b=Zl(u[h[_]],d[g[_]]);if(b!==0)return b}return Le(h.length,g.length)}(n.mapValue,e.mapValue);default:throw Pe(23264,{Pe:t})}}function DS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=co(n),i=co(e),s=Le(t.seconds,i.seconds);return s!==0?s:Le(t.nanos,i.nanos)}function MS(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const o=Zl(t[s],i[s]);if(o)return o}return Le(t.length,i.length)}function Jl(n){return __(n)}function __(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=co(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return uo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const o of t.values||[])s?s=!1:i+=",",i+=__(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${__(t.fields[l])}`;return s+"}"}(n.mapValue):Pe(61005,{value:n})}function Hd(n){switch(ho(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fp(n);return e?16+Hd(e):16;case 5:return 2*n.stringValue.length;case 6:return uo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+Hd(o),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Oa(i.fields,(o,l)=>{s+=o.length+Hd(l)}),s}(n.mapValue);default:throw Pe(13486,{value:n})}}function v_(n){return!!n&&"integerValue"in n}function Cv(n){return!!n&&"arrayValue"in n}function VS(n){return!!n&&"nullValue"in n}function NS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fd(n){return!!n&&"mapValue"in n}function i5(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[$x])===null||t===void 0?void 0:t.stringValue)===Qx}function qu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Oa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=qu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function s5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===n5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Fd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(t)}setAll(e){let t=vn.emptyPath(),i={},s=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,i,s),i={},s=[],t=u.popLast()}l?i[u.lastSegment()]=qu(l):s.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,s)}delete(e){const t=this.field(e.popLast());Fd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Fd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Oa(t,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new Ii(qu(this.value))}}function Kx(n){const e=[];return Oa(n.fields,(t,i)=>{const s=new vn([t]);if(Fd(i)){const o=Kx(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new ji(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,t,i,s,o,l,u){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Pn(e,0,Ie.min(),Ie.min(),Ie.min(),Ii.empty(),0)}static newFoundDocument(e,t,i,s){return new Pn(e,1,t,Ie.min(),i,s,0)}static newNoDocument(e,t){return new Pn(e,2,t,Ie.min(),Ie.min(),Ii.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,Ie.min(),Ie.min(),Ii.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t){this.position=e,this.inclusive=t}}function LS(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const o=e[s],l=n.position[s];if(o.field.isKeyField()?i=Te.comparator(Te.fromName(l.referenceValue),t.key):i=Zl(l,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function zS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Es(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,t="asc"){this.field=e,this.dir=t}}function r5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{}class Zt extends Yx{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new a5(e,t,i):t==="array-contains"?new u5(e,i):t==="in"?new h5(e,i):t==="not-in"?new f5(e,i):t==="array-contains-any"?new d5(e,i):new Zt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new l5(e,i):new c5(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Zl(t,this.value)):t!==null&&ho(this.value)===ho(t)&&this.matchesComparison(Zl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ts extends Yx{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Ts(e,t)}matches(e){return Xx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Xx(n){return n.op==="and"}function Wx(n){return o5(n)&&Xx(n)}function o5(n){for(const e of n.filters)if(e instanceof Ts)return!1;return!0}function w_(n){if(n instanceof Zt)return n.field.canonicalString()+n.op.toString()+Jl(n.value);if(Wx(n))return n.filters.map(e=>w_(e)).join(",");{const e=n.filters.map(t=>w_(t)).join(",");return`${n.op}(${e})`}}function Zx(n,e){return n instanceof Zt?function(i,s){return s instanceof Zt&&i.op===s.op&&i.field.isEqual(s.field)&&Es(i.value,s.value)}(n,e):n instanceof Ts?function(i,s){return s instanceof Ts&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,u)=>o&&Zx(l,s.filters[u]),!0):!1}(n,e):void Pe(19439)}function Jx(n){return n instanceof Zt?function(t){return`${t.field.canonicalString()} ${t.op} ${Jl(t.value)}`}(n):n instanceof Ts?function(t){return t.op.toString()+" {"+t.getFilters().map(Jx).join(" ,")+"}"}(n):"Filter"}class a5 extends Zt{constructor(e,t,i){super(e,t,i),this.key=Te.fromName(i.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class l5 extends Zt{constructor(e,t){super(e,"in",t),this.keys=eA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class c5 extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=eA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function eA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Te.fromName(i.referenceValue))}class u5 extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cv(t)&&sh(t.arrayValue,this.value)}}class h5 extends Zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&sh(this.value.arrayValue,t)}}class f5 extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!sh(this.value.arrayValue,t)}}class d5 extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>sh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,t=null,i=[],s=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Ie=null}}function US(n,e=null,t=[],i=[],s=null,o=null,l=null){return new p5(n,e,t,i,s,o,l)}function Pv(n){const e=Oe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>w_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Hp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Jl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Jl(i)).join(",")),e.Ie=t}return e.Ie}function Iv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!r5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Zx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zS(n.startAt,e.startAt)&&zS(n.endAt,e.endAt)}function b_(n){return Te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t=null,i=[],s=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function m5(n,e,t,i,s,o,l,u){return new qp(n,e,t,i,s,o,l,u)}function Ov(n){return new qp(n)}function GS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function g5(n){return n.collectionGroup!==null}function $u(n){const e=Oe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new en(vn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new fp(o,i))}),t.has(vn.keyField().canonicalString())||e.Ee.push(new fp(vn.keyField(),i))}return e.Ee}function ws(n){const e=Oe(n);return e.de||(e.de=y5(e,$u(n))),e.de}function y5(n,e){if(n.limitType==="F")return US(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new fp(s.field,o)});const t=n.endAt?new hp(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new hp(n.startAt.position,n.startAt.inclusive):null;return US(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function S_(n,e,t){return new qp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $p(n,e){return Iv(ws(n),ws(e))&&n.limitType===e.limitType}function tA(n){return`${Pv(ws(n))}|lt:${n.limitType}`}function kl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>Jx(s)).join(", ")}]`),Hp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Jl(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Jl(s)).join(",")),`Target(${i})`}(ws(n))}; limitType=${n.limitType})`}function Qp(n,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Te.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,s){for(const o of $u(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(l,u,h){const d=LS(l,u,h);return l.inclusive?d<=0:d<0}(i.startAt,$u(i),s)||i.endAt&&!function(l,u,h){const d=LS(l,u,h);return l.inclusive?d>=0:d>0}(i.endAt,$u(i),s))}(n,e)}function _5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nA(n){return(e,t)=>{let i=!1;for(const s of $u(n)){const o=v5(s,e,t);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function v5(n,e,t){const i=n.field.isKeyField()?Te.comparator(e.key,t.key):function(o,l,u){const h=l.data.field(o),d=u.data.field(o);return h!==null&&d!==null?Zl(h,d):Pe(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Pe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,(t,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return Gx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=new Tt(Te.comparator);function pr(){return w5}const iA=new Tt(Te.comparator);function Bu(...n){let e=iA;for(const t of n)e=e.insert(t.key,t);return e}function sA(n){let e=iA;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function fa(){return Qu()}function rA(){return Qu()}function Qu(){return new ka(n=>n.toString(),(n,e)=>n.isEqual(e))}const b5=new Tt(Te.comparator),S5=new en(Te.comparator);function Qe(...n){let e=S5;for(const t of n)e=e.add(t);return e}const E5=new en(Le);function T5(){return E5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lp(e)?"-0":e}}function oA(n){return{integerValue:""+n}}function x5(n,e){return WD(e)?oA(e):kv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(){this._=void 0}}function A5(n,e,t){return n instanceof dp?function(s,o){const l={fields:{[Hx]:{stringValue:jx},[qx]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Rv(o)&&(o=Fp(o)),o&&(l.fields[Fx]=o),{mapValue:l}}(t,e):n instanceof rh?lA(n,e):n instanceof oh?cA(n,e):function(s,o){const l=aA(s,o),u=BS(l)+BS(s.Re);return v_(l)&&v_(s.Re)?oA(u):kv(s.serializer,u)}(n,e)}function R5(n,e,t){return n instanceof rh?lA(n,e):n instanceof oh?cA(n,e):t}function aA(n,e){return n instanceof pp?function(i){return v_(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class dp extends Kp{}class rh extends Kp{constructor(e){super(),this.elements=e}}function lA(n,e){const t=uA(e);for(const i of n.elements)t.some(s=>Es(s,i))||t.push(i);return{arrayValue:{values:t}}}class oh extends Kp{constructor(e){super(),this.elements=e}}function cA(n,e){let t=uA(e);for(const i of n.elements)t=t.filter(s=>!Es(s,i));return{arrayValue:{values:t}}}class pp extends Kp{constructor(e,t){super(),this.serializer=e,this.Re=t}}function BS(n){return Mt(n.integerValue||n.doubleValue)}function uA(n){return Cv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function C5(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof rh&&s instanceof rh||i instanceof oh&&s instanceof oh?Wl(i.elements,s.elements,Es):i instanceof pp&&s instanceof pp?Es(i.Re,s.Re):i instanceof dp&&s instanceof dp}(n.transform,e.transform)}class P5{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yp{}function hA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new dA(n.key,cr.none()):new Th(n.key,n.data,cr.none());{const t=n.data,i=Ii.empty();let s=new en(vn.comparator);for(let o of e.fields)if(!s.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Da(n.key,i,new ji(s.toArray()),cr.none())}}function I5(n,e,t){n instanceof Th?function(s,o,l){const u=s.value.clone(),h=HS(s.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Da?function(s,o,l){if(!qd(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=HS(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(fA(s)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Ku(n,e,t,i){return n instanceof Th?function(o,l,u,h){if(!qd(o.precondition,l))return u;const d=o.value.clone(),g=FS(o.fieldTransforms,h,l);return d.setAll(g),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof Da?function(o,l,u,h){if(!qd(o.precondition,l))return u;const d=FS(o.fieldTransforms,h,l),g=l.data;return g.setAll(fA(o)),g.setAll(d),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(o,l,u){return qd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function O5(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),o=aA(i.transform,s||null);o!=null&&(t===null&&(t=Ii.empty()),t.set(i.field,o))}return t||null}function jS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Wl(i,s,(o,l)=>C5(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Th extends Yp{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Da extends Yp{constructor(e,t,i,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function HS(n,e,t){const i=new Map;rt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const o=n[s],l=o.transform,u=e.data.field(o.field);i.set(o.field,R5(l,u,t[s]))}return i}function FS(n,e,t){const i=new Map;for(const s of n){const o=s.transform,l=t.data.field(s.field);i.set(s.field,A5(o,l,e))}return i}class dA extends Yp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k5 extends Yp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&I5(o,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ku(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ku(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=rA();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(s.key)?null:u;const h=hA(l,u);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,(t,i)=>jS(t,i))&&Wl(this.baseMutations,e.baseMutations,(t,i)=>jS(t,i))}}class Dv{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){rt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return b5}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new Dv(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,We;function N5(n){switch(n){case ce.OK:return Pe(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Pe(15467,{code:n})}}function pA(n){if(n===void 0)return dr("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Ht.OK:return ce.OK;case Ht.CANCELLED:return ce.CANCELLED;case Ht.UNKNOWN:return ce.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return ce.INTERNAL;case Ht.UNAVAILABLE:return ce.UNAVAILABLE;case Ht.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Ht.NOT_FOUND:return ce.NOT_FOUND;case Ht.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Ht.ABORTED:return ce.ABORTED;case Ht.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Ht.DATA_LOSS:return ce.DATA_LOSS;default:return Pe(39323,{code:n})}}(We=Ht||(Ht={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=new oo([4294967295,4294967295],0);function qS(n){const e=Lx().encode(n),t=new Px;return t.update(e),new Uint8Array(t.digest())}function $S(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new oo([t,i],0),new oo([s,o],0)]}class Mv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ju(`Invalid padding: ${t}`);if(i<0)throw new ju(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ju(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ju(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=oo.fromNumber(this.pe)}we(e,t,i){let s=e.add(t.multiply(oo.fromNumber(i)));return s.compare(L5)===1&&(s=new oo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=qS(e),[i,s]=$S(t);for(let o=0;o<this.hashCount;o++){const l=this.we(i,s,o);if(!this.be(l))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Mv(o,s,t);return i.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const t=qS(e),[i,s]=$S(t);for(let o=0;o<this.hashCount;o++){const l=this.we(i,s,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t,i,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,xh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Xp(Ie.min(),s,new Tt(Le),pr(),Qe())}}class xh{constructor(e,t,i,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new xh(i,t,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t,i,s){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=s}}class mA{constructor(e,t){this.targetId=e,this.Ce=t}}class gA{constructor(e,t,i=Sn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class QS{constructor(){this.Fe=0,this.Me=KS(),this.xe=Sn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Qe(),t=Qe(),i=Qe();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Pe(38017,{changeType:o})}}),new xh(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=KS()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,rt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class z5{constructor(e){this.ze=e,this.je=new Map,this.He=pr(),this.Je=ud(),this.Ye=ud(),this.Ze=new Tt(Le)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,i=e.Ce.count,s=this._t(t);if(s){const o=s.target;if(b_(o))if(i===0){const l=new Te(o.path);this.tt(t,l,Pn.newNoDocument(l,Ie.min()))}else rt(i===1,20013,{expectedCount:i});else{const l=this.ut(t);if(l!==i){const u=this.ct(e),h=u?this.lt(u,e,l):1;if(h!==0){this.st(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=t;let l,u;try{l=uo(i).toUint8Array()}catch(h){if(h instanceof Bx)return Xl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Mv(l,s,o)}catch(h){return Xl(h instanceof ju?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.pe===0?null:u}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let s=0;return i.forEach(o=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,o,null),s++)}),s}It(e){const t=new Map;this.je.forEach((o,l)=>{const u=this._t(l);if(u){if(o.current&&b_(u.target)){const h=new Te(u.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,Pn.newNoDocument(h,e))}o.Le&&(t.set(l,o.qe()),o.Qe())}});let i=Qe();this.Ye.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const s=new Xp(e,t,this.Ze,this.He,i);return this.He=pr(),this.Je=ud(),this.Ye=ud(),this.Ze=new Tt(Le),s}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new QS,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new en(Le),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new en(Le),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new QS),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ud(){return new Tt(Te.comparator)}function KS(){return new Tt(Te.comparator)}const U5={asc:"ASCENDING",desc:"DESCENDING"},G5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B5={and:"AND",or:"OR"};class j5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function E_(n,e){return n.useProto3Json||Hp(e)?e:{value:e}}function mp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function H5(n,e){return mp(n,e.toTimestamp())}function bs(n){return rt(!!n,49232),Ie.fromTimestamp(function(t){const i=co(t);return new Jt(i.seconds,i.nanos)}(n))}function Vv(n,e){return T_(n,e).canonicalString()}function T_(n,e){const t=function(s){return new Pt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function _A(n){const e=Pt.fromString(n);return rt(EA(e),10190,{key:e.toString()}),e}function x_(n,e){return Vv(n.databaseId,e.path)}function Cy(n,e){const t=_A(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Te(wA(t))}function vA(n,e){return Vv(n.databaseId,e)}function F5(n){const e=_A(n);return e.length===4?Pt.emptyPath():wA(e)}function A_(n){return new Pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wA(n){return rt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function YS(n,e,t){return{name:x_(n,e),fields:t.value.mapValue.fields}}function q5(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Pe(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(d,g){return d.useProto3Json?(rt(g===void 0||typeof g=="string",58123),Sn.fromBase64String(g||"")):(rt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Sn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(d){const g=d.code===void 0?ce.UNKNOWN:pA(d.code);return new Ee(g,d.message||"")}(l);t=new gA(i,s,o,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Cy(n,i.document.name),o=bs(i.document.updateTime),l=i.document.createTime?bs(i.document.createTime):Ie.min(),u=new Ii({mapValue:{fields:i.document.fields}}),h=Pn.newFoundDocument(s,o,l,u),d=i.targetIds||[],g=i.removedTargetIds||[];t=new $d(d,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Cy(n,i.document),o=i.readTime?bs(i.readTime):Ie.min(),l=Pn.newNoDocument(s,o),u=i.removedTargetIds||[];t=new $d([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Cy(n,i.document),o=i.removedTargetIds||[];t=new $d([],o,s,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new V5(s,o),u=i.targetId;t=new mA(u,l)}}return t}function $5(n,e){let t;if(e instanceof Th)t={update:YS(n,e.key,e.value)};else if(e instanceof dA)t={delete:x_(n,e.key)};else if(e instanceof Da)t={update:YS(n,e.key,e.data),updateMask:tM(e.fieldMask)};else{if(!(e instanceof k5))return Pe(16599,{ft:e.type});t={verify:x_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const u=l.transform;if(u instanceof dp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof rh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof oh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof pp)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Pe(20930,{transform:l.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:H5(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Pe(27497)}(n,e.precondition)),t}function Q5(n,e){return n&&n.length>0?(rt(e!==void 0,14353),n.map(t=>function(s,o){let l=s.updateTime?bs(s.updateTime):bs(o);return l.isEqual(Ie.min())&&(l=bs(o)),new P5(l,s.transformResults||[])}(t,e))):[]}function K5(n,e){return{documents:[vA(n,e.path)]}}function Y5(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=vA(n,s);const o=function(d){if(d.length!==0)return SA(Ts.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(d){if(d.length!==0)return d.map(g=>function(v){return{field:Dl(v.field),direction:Z5(v.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=E_(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:s}}function X5(n){let e=F5(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){rt(i===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=bA(_);return v instanceof Ts&&Wx(v)?v.getFilters():[v]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(v=>function(S){return new fp(Ml(S.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(t.orderBy));let u=null;t.limit&&(u=function(_){let v;return v=typeof _=="object"?_.value:_,Hp(v)?null:v}(t.limit));let h=null;t.startAt&&(h=function(_){const v=!!_.before,b=_.values||[];return new hp(b,v)}(t.startAt));let d=null;return t.endAt&&(d=function(_){const v=!_.before,b=_.values||[];return new hp(b,v)}(t.endAt)),m5(e,s,l,o,u,"F",h,d)}function W5(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ml(t.unaryFilter.field);return Zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ml(t.unaryFilter.field);return Zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ml(t.unaryFilter.field);return Zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ml(t.unaryFilter.field);return Zt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Zt.create(Ml(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ts.create(t.compositeFilter.filters.map(i=>bA(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(t.compositeFilter.op))}(n):Pe(30097,{filter:n})}function Z5(n){return U5[n]}function J5(n){return G5[n]}function eM(n){return B5[n]}function Dl(n){return{fieldPath:n.canonicalString()}}function Ml(n){return vn.fromServerFormat(n.fieldPath)}function SA(n){return n instanceof Zt?function(t){if(t.op==="=="){if(NS(t.value))return{unaryFilter:{field:Dl(t.field),op:"IS_NAN"}};if(VS(t.value))return{unaryFilter:{field:Dl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(NS(t.value))return{unaryFilter:{field:Dl(t.field),op:"IS_NOT_NAN"}};if(VS(t.value))return{unaryFilter:{field:Dl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dl(t.field),op:J5(t.op),value:t.value}}}(n):n instanceof Ts?function(t){const i=t.getFilters().map(s=>SA(s));return i.length===1?i[0]:{compositeFilter:{op:eM(t.op),filters:i}}}(n):Pe(54877,{filter:n})}function tM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function EA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,t,i,s,o=Ie.min(),l=Ie.min(),u=Sn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.wt=e}}function iM(n){const e=X5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?S_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.Cn=new rM}addToCollectionParentIndex(e,t){return this.Cn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(lo.min())}updateCollectionGroup(e,t,i){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class rM{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new en(Pt.comparator),o=!s.has(i);return this.index[t]=s.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new en(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TA=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(TA,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ec(0)}static lr(){return new ec(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="LruGarbageCollector",oM=1048576;function ZS([n,e],[t,i]){const s=Le(n,t);return s===0?Le(e,i):s}class aM{constructor(e){this.Er=e,this.buffer=new en(ZS),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ZS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lM{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ye(WS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){yc(t)?ye(WS,"Ignoring IndexedDB error during garbage collection: ",t):await gc(t)}await this.mr(3e5)})}}class cM{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(jp.le);const i=new aM(t);return this.gr.forEachTarget(e,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(XS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XS):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,s,o,l,u,h,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(i=_,u=Date.now(),this.removeTargets(e,i,t))).next(_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(d=Date.now(),Ol()<=$e.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${_} documents in `+(d-h)+`ms
Total Duration: ${d-g}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_})))}}function uM(n,e){return new cM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.changes=new ka(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?oe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&Ku(i.mutation,s,ji.empty(),Jt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Qe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Qe()){const s=fa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(o=>{let l=Bu();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=fa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Qe()))}populateOverlays(e,t,i){const s=[];return i.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,i,s){let o=pr();const l=Qu(),u=function(){return Qu()}();return t.forEach((h,d)=>{const g=i.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof Da)?o=o.insert(d.key,d):g!==void 0?(l.set(d.key,g.mutation.getFieldMask()),Ku(g.mutation,d,g.mutation.getFieldMask(),Jt.now())):l.set(d.key,ji.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((d,g)=>l.set(d,g)),t.forEach((d,g)=>{var _;return u.set(d,new fM(g,(_=l.get(d))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,t){const i=Qu();let s=new Tt((l,u)=>l-u),o=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const d=t.get(h);if(d===null)return;let g=i.get(h)||ji.empty();g=u.applyToLocalView(d,g),i.set(h,g);const _=(s.get(u.batchId)||Qe()).add(h);s=s.insert(u.batchId,_)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),d=h.key,g=h.value,_=rA();g.forEach(v=>{if(!o.has(v)){const b=hA(t.get(v),i.get(v));b!==null&&_.set(v,b),o=o.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,_))}return oe.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(l){return Te.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):g5(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-o.size):oe.resolve(fa());let u=th,h=o;return l.next(d=>oe.forEach(d,(g,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(g)?oe.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{h=h.insert(g,v)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,h,d,Qe())).next(g=>({batchId:u,changes:sA(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(i=>{let s=Bu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const o=t.collectionGroup;let l=Bu();return this.indexManager.getCollectionParents(e,o).next(u=>oe.forEach(u,h=>{const d=function(_,v){return new qp(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next(g=>{g.forEach((_,v)=>{l=l.insert(_,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,s))).next(l=>{o.forEach((h,d)=>{const g=d.getKey();l.get(g)===null&&(l=l.insert(g,Pn.newInvalidDocument(g)))});let u=Bu();return l.forEach((h,d)=>{const g=o.get(h);g!==void 0&&Ku(g.mutation,d,ji.empty(),Jt.now()),Qp(t,d)&&(u=u.insert(h,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return oe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:bs(s.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:iM(s.bundledQuery),readTime:bs(s.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.overlays=new Tt(Te.comparator),this.Qr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=fa();return oe.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,o)=>{this.St(e,t,o)}),oe.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(i)),oe.resolve()}getOverlaysForCollection(e,t,i){const s=fa(),o=t.length+1,l=new Te(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let o=new Tt((d,g)=>d-g);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let g=o.get(d.largestBatchId);g===null&&(g=fa(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const u=fa(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,g)=>u.set(d,g)),!(u.size()>=s)););return oe.resolve(u)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new M5(t,i));let o=this.Qr.get(t);o===void 0&&(o=Qe(),this.Qr.set(t,o)),this.Qr.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.$r=new en(ln.Ur),this.Kr=new en(ln.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new ln(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new ln(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Te(new Pt([])),i=new ln(t,e),s=new ln(t,e+1),o=[];return this.Kr.forEachInRange([i,s],l=>{this.zr(l),o.push(l.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Te(new Pt([])),i=new ln(t,e),s=new ln(t,e+1);let o=Qe();return this.Kr.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new ln(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class ln{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Te.comparator(e.key,t.key)||Le(e.Zr,t.Zr)}static Wr(e,t){return Le(e.Zr,t.Zr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new en(ln.Ur)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new D5(o,t,i,s);this.mutationQueue.push(l);for(const u of s)this.Xr=this.Xr.add(new ln(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,t){return oe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.ti(i),o=s<0?0:s;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Av:this.nr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ln(t,0),s=new ln(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([i,s],l=>{const u=this.ei(l.Zr);o.push(u)}),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new en(Le);return t.forEach(s=>{const o=new ln(s,0),l=new ln(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,l],u=>{i=i.add(u.Zr)})}),oe.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let o=i;Te.isDocumentKey(o)||(o=o.child(""));const l=new ln(new Te(o),0);let u=new en(Le);return this.Xr.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(u=u.add(h.Zr)),!0)},l),oe.resolve(this.ni(u))}ni(e){const t=[];return e.forEach(i=>{const s=this.ei(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){rt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return oe.forEach(t.mutations,s=>{const o=new ln(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new ln(t,0),s=this.Xr.firstAfterOrEqual(i);return oe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.ii=e,this.docs=function(){return new Tt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),o=s?s.size:0,l=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return oe.resolve(i?i.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let i=pr();return t.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Pn.newInvalidDocument(s))}),oe.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let o=pr();const l=t.path,u=new Te(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:d,value:{document:g}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||QD($D(g),i)<=0||(s.has(g.key)||Qp(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,t,i,s){Pe(9500)}si(e,t){return oe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new vM(this)}getSize(e){return oe.resolve(this.size)}}class vM extends hM{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(i)}),oe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.persistence=e,this.oi=new ka(t=>Pv(t),Iv),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this._i=0,this.ai=new Nv,this.targetCount=0,this.ui=ec.cr()}forEachTarget(e,t){return this.oi.forEach((i,s)=>t(s)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),oe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ec(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Tr(t),oe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,i){let s=0;const o=[];return this.oi.forEach((l,u)=>{u.sequenceNumber<=t&&i.get(u.targetId)===null&&(this.oi.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),oe.waitFor(o).next(()=>s)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return oe.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),oe.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),oe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return oe.resolve(i)}containsKey(e,t){return oe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,t){this.ci={},this.overlays={},this.li=new jp(0),this.hi=!1,this.hi=!0,this.Pi=new gM,this.referenceDelegate=e(this),this.Ti=new wM(this),this.indexManager=new sM,this.remoteDocumentCache=function(s){return new _M(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new nM(t),this.Ei=new pM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new yM(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const s=new bM(this.li.next());return this.referenceDelegate.di(),i(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,t){return oe.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class bM extends YD{constructor(e){super(),this.currentSequenceNumber=e}}class Lv{constructor(e){this.persistence=e,this.Vi=new Nv,this.mi=null}static fi(e){return new Lv(e)}get gi(){if(this.mi)return this.mi;throw Pe(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),oe.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.gi,i=>{const s=Te.fromPath(i);return this.pi(e,s).next(o=>{o||t.removeEntry(s,Ie.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return oe.or([()=>oe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class gp{constructor(e,t){this.persistence=e,this.yi=new ka(i=>ZD(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=uM(this,t)}static fi(e,t){return new gp(e,t)}di(){}Ai(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return oe.forEach(this.yi,(i,s)=>this.Dr(e,i,s).next(o=>o?oe.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,l=>this.Dr(e,l,t).next(u=>{u||(i++,o.removeEntry(l,Ie.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),oe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hd(e.data.value)),t}Dr(e,t,i){return oe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return oe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.ds=i,this.As=s}static Rs(e,t){let i=Qe(),s=Qe();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new zv(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return i4()?8:XD(kn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,s){const o={result:null};return this.ws(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.bs(e,t,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new SM;return this.Ss(e,t,l).next(u=>{if(o.result=u,this.fs)return this.Ds(e,t,l,u.size)})}).next(()=>o.result)}Ds(e,t,i,s){return i.documentReadCount<this.gs?(Ol()<=$e.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",kl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),oe.resolve()):(Ol()<=$e.DEBUG&&ye("QueryEngine","Query:",kl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(Ol()<=$e.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",kl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ws(t))):oe.resolve())}ws(e,t){if(GS(t))return oe.resolve(null);let i=ws(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=S_(t,null,"F"),i=ws(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=Qe(...o);return this.ys.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,i).next(h=>{const d=this.vs(t,u);return this.Cs(t,d,l,h.readTime)?this.ws(e,S_(t,null,"F")):this.Fs(e,d,t,h)}))})))}bs(e,t,i,s){return GS(t)||s.isEqual(Ie.min())?oe.resolve(null):this.ys.getDocuments(e,i).next(o=>{const l=this.vs(t,o);return this.Cs(t,l,i,s)?oe.resolve(null):(Ol()<=$e.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),kl(t)),this.Fs(e,l,t,qD(s,th)).next(u=>u))})}vs(e,t){let i=new en(nA(e));return t.forEach((s,o)=>{Qp(e,o)&&(i=i.add(o))}),i}Cs(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,i){return Ol()<=$e.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",kl(t)),this.ys.getDocumentsMatchingQuery(e,t,lo.min(),i)}Fs(e,t,i,s){return this.ys.getDocumentsMatchingQuery(e,i,s).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="LocalStore",TM=3e8;class xM{constructor(e,t,i,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new Tt(Le),this.Os=new ka(o=>Pv(o),Iv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function AM(n,e,t,i){return new xM(n,e,t,i)}async function AA(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],u=[];let h=Qe();for(const d of s){l.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of o){u.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(i,h).next(d=>({ks:d,removedBatchIds:l,addedBatchIds:u}))})})}function RM(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(u,h,d,g){const _=d.batch,v=_.keys();let b=oe.resolve();return v.forEach(S=>{b=b.next(()=>g.getEntry(h,S)).next(A=>{const x=d.docVersions.get(S);rt(x!==null,48541),A.version.compareTo(x)<0&&(_.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),g.addEntry(A)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(h,_))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Qe();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(h=h.add(u.batch.mutations[d].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function RA(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function CM(n,e){const t=Oe(n),i=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const u=[];e.targetChanges.forEach((g,_)=>{const v=s.get(_);if(!v)return;u.push(t.Ti.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(o,g.addedDocuments,_)));let b=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(Sn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,i)),s=s.insert(_,b),function(A,x,O){return A.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=TM?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(v,b,g)&&u.push(t.Ti.updateTargetData(o,b))});let h=pr(),d=Qe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),u.push(PM(o,l,e.documentUpdates).next(g=>{h=g.qs,d=g.Qs})),!i.isEqual(Ie.min())){const g=t.Ti.getLastRemoteSnapshotVersion(o).next(_=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(g)}return oe.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,d)).next(()=>h)}).then(o=>(t.xs=s,o))}function PM(n,e,t){let i=Qe(),s=Qe();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let l=pr();return t.forEach((u,h)=>{const d=o.get(u);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Ie.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):ye(Uv,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",h.version)}),{qs:l,Qs:s}})}function IM(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Av),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function OM(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Ti.getTargetData(i,e).next(o=>o?(s=o,oe.resolve(s)):t.Ti.allocateTargetId(i).next(l=>(s=new eo(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function R_(n,e,t){const i=Oe(n),s=i.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!yc(l))throw l;ye(Uv,`Failed to update sequence numbers for target ${e}: ${l}`)}i.xs=i.xs.remove(e),i.Os.delete(s.target)}function JS(n,e,t){const i=Oe(n);let s=Ie.min(),o=Qe();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,g){const _=Oe(h),v=_.Os.get(g);return v!==void 0?oe.resolve(_.xs.get(v)):_.Ti.getTargetData(d,g)}(i,l,ws(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>i.Ms.getDocumentsMatchingQuery(l,e,t?s:Ie.min(),t?o:Qe())).next(u=>(kM(i,_5(e),u),{documents:u,$s:o})))}function kM(n,e,t){let i=n.Ns.get(e)||Ie.min();t.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ns.set(e,i)}class eE{constructor(){this.activeTargetIds=T5()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DM{constructor(){this.xo=new eE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new eE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="ConnectivityMonitor";class nE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ye(tE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ye(tE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd=null;function C_(){return hd===null?hd=function(){return 268435456+Math.round(2147483648*Math.random())}():hd++,"0x"+hd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="RestConnection",VM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NM{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===cp?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(e,t,i,s,o){const l=C_(),u=this.jo(e,t.toUriEncodedString());ye(Py,`Sending RPC '${e}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,s,o);const{host:d}=new URL(u),g=yh(d);return this.Jo(e,u,h,i,g).then(_=>(ye(Py,`Received RPC '${e}' ${l}: `,_),_),_=>{throw Xl(Py,`RPC '${e}' ${l} failed with error: `,_,"url: ",u,"request:",i),_})}Yo(e,t,i,s,o,l){return this.zo(e,t,i,s,o)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),i&&i.headers.forEach((s,o)=>e[o]=s)}jo(e,t){const i=VM[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class zM extends NM{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,s,o){const l=C_();return new Promise((u,h)=>{const d=new Ix;d.setWithCredentials(!0),d.listenOnce(Ox.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case jd.NO_ERROR:const _=d.getResponseJson();ye(Rn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case jd.TIMEOUT:ye(Rn,`RPC '${e}' ${l} timed out`),h(new Ee(ce.DEADLINE_EXCEEDED,"Request time out"));break;case jd.HTTP_ERROR:const v=d.getStatus();if(ye(Rn,`RPC '${e}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const S=b==null?void 0:b.error;if(S&&S.status&&S.message){const A=function(O){const U=O.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(U)>=0?U:ce.UNKNOWN}(S.status);h(new Ee(A,S.message))}else h(new Ee(ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Ee(ce.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{h_:e,streamId:l,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{ye(Rn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(s);ye(Rn,`RPC '${e}' ${l} sending request:`,s),d.send(t,"POST",g,i,15)})}I_(e,t,i){const s=C_(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Mx(),u=Dx(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const g=o.join("");ye(Rn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const _=l.createWebChannel(g,h);this.E_(_);let v=!1,b=!1;const S=new LM({Zo:x=>{b?ye(Rn,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(v||(ye(Rn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),v=!0),ye(Rn,`RPC '${e}' stream ${s} sending:`,x),_.send(x))},Xo:()=>_.close()}),A=(x,O,U)=>{x.listen(O,L=>{try{U(L)}catch(H){setTimeout(()=>{throw H},0)}})};return A(_,Gu.EventType.OPEN,()=>{b||(ye(Rn,`RPC '${e}' stream ${s} transport opened.`),S.__())}),A(_,Gu.EventType.CLOSE,()=>{b||(b=!0,ye(Rn,`RPC '${e}' stream ${s} transport closed`),S.u_(),this.d_(_))}),A(_,Gu.EventType.ERROR,x=>{b||(b=!0,Xl(Rn,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),S.u_(new Ee(ce.UNAVAILABLE,"The operation could not be completed")))}),A(_,Gu.EventType.MESSAGE,x=>{var O;if(!b){const U=x.data[0];rt(!!U,16349);const L=U,H=(L==null?void 0:L.error)||((O=L[0])===null||O===void 0?void 0:O.error);if(H){ye(Rn,`RPC '${e}' stream ${s} received error:`,H);const W=H.status;let le=function(I){const V=Ht[I];if(V!==void 0)return pA(V)}(W),D=H.message;le===void 0&&(le=ce.INTERNAL,D="Unknown error status: "+W+" with message "+H.message),b=!0,S.u_(new Ee(le,D)),_.close()}else ye(Rn,`RPC '${e}' stream ${s} received:`,U),S.c_(U)}}),A(u,kx.STAT_EVENT,x=>{x.stat===g_.PROXY?ye(Rn,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===g_.NOPROXY&&ye(Rn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Iy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n){return new j5(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t,i=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=s,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),s=Math.max(0,t-i);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="PersistentStream";class PA{constructor(e,t,i,s,o,l,u,h){this.xi=e,this.S_=i,this.D_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new CA(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.v_===t&&this.z_(i,s)},i=>{e(()=>{const s=new Ee(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(s)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.j_(s))}),this.stream.onMessage(s=>{i(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ye(iE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ye(iE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UM extends PA{constructor(e,t,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,l),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=q5(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ie.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ie.min():l.readTime?bs(l.readTime):Ie.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=A_(this.serializer),t.addTarget=function(o,l){let u;const h=l.target;if(u=b_(h)?{documents:K5(o,h)}:{query:Y5(o,h).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=yA(o,l.resumeToken);const d=E_(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(Ie.min())>0){u.readTime=mp(o,l.snapshotVersion.toTimestamp());const d=E_(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const i=W5(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=A_(this.serializer),t.removeTarget=e,this.Q_(t)}}class GM extends PA{constructor(e,t,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,l),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=Q5(e.writeResults,e.commitTime),i=bs(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=A_(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>$5(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{}class jM extends BM{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Ee(ce.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.zo(e,T_(t,i),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ee(ce.UNKNOWN,o.toString())})}Yo(e,t,i,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Yo(e,T_(t,i),s,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(ce.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class HM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(dr(t),this.ua=!1):ye("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class FM{constructor(e,t,i,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(l=>{i.enqueueAndForget(async()=>{Ma(this)&&(ye(Aa,"Restarting streams for network reachability change."),await async function(h){const d=Oe(h);d.da.add(4),await Ah(d),d.Va.set("Unknown"),d.da.delete(4),await Zp(d)}(this))})}),this.Va=new HM(i,s)}}async function Zp(n){if(Ma(n))for(const e of n.Aa)await e(!0)}async function Ah(n){for(const e of n.Aa)await e(!1)}function IA(n,e){const t=Oe(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Hv(t)?jv(t):_c(t).N_()&&Bv(t,e))}function Gv(n,e){const t=Oe(n),i=_c(t);t.Ea.delete(e),i.N_()&&OA(t,e),t.Ea.size===0&&(i.N_()?i.k_():Ma(t)&&t.Va.set("Unknown"))}function Bv(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_c(n).Z_(e)}function OA(n,e){n.ma.Ke(e),_c(n).X_(e)}function jv(n){n.ma=new z5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),_c(n).start(),n.Va.ca()}function Hv(n){return Ma(n)&&!_c(n).O_()&&n.Ea.size>0}function Ma(n){return Oe(n).da.size===0}function kA(n){n.ma=void 0}async function qM(n){n.Va.set("Online")}async function $M(n){n.Ea.forEach((e,t)=>{Bv(n,e)})}async function QM(n,e){kA(n),Hv(n)?(n.Va.Pa(e),jv(n)):n.Va.set("Unknown")}async function KM(n,e,t){if(n.Va.set("Online"),e instanceof gA&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const u of o.targetIds)s.Ea.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ea.delete(u),s.ma.removeTarget(u))}(n,e)}catch(i){ye(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await yp(n,i)}else if(e instanceof $d?n.ma.Xe(e):e instanceof mA?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Ie.min()))try{const i=await RA(n.localStore);t.compareTo(i)>=0&&await function(o,l){const u=o.ma.It(l);return u.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ea.get(d);g&&o.Ea.set(d,g.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,d)=>{const g=o.Ea.get(h);if(!g)return;o.Ea.set(h,g.withResumeToken(Sn.EMPTY_BYTE_STRING,g.snapshotVersion)),OA(o,h);const _=new eo(g.target,h,d,g.sequenceNumber);Bv(o,_)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(i){ye(Aa,"Failed to raise snapshot:",i),await yp(n,i)}}async function yp(n,e,t){if(!yc(e))throw e;n.da.add(1),await Ah(n),n.Va.set("Offline"),t||(t=()=>RA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Aa,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Zp(n)})}function DA(n,e){return e().catch(t=>yp(n,t,e))}async function Jp(n){const e=Oe(n),t=fo(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Av;for(;YM(e);)try{const s=await IM(e.localStore,i);if(s===null){e.Ia.length===0&&t.k_();break}i=s.batchId,XM(e,s)}catch(s){await yp(e,s)}MA(e)&&VA(e)}function YM(n){return Ma(n)&&n.Ia.length<10}function XM(n,e){n.Ia.push(e);const t=fo(n);t.N_()&&t.ea&&t.ta(e.mutations)}function MA(n){return Ma(n)&&!fo(n).O_()&&n.Ia.length>0}function VA(n){fo(n).start()}async function WM(n){fo(n).ia()}async function ZM(n){const e=fo(n);for(const t of n.Ia)e.ta(t.mutations)}async function JM(n,e,t){const i=n.Ia.shift(),s=Dv.from(i,e,t);await DA(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Jp(n)}async function e9(n,e){e&&fo(n).ea&&await async function(i,s){if(function(l){return N5(l)&&l!==ce.ABORTED}(s.code)){const o=i.Ia.shift();fo(i).L_(),await DA(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Jp(i)}}(n,e),MA(n)&&VA(n)}async function sE(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),ye(Aa,"RemoteStore received new credentials");const i=Ma(t);t.da.add(3),await Ah(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Zp(t)}async function t9(n,e){const t=Oe(n);e?(t.da.delete(2),await Zp(t)):e||(t.da.add(2),await Ah(t),t.Va.set("Unknown"))}function _c(n){return n.fa||(n.fa=function(t,i,s){const o=Oe(t);return o.oa(),new UM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:qM.bind(null,n),n_:$M.bind(null,n),i_:QM.bind(null,n),Y_:KM.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Hv(n)?jv(n):n.Va.set("Unknown")):(await n.fa.stop(),kA(n))})),n.fa}function fo(n){return n.ga||(n.ga=function(t,i,s){const o=Oe(t);return o.oa(),new GM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:WM.bind(null,n),i_:e9.bind(null,n),na:ZM.bind(null,n),ra:JM.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Jp(n)):(await n.ga.stop(),n.Ia.length>0&&(ye(Aa,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,t,i,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,o){const l=Date.now()+i,u=new Fv(e,t,l,s,o);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qv(n,e){if(dr("AsyncQueue",`${e}: ${n}`),yc(n))return new Ee(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{static emptySet(e){return new Hl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Te.comparator(t.key,i.key):(t,i)=>Te.comparator(t.key,i.key),this.keyedMap=Bu(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Hl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.pa=new Tt(Te.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Pe(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class tc{constructor(e,t,i,s,o,l,u,h,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,s,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new tc(e,t,Hl.emptySet(t),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$p(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class i9{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=Oe(t),o=s.queries;s.queries=oE(),o.forEach((l,u)=>{for(const h of u.Sa)h.onError(i)})})(this,new Ee(ce.ABORTED,"Firestore shutting down"))}}function oE(){return new ka(n=>tA(n),$p)}async function s9(n,e){const t=Oe(n);let i=3;const s=e.query;let o=t.queries.get(s);o?!o.Da()&&e.va()&&(i=2):(o=new n9,i=e.va()?0:1);try{switch(i){case 0:o.ba=await t.onListen(s,!0);break;case 1:o.ba=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=qv(l,`Initialization of query '${kl(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&$v(t)}async function r9(n,e){const t=Oe(n),i=e.query;let s=3;const o=t.queries.get(i);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=e.va()?0:1:!o.Da()&&e.va()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function o9(n,e){const t=Oe(n);let i=!1;for(const s of e){const o=s.query,l=t.queries.get(o);if(l){for(const u of l.Sa)u.Ma(s)&&(i=!0);l.ba=s}}i&&$v(t)}function a9(n,e,t){const i=Oe(n),s=i.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);i.queries.delete(e)}function $v(n){n.Ca.forEach(e=>{e.next()})}var P_,aE;(aE=P_||(P_={})).xa="default",aE.Cache="cache";class l9{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new tc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==P_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.key=e}}class LA{constructor(e){this.key=e}}class c9{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Qe(),this.mutatedKeys=Qe(),this.Za=nA(e),this.Xa=new Hl(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new rE,s=t?t.Xa:this.Xa;let o=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const v=s.get(g),b=Qp(this.query,_)?_:null,S=!!v&&this.mutatedKeys.has(v.key),A=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let x=!1;v&&b?v.data.isEqual(b.data)?S!==A&&(i.track({type:3,doc:b}),x=!0):this.ru(v,b)||(i.track({type:2,doc:b}),x=!0,(h&&this.Za(b,h)>0||d&&this.Za(b,d)<0)&&(u=!0)):!v&&b?(i.track({type:0,doc:b}),x=!0):v&&!b&&(i.track({type:1,doc:v}),x=!0,(h||d)&&(u=!0)),x&&(b?(l=l.add(b),o=A?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{Xa:l,nu:i,Cs:u,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((g,_)=>function(b,S){const A=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:x})}};return A(b)-A(S)}(g.type,_.type)||this.Za(g.doc,_.doc)),this.iu(i),s=s!=null&&s;const u=t&&!s?this.su():[],h=this.Ya.size===0&&this.current&&!s?1:0,d=h!==this.Ja;return this.Ja=h,l.length!==0||d?{snapshot:new tc(this.query,e.Xa,o,l,e.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:u}:{ou:u}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new rE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Qe(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new LA(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new NA(i))}),t}au(e){this.Ha=e.$s,this.Ya=Qe();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return tc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Qv="SyncEngine";class u9{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class h9{constructor(e){this.key=e,this.cu=!1}}class f9{constructor(e,t,i,s,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new ka(u=>tA(u),$p),this.Pu=new Map,this.Tu=new Set,this.Iu=new Tt(Te.comparator),this.Eu=new Map,this.du=new Nv,this.Au={},this.Ru=new Map,this.Vu=ec.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function d9(n,e,t=!0){const i=HA(n);let s;const o=i.hu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.uu()):s=await zA(i,e,t,!0),s}async function p9(n,e){const t=HA(n);await zA(t,e,!0,!1)}async function zA(n,e,t,i){const s=await OM(n.localStore,ws(e)),o=s.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return i&&(u=await m9(n,e,o,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&IA(n.remoteStore,s),u}async function m9(n,e,t,i,s){n.fu=(_,v,b)=>async function(A,x,O,U){let L=x.view.tu(O);L.Cs&&(L=await JS(A.localStore,x.query,!1).then(({documents:D})=>x.view.tu(D,L)));const H=U&&U.targetChanges.get(x.targetId),W=U&&U.targetMismatches.get(x.targetId)!=null,le=x.view.applyChanges(L,A.isPrimaryClient,H,W);return cE(A,x.targetId,le.ou),le.snapshot}(n,_,v,b);const o=await JS(n.localStore,e,!0),l=new c9(e,o.$s),u=l.tu(o.documents),h=xh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),d=l.applyChanges(u,n.isPrimaryClient,h);cE(n,t,d.ou);const g=new u9(e,t,l);return n.hu.set(e,g),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),d.snapshot}async function g9(n,e,t){const i=Oe(n),s=i.hu.get(e),o=i.Pu.get(s.targetId);if(o.length>1)return i.Pu.set(s.targetId,o.filter(l=>!$p(l,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await R_(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Gv(i.remoteStore,s.targetId),I_(i,s.targetId)}).catch(gc)):(I_(i,s.targetId),await R_(i.localStore,s.targetId,!0))}async function y9(n,e){const t=Oe(n),i=t.hu.get(e),s=t.Pu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Gv(t.remoteStore,i.targetId))}async function _9(n,e,t){const i=x9(n);try{const s=await function(l,u){const h=Oe(l),d=Jt.now(),g=u.reduce((b,S)=>b.add(S.key),Qe());let _,v;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let S=pr(),A=Qe();return h.Bs.getEntries(b,g).next(x=>{S=x,S.forEach((O,U)=>{U.isValidDocument()||(A=A.add(O))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,S)).next(x=>{_=x;const O=[];for(const U of u){const L=O5(U,_.get(U.key).overlayedDocument);L!=null&&O.push(new Da(U.key,L,Kx(L.value.mapValue),cr.exists(!0)))}return h.mutationQueue.addMutationBatch(b,d,O,u)}).next(x=>{v=x;const O=x.applyToLocalDocumentSet(_,A);return h.documentOverlayCache.saveOverlays(b,x.batchId,O)})}).then(()=>({batchId:v.batchId,changes:sA(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,u,h){let d=l.Au[l.currentUser.toKey()];d||(d=new Tt(Le)),d=d.insert(u,h),l.Au[l.currentUser.toKey()]=d}(i,s.batchId,t),await Rh(i,s.changes),await Jp(i.remoteStore)}catch(s){const o=qv(s,"Failed to persist write");t.reject(o)}}async function UA(n,e){const t=Oe(n);try{const i=await CM(t.localStore,e);e.targetChanges.forEach((s,o)=>{const l=t.Eu.get(o);l&&(rt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.cu=!0:s.modifiedDocuments.size>0?rt(l.cu,14607):s.removedDocuments.size>0&&(rt(l.cu,42227),l.cu=!1))}),await Rh(t,i,e)}catch(i){await gc(i)}}function lE(n,e,t){const i=Oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.hu.forEach((o,l)=>{const u=l.view.Fa(e);u.snapshot&&s.push(u.snapshot)}),function(l,u){const h=Oe(l);h.onlineState=u;let d=!1;h.queries.forEach((g,_)=>{for(const v of _.Sa)v.Fa(u)&&(d=!0)}),d&&$v(h)}(i.eventManager,e),s.length&&i.lu.Y_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function v9(n,e,t){const i=Oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Eu.get(e),o=s&&s.key;if(o){let l=new Tt(Te.comparator);l=l.insert(o,Pn.newNoDocument(o,Ie.min()));const u=Qe().add(o),h=new Xp(Ie.min(),new Map,new Tt(Le),l,u);await UA(i,h),i.Iu=i.Iu.remove(o),i.Eu.delete(e),Kv(i)}else await R_(i.localStore,e,!1).then(()=>I_(i,e,t)).catch(gc)}async function w9(n,e){const t=Oe(n),i=e.batch.batchId;try{const s=await RM(t.localStore,e);BA(t,i,null),GA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Rh(t,s)}catch(s){await gc(s)}}async function b9(n,e,t){const i=Oe(n);try{const s=await function(l,u){const h=Oe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return h.mutationQueue.lookupMutationBatch(d,u).next(_=>(rt(_!==null,37113),g=_.keys(),h.mutationQueue.removeMutationBatch(d,_))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,g,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>h.localDocuments.getDocuments(d,g))})}(i.localStore,e);BA(i,e,t),GA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Rh(i,s)}catch(s){await gc(s)}}function GA(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function BA(n,e,t){const i=Oe(n);let s=i.Au[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),i.Au[i.currentUser.toKey()]=s}}function I_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||jA(n,i)})}function jA(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Gv(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Kv(n))}function cE(n,e,t){for(const i of t)i instanceof NA?(n.du.addReference(i.key,e),S9(n,i)):i instanceof LA?(ye(Qv,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||jA(n,i.key)):Pe(19791,{pu:i})}function S9(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(ye(Qv,"New document in limbo: "+t),n.Tu.add(i),Kv(n))}function Kv(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Te(Pt.fromString(e)),i=n.Vu.next();n.Eu.set(i,new h9(t)),n.Iu=n.Iu.insert(t,i),IA(n.remoteStore,new eo(ws(Ov(t.path)),i,"TargetPurposeLimboResolution",jp.le))}}async function Rh(n,e,t){const i=Oe(n),s=[],o=[],l=[];i.hu.isEmpty()||(i.hu.forEach((u,h)=>{l.push(i.fu(h,e,t).then(d=>{var g;if((d||t)&&i.isPrimaryClient){const _=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(d){s.push(d);const _=zv.Rs(h.targetId,d);o.push(_)}}))}),await Promise.all(l),i.lu.Y_(s),await async function(h,d){const g=Oe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>oe.forEach(d,v=>oe.forEach(v.ds,b=>g.persistence.referenceDelegate.addReference(_,v.targetId,b)).next(()=>oe.forEach(v.As,b=>g.persistence.referenceDelegate.removeReference(_,v.targetId,b)))))}catch(_){if(!yc(_))throw _;ye(Uv,"Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const b=g.xs.get(v),S=b.snapshotVersion,A=b.withLastLimboFreeSnapshotVersion(S);g.xs=g.xs.insert(v,A)}}}(i.localStore,o))}async function E9(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){ye(Qv,"User change. New user:",e.toKey());const i=await AA(t.localStore,e);t.currentUser=e,function(o,l){o.Ru.forEach(u=>{u.forEach(h=>{h.reject(new Ee(ce.CANCELLED,l))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Rh(t,i.ks)}}function T9(n,e){const t=Oe(n),i=t.Eu.get(e);if(i&&i.cu)return Qe().add(i.key);{let s=Qe();const o=t.Pu.get(e);if(!o)return s;for(const l of o){const u=t.hu.get(l);s=s.unionWith(u.view.eu)}return s}}function HA(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v9.bind(null,e),e.lu.Y_=o9.bind(null,e.eventManager),e.lu.gu=a9.bind(null,e.eventManager),e}function x9(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b9.bind(null,e),e}class _p{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return AM(this.persistence,new EM,e.initialUser,this.serializer)}Su(e){return new xA(Lv.fi,this.serializer)}bu(e){return new DM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_p.provider={build:()=>new _p};class A9 extends _p{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){rt(this.persistence.referenceDelegate instanceof gp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new lM(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new xA(i=>gp.fi(i,t),this.serializer)}}class O_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=E9.bind(null,this.syncEngine),await t9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i9}()}createDatastore(e){const t=Wp(e.databaseInfo.databaseId),i=function(o){return new zM(o)}(e.databaseInfo);return function(o,l,u,h){return new jM(o,l,u,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,o,l,u){return new FM(i,s,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>lE(this.syncEngine,t,0),function(){return nE.C()?new nE:new MM}())}createSyncEngine(e,t){return function(s,o,l,u,h,d,g){const _=new f9(s,o,l,u,h,d);return g&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=Oe(s);ye(Aa,"RemoteStore shutting down."),o.da.add(5),await Ah(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}O_.provider={build:()=>new O_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="FirestoreClient";class C9{constructor(e,t,i,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Cn.UNAUTHENTICATED,this.clientId=zx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{ye(po,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(ye(po,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=qv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Oy(n,e){n.asyncQueue.verifyOperationInProgress(),ye(po,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await AA(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function uE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await P9(n);ye(po,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>sE(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>sE(e.remoteStore,s)),n._onlineComponents=e}async function P9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(po,"Using user provided OfflineComponentProvider");try{await Oy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ce.FAILED_PRECONDITION||s.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Xl("Error using user provided cache. Falling back to memory cache: "+t),await Oy(n,new _p)}}else ye(po,"Using default OfflineComponentProvider"),await Oy(n,new A9(void 0));return n._offlineComponents}async function FA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(po,"Using user provided OnlineComponentProvider"),await uE(n,n._uninitializedComponentsProvider._online)):(ye(po,"Using default OnlineComponentProvider"),await uE(n,new O_))),n._onlineComponents}function I9(n){return FA(n).then(e=>e.syncEngine)}async function O9(n){const e=await FA(n),t=e.eventManager;return t.onListen=d9.bind(null,e.syncEngine),t.onUnlisten=g9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=p9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=y9.bind(null,e.syncEngine),t}function k9(n,e,t={}){const i=new ao;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,d){const g=new R9({next:v=>{g.xu(),l.enqueueAndForget(()=>r9(o,_));const b=v.docs.has(u);!b&&v.fromCache?d.reject(new Ee(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&h&&h.source==="server"?d.reject(new Ee(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new l9(Ov(u.path),g,{includeMetadataChanges:!0,Qa:!0});return s9(o,_)}(await O9(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(n,e,t){if(!t)throw new Ee(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function M9(n,e,t,i){if(e===!0&&i===!0)throw new Ee(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fE(n){if(!Te.isDocumentKey(n))throw new Ee(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Yv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe(12329,{type:typeof n})}function ah(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yv(n);throw new Ee(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firestore.googleapis.com",dE=!0;class pE{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$A,this.ssl=dE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:dE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oM)throw new Ee(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ee(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ee(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ee(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xv{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ND;switch(i.type){case"firstParty":return new GD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=hE.get(t);i&&(ye("ComponentProvider","Removing Datastore"),hE.delete(t),i.terminate())}(this),Promise.resolve()}}function V9(n,e,t,i={}){var s;n=ah(n,Xv);const o=yh(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o&&(B2(`https://${h}`),j2("Firestore",!0)),l.host!==$A&&l.host!==h&&Xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:h,ssl:o,emulatorOptions:i});if(!ba(d,u)&&(n._setSettings(d),i.mockUserToken)){let g,_;if(typeof i.mockUserToken=="string")g=i.mockUserToken,_=Cn.MOCK_USER;else{g=KO(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Ee(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Cn(v)}n._authCredentials=new LD(new Nx(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Wv(this.firestore,e,this._query)}}class ki{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ki(this.firestore,e,this._key)}}class lh extends Wv{constructor(e,t,i){super(e,t,Ov(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ki(this.firestore,null,new Te(e))}withConverter(e){return new lh(this.firestore,e,this._path)}}function k_(n,e,...t){if(n=ci(n),arguments.length===1&&(e=zx.newId()),D9("doc","path",e),n instanceof Xv){const i=Pt.fromString(e,...t);return fE(i),new ki(n,null,new Te(i))}{if(!(n instanceof ki||n instanceof lh))throw new Ee(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pt.fromString(e,...t));return fE(i),new ki(n.firestore,n instanceof lh?n.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new CA(this,"async_queue_retry"),this.rc=()=>{const i=Iy();i&&ye(mE,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Iy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Iy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new ao;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!yc(e))throw e;ye(mE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,dr("INTERNAL UNHANDLED ERROR: ",yE(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const s=Fv.createAndSchedule(this,e,t,i,o=>this.uc(o));return this.Zu.push(s),s}oc(){this.Xu&&Pe(47125,{cc:yE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function yE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Zv extends Xv{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new gE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function N9(n,e){const t=typeof n=="object"?n:$2(),i=typeof n=="string"?n:cp,s=mv(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=$O("firestore");o&&V9(s,...o)}return s}function QA(n){if(n._terminated)throw new Ee(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||L9(n),n._firestoreClient}function L9(n){var e,t,i;const s=n._freezeSettings(),o=function(u,h,d,g){return new t5(u,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,qA(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new C9(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nc(Sn.fromBase64String(e))}catch(t){throw new Ee(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nc(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=/^__.*__$/;class U9{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Da(e,this.data,this.fieldMask,t,this.fieldTransforms):new Th(e,this.data,t,this.fieldTransforms)}}function YA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ic:n})}}class n0{constructor(e,t,i,s,o,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:i,Rc:!1});return s.Vc(e),s}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:i,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return vp(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(YA(this.Ic)&&z9.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class G9{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Wp(e)}bc(e,t,i,s=!1){return new n0({Ic:e,methodName:t,wc:i,path:vn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B9(n){const e=n._freezeSettings(),t=Wp(n._databaseId);return new G9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function j9(n,e,t,i,s,o={}){const l=n.bc(o.merge||o.mergeFields?2:0,e,t,s);JA("Data must be an object, but it was:",l,i);const u=WA(i,l);let h,d;if(o.merge)h=new ji(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=H9(e,_,t);if(!l.contains(v))throw new Ee(ce.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);q9(g,v)||g.push(v)}h=new ji(g),d=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,d=l.fieldTransforms;return new U9(new Ii(u),h,d)}function XA(n,e){if(ZA(n=ci(n)))return JA("Unsupported field value:",e,n),WA(n,e);if(n instanceof KA)return function(i,s){if(!YA(s.Ic))throw s.gc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const u of i){let h=XA(u,s.fc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(i,s){if((i=ci(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return x5(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Jt.fromDate(i);return{timestampValue:mp(s.serializer,o)}}if(i instanceof Jt){const o=new Jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:mp(s.serializer,o)}}if(i instanceof e0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof nc)return{bytesValue:yA(s.serializer,i._byteString)};if(i instanceof ki){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Vv(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof t0)return function(l,u){return{mapValue:{fields:{[$x]:{stringValue:Qx},[up]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw u.gc("VectorValues must only contain numeric values.");return kv(u.serializer,d)})}}}}}}(i,s);throw s.gc(`Unsupported field value: ${Yv(i)}`)}(n,e)}function WA(n,e){const t={};return Gx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(n,(i,s)=>{const o=XA(s,e.Ac(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function ZA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jt||n instanceof e0||n instanceof nc||n instanceof ki||n instanceof KA||n instanceof t0)}function JA(n,e,t){if(!ZA(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=Yv(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function H9(n,e,t){if((e=ci(e))instanceof Jv)return e._internalPath;if(typeof e=="string")return eR(n,e);throw vp("Field path arguments must be of type string or ",n,!1,void 0,t)}const F9=new RegExp("[~\\*/\\[\\]]");function eR(n,e,t){if(e.search(F9)>=0)throw vp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jv(...e.split("."))._internalPath}catch{throw vp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vp(n,e,t,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new Ee(ce.INVALID_ARGUMENT,u+n+h)}function q9(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,t,i,s,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ki(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $9 extends tR{data(){return super.data()}}function nR(n,e){return typeof e=="string"?eR(n,e):e instanceof Jv?e._internalPath:e._delegate._internalPath}class Q9{convertValue(e,t="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Oa(e,(s,o)=>{i[s]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,s;const o=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[up].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>Mt(l.doubleValue));return new t0(o)}convertGeoPoint(e){return new e0(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Fp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(nh(e));default:return null}}convertTimestamp(e){const t=co(e);return new Jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Pt.fromString(e);rt(EA(i),9688,{name:e});const s=new ih(i.get(1),i.get(3)),o=new Te(i.popFirst(5));return s.isEqual(t)||dr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iR extends tR{constructor(e,t,i,s,o,l){super(e,t,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new X9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(nR("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class X9 extends iR{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(n){n=ah(n,ki);const e=ah(n.firestore,Zv);return k9(QA(e),n._key).then(t=>eV(e,n,t))}class W9 extends Q9{constructor(e){super(),this.firestore=e}convertBytes(e){return new nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ki(this.firestore,null,t)}}function Z9(n,e,t){n=ah(n,ki);const i=ah(n.firestore,Zv),s=K9(n.converter,e);return J9(i,[j9(B9(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,cr.none())])}function J9(n,e){return function(i,s){const o=new ao;return i.asyncQueue.enqueueAndForget(async()=>_9(await I9(i),s,o)),o.promise}(QA(n),e)}function eV(n,e,t){const i=t.docs.get(e._key),s=new W9(n);return new iR(n,s,e._key,i,new Y9(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){mc=s})(dc),Yl(new Sa("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new Zv(new zD(i.getProvider("auth-internal")),new BD(l,i.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ee(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(d.options.projectId,g)}(l,s),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),ro(ES,TS,e),ro(ES,TS,"esm2017")})();var tV="firebase",nV="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ro(tV,nV,"app");const iV={apiKey:"AIzaSyCKd70xP2u1pBVwhp-RvkZtzvLZ_GI_FBg",authDomain:"scanx-50ee7.firebaseapp.com",projectId:"scanx-50ee7",projectNumber:"762393602497"},rR=q2(iV),wp=MD(rR),D_=N9(rR);function sV(){const[n,e]=q.useState(""),[t,i]=q.useState(""),[s,o]=q.useState("doctor"),[l,u]=q.useState(!0),[h,d]=q.useState(null),[g,_]=q.useState(!1),v=mh(),b=async S=>{S.preventDefault(),_(!0),d(null);try{if(l){const x=(await vk(wp,n,t)).user.uid,O=await sR(k_(D_,"users",x));if(O.exists()){const U=O.data().role;if(U==="doctor")v("/doctor-dashboard");else if(U==="patient")v("/patient-dashboard");else throw new Error("Invalid role in database.")}else throw new Error("User role not found. Contact admin.")}else{const x=(await _k(wp,n,t)).user.uid;await Z9(k_(D_,"users",x),{role:s}),v(s==="doctor"?"/doctor-dashboard":"/patient-dashboard")}}catch(A){d(A.message)}_(!1)};return N.jsxs("div",{className:"login-container",children:[N.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"background-video",children:[N.jsx("source",{src:"/background1.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),N.jsx("h1",{className:"scanx-banner",children:"ScanX"}),N.jsxs("form",{className:"login-form",onSubmit:b,children:[N.jsxs("div",{className:"role-toggle",children:[N.jsx("button",{type:"button",className:s==="doctor"?"active":"",onClick:()=>o("doctor"),children:"Doctor"}),N.jsx("button",{type:"button",className:s==="patient"?"active":"",onClick:()=>o("patient"),children:"Patient"})]}),N.jsxs("h2",{children:[l?"Login":"Create Account"," as ",s.charAt(0).toUpperCase()+s.slice(1)]}),N.jsx("input",{type:"email",placeholder:"Email",required:!0,value:n,onChange:S=>e(S.target.value),disabled:g}),N.jsx("input",{type:"password",placeholder:"Password",required:!0,value:t,onChange:S=>i(S.target.value),disabled:g}),N.jsx("button",{type:"submit",disabled:g,children:g?l?"Signing in...":"Creating account...":l?"Login":"Sign Up"}),N.jsx("p",{className:"switch-mode",children:l?N.jsxs(N.Fragment,{children:["Don’t have an account?"," ",N.jsx("span",{onClick:()=>u(!1),children:"Create one"})]}):N.jsxs(N.Fragment,{children:["Already have an account?"," ",N.jsx("span",{onClick:()=>u(!0),children:"Login"})]})}),h&&N.jsx("p",{className:"error",children:h})]})]})}function rV(){const[n,e]=q.useState(null),[t,i]=q.useState(null),[s,o]=q.useState("chest"),[l,u]=q.useState(null),[h,d]=q.useState(!1),[g,_]=q.useState(null),[v,b]=q.useState("fade-in"),[S,A]=q.useState(s);q.useEffect(()=>{s!==S&&b("fade-out")},[s,S]);const x=()=>{v==="fade-out"&&(A(s),b("fade-in"))},O=H=>{const W=H.target.files[0];if(e(W),u(null),_(null),W){const le=URL.createObjectURL(W);i(le)}else i(null)},U=async H=>{if(H.preventDefault(),!n){alert("Please select a scan image before uploading.");return}const W=new FormData;W.append("image",n),d(!0),_(null),u(null);try{const le=await fetch(`http://127.0.0.1:5000/predict/${s}`,{method:"POST",body:W});if(!le.ok)throw new Error("Server error. Try again.");const D=await le.json();u(D)}catch(le){console.error("Upload error:",le),_("Upload failed or prediction unavailable. Please try again.")}finally{d(!1)}},L={chest:"/ChestBg.jpg",brain:"/BrainBg.jpg"};return N.jsxs("div",{className:"upload-wrapper",children:[N.jsx("div",{className:`full-page-bg ${v}`,style:{backgroundImage:`url(${L[S]})`},onTransitionEnd:x}),N.jsxs("div",{className:"upload-container enhanced-upload",children:[N.jsx("h2",{className:"heading",children:"Upload Scan for AI Diagnosis"}),N.jsxs("form",{onSubmit:U,className:"upload-scan-form",children:[N.jsxs("div",{className:"form-control",children:[N.jsx("label",{children:"Select Scan Type:"}),N.jsxs("select",{value:s,onChange:H=>o(H.target.value),children:[N.jsx("option",{value:"chest",children:"Chest X-ray"}),N.jsx("option",{value:"brain",children:"Brain MRI"})]})]}),N.jsxs("div",{className:"form-control",children:[N.jsx("label",{children:"Upload Image:"}),N.jsx("div",{className:"file-input-box",children:N.jsx("input",{type:"file",onChange:O,accept:"image/*"})})]}),t&&N.jsxs("div",{className:"preview-section",children:[N.jsx("h4",{children:"Preview:"}),N.jsx("img",{src:t,alt:"Preview",className:"preview-image"})]}),N.jsx("button",{type:"submit",disabled:h,children:h?"⏳ Analyzing...":"Upload & Predict"})]}),h&&N.jsx("div",{className:"loading",children:"Analyzing scan with ScanX AI..."}),g&&N.jsx("div",{className:"error",children:g}),l&&N.jsxs("div",{className:`result-box ${l.Result.toLowerCase().includes("normal")?"success":"warning"}`,children:[N.jsxs("div",{className:"result-header",children:[N.jsx("div",{className:"result-icon",children:l.Result.toLowerCase().includes("normal")?"✅":"⚠️"}),N.jsxs("div",{children:[N.jsx("div",{className:"result-title",children:l.Result.toLowerCase().includes("normal")?"No Abnormality Detected":"Potential Issue Detected"}),N.jsxs("div",{className:"result-description",children:["AI analysis of the uploaded ",s," scan."]})]})]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Diagnosis:"})," ",N.jsx("span",{children:l.Result})]}),N.jsxs("div",{className:"confidence-section",children:[N.jsx("p",{children:N.jsx("strong",{children:"Confidence:"})}),N.jsx("div",{className:"confidence-bar-bg",children:N.jsxs("div",{className:`confidence-bar-fill ${l.confidence>=85?"confidence-fill-high":l.confidence>=60?"confidence-fill-medium":"confidence-fill-low"}`,style:{width:`${l.confidence}%`},children:[l.confidence,"%"]})})]})]})]})]})}function oR(n,e){return function(){return n.apply(e,arguments)}}const{toString:oV}=Object.prototype,{getPrototypeOf:i0}=Object,{iterator:em,toStringTag:aR}=Symbol,tm=(n=>e=>{const t=oV.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Xi=n=>(n=n.toLowerCase(),e=>tm(e)===n),nm=n=>e=>typeof e===n,{isArray:vc}=Array,ch=nm("undefined");function aV(n){return n!==null&&!ch(n)&&n.constructor!==null&&!ch(n.constructor)&&$n(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const lR=Xi("ArrayBuffer");function lV(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&lR(n.buffer),e}const cV=nm("string"),$n=nm("function"),cR=nm("number"),im=n=>n!==null&&typeof n=="object",uV=n=>n===!0||n===!1,Qd=n=>{if(tm(n)!=="object")return!1;const e=i0(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(aR in n)&&!(em in n)},hV=Xi("Date"),fV=Xi("File"),dV=Xi("Blob"),pV=Xi("FileList"),mV=n=>im(n)&&$n(n.pipe),gV=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||$n(n.append)&&((e=tm(n))==="formdata"||e==="object"&&$n(n.toString)&&n.toString()==="[object FormData]"))},yV=Xi("URLSearchParams"),[_V,vV,wV,bV]=["ReadableStream","Request","Response","Headers"].map(Xi),SV=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ch(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),vc(n))for(i=0,s=n.length;i<s;i++)e.call(null,n[i],i,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),l=o.length;let u;for(i=0;i<l;i++)u=o[i],e.call(null,n[u],u,n)}}function uR(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const da=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hR=n=>!ch(n)&&n!==da;function M_(){const{caseless:n}=hR(this)&&this||{},e={},t=(i,s)=>{const o=n&&uR(e,s)||s;Qd(e[o])&&Qd(i)?e[o]=M_(e[o],i):Qd(i)?e[o]=M_({},i):vc(i)?e[o]=i.slice():e[o]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ch(arguments[i],t);return e}const EV=(n,e,t,{allOwnKeys:i}={})=>(Ch(e,(s,o)=>{t&&$n(s)?n[o]=oR(s,t):n[o]=s},{allOwnKeys:i}),n),TV=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),xV=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},AV=(n,e,t,i)=>{let s,o,l;const u={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),o=s.length;o-- >0;)l=s[o],(!i||i(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&i0(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},RV=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},CV=n=>{if(!n)return null;if(vc(n))return n;let e=n.length;if(!cR(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},PV=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&i0(Uint8Array)),IV=(n,e)=>{const i=(n&&n[em]).call(n);let s;for(;(s=i.next())&&!s.done;){const o=s.value;e.call(n,o[0],o[1])}},OV=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},kV=Xi("HTMLFormElement"),DV=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),_E=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),MV=Xi("RegExp"),fR=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Ch(t,(s,o)=>{let l;(l=e(s,o,n))!==!1&&(i[o]=l||s)}),Object.defineProperties(n,i)},VV=n=>{fR(n,(e,t)=>{if($n(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if($n(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},NV=(n,e)=>{const t={},i=s=>{s.forEach(o=>{t[o]=!0})};return vc(n)?i(n):i(String(n).split(e)),t},LV=()=>{},zV=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function UV(n){return!!(n&&$n(n.append)&&n[aR]==="FormData"&&n[em])}const GV=n=>{const e=new Array(10),t=(i,s)=>{if(im(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const o=vc(i)?[]:{};return Ch(i,(l,u)=>{const h=t(l,s+1);!ch(h)&&(o[u]=h)}),e[s]=void 0,o}}return i};return t(n,0)},BV=Xi("AsyncFunction"),jV=n=>n&&(im(n)||$n(n))&&$n(n.then)&&$n(n.catch),dR=((n,e)=>n?setImmediate:e?((t,i)=>(da.addEventListener("message",({source:s,data:o})=>{s===da&&o===t&&i.length&&i.shift()()},!1),s=>{i.push(s),da.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",$n(da.postMessage)),HV=typeof queueMicrotask<"u"?queueMicrotask.bind(da):typeof process<"u"&&process.nextTick||dR,FV=n=>n!=null&&$n(n[em]),ee={isArray:vc,isArrayBuffer:lR,isBuffer:aV,isFormData:gV,isArrayBufferView:lV,isString:cV,isNumber:cR,isBoolean:uV,isObject:im,isPlainObject:Qd,isReadableStream:_V,isRequest:vV,isResponse:wV,isHeaders:bV,isUndefined:ch,isDate:hV,isFile:fV,isBlob:dV,isRegExp:MV,isFunction:$n,isStream:mV,isURLSearchParams:yV,isTypedArray:PV,isFileList:pV,forEach:Ch,merge:M_,extend:EV,trim:SV,stripBOM:TV,inherits:xV,toFlatObject:AV,kindOf:tm,kindOfTest:Xi,endsWith:RV,toArray:CV,forEachEntry:IV,matchAll:OV,isHTMLForm:kV,hasOwnProperty:_E,hasOwnProp:_E,reduceDescriptors:fR,freezeMethods:VV,toObjectSet:NV,toCamelCase:DV,noop:LV,toFiniteNumber:zV,findKey:uR,global:da,isContextDefined:hR,isSpecCompliantForm:UV,toJSONObject:GV,isAsyncFn:BV,isThenable:jV,setImmediate:dR,asap:HV,isIterable:FV};function ke(n,e,t,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}ee.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const pR=ke.prototype,mR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{mR[n]={value:n}});Object.defineProperties(ke,mR);Object.defineProperty(pR,"isAxiosError",{value:!0});ke.from=(n,e,t,i,s,o)=>{const l=Object.create(pR);return ee.toFlatObject(n,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),ke.call(l,n.message,e,t,i,s),l.cause=n,l.name=n.name,o&&Object.assign(l,o),l};const qV=null;function V_(n){return ee.isPlainObject(n)||ee.isArray(n)}function gR(n){return ee.endsWith(n,"[]")?n.slice(0,-2):n}function vE(n,e,t){return n?n.concat(e).map(function(s,o){return s=gR(s),!t&&o?"["+s+"]":s}).join(t?".":""):e}function $V(n){return ee.isArray(n)&&!n.some(V_)}const QV=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function sm(n,e,t){if(!ee.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ee.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,x){return!ee.isUndefined(x[A])});const i=t.metaTokens,s=t.visitor||g,o=t.dots,l=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(s))throw new TypeError("visitor must be a function");function d(S){if(S===null)return"";if(ee.isDate(S))return S.toISOString();if(!h&&ee.isBlob(S))throw new ke("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(S)||ee.isTypedArray(S)?h&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function g(S,A,x){let O=S;if(S&&!x&&typeof S=="object"){if(ee.endsWith(A,"{}"))A=i?A:A.slice(0,-2),S=JSON.stringify(S);else if(ee.isArray(S)&&$V(S)||(ee.isFileList(S)||ee.endsWith(A,"[]"))&&(O=ee.toArray(S)))return A=gR(A),O.forEach(function(L,H){!(ee.isUndefined(L)||L===null)&&e.append(l===!0?vE([A],H,o):l===null?A:A+"[]",d(L))}),!1}return V_(S)?!0:(e.append(vE(x,A,o),d(S)),!1)}const _=[],v=Object.assign(QV,{defaultVisitor:g,convertValue:d,isVisitable:V_});function b(S,A){if(!ee.isUndefined(S)){if(_.indexOf(S)!==-1)throw Error("Circular reference detected in "+A.join("."));_.push(S),ee.forEach(S,function(O,U){(!(ee.isUndefined(O)||O===null)&&s.call(e,O,ee.isString(U)?U.trim():U,A,v))===!0&&b(O,A?A.concat(U):[U])}),_.pop()}}if(!ee.isObject(n))throw new TypeError("data must be an object");return b(n),e}function wE(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function s0(n,e){this._pairs=[],n&&sm(n,this,e)}const yR=s0.prototype;yR.append=function(e,t){this._pairs.push([e,t])};yR.toString=function(e){const t=e?function(i){return e.call(this,i,wE)}:wE;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function KV(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _R(n,e,t){if(!e)return n;const i=t&&t.encode||KV;ee.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let o;if(s?o=s(e,t):o=ee.isURLSearchParams(e)?e.toString():new s0(e,t).toString(i),o){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class bE{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(i){i!==null&&e(i)})}}const vR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YV=typeof URLSearchParams<"u"?URLSearchParams:s0,XV=typeof FormData<"u"?FormData:null,WV=typeof Blob<"u"?Blob:null,ZV={isBrowser:!0,classes:{URLSearchParams:YV,FormData:XV,Blob:WV},protocols:["http","https","file","blob","url","data"]},r0=typeof window<"u"&&typeof document<"u",N_=typeof navigator=="object"&&navigator||void 0,JV=r0&&(!N_||["ReactNative","NativeScript","NS"].indexOf(N_.product)<0),e6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",t6=r0&&window.location.href||"http://localhost",n6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:r0,hasStandardBrowserEnv:JV,hasStandardBrowserWebWorkerEnv:e6,navigator:N_,origin:t6},Symbol.toStringTag,{value:"Module"})),In={...n6,...ZV};function i6(n,e){return sm(n,new In.classes.URLSearchParams,Object.assign({visitor:function(t,i,s,o){return In.isNode&&ee.isBuffer(t)?(this.append(i,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function s6(n){return ee.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function r6(n){const e={},t=Object.keys(n);let i;const s=t.length;let o;for(i=0;i<s;i++)o=t[i],e[o]=n[o];return e}function wR(n){function e(t,i,s,o){let l=t[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=o>=t.length;return l=!l&&ee.isArray(s)?s.length:l,h?(ee.hasOwnProp(s,l)?s[l]=[s[l],i]:s[l]=i,!u):((!s[l]||!ee.isObject(s[l]))&&(s[l]=[]),e(t,i,s[l],o)&&ee.isArray(s[l])&&(s[l]=r6(s[l])),!u)}if(ee.isFormData(n)&&ee.isFunction(n.entries)){const t={};return ee.forEachEntry(n,(i,s)=>{e(s6(i),s,t,0)}),t}return null}function o6(n,e,t){if(ee.isString(n))try{return(e||JSON.parse)(n),ee.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Ph={transitional:vR,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,o=ee.isObject(e);if(o&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return s?JSON.stringify(wR(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)||ee.isReadableStream(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return i6(e,this.formSerializer).toString();if((u=ee.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return sm(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),o6(e)):e}],transformResponse:[function(e){const t=this.transitional||Ph.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(ee.isResponse(e)||ee.isReadableStream(e))return e;if(e&&ee.isString(e)&&(i&&!this.responseType||s)){const l=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?ke.from(u,ke.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:In.classes.FormData,Blob:In.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],n=>{Ph.headers[n]={}});const a6=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),l6=n=>{const e={};let t,i,s;return n&&n.split(`
`).forEach(function(l){s=l.indexOf(":"),t=l.substring(0,s).trim().toLowerCase(),i=l.substring(s+1).trim(),!(!t||e[t]&&a6[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},SE=Symbol("internals");function Mu(n){return n&&String(n).trim().toLowerCase()}function Kd(n){return n===!1||n==null?n:ee.isArray(n)?n.map(Kd):String(n)}function c6(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const u6=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ky(n,e,t,i,s){if(ee.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!ee.isString(e)){if(ee.isString(i))return e.indexOf(i)!==-1;if(ee.isRegExp(i))return i.test(e)}}function h6(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function f6(n,e){const t=ee.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(s,o,l){return this[i].call(this,e,s,o,l)},configurable:!0})})}let Qn=class{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function o(u,h,d){const g=Mu(h);if(!g)throw new Error("header name must be a non-empty string");const _=ee.findKey(s,g);(!_||s[_]===void 0||d===!0||d===void 0&&s[_]!==!1)&&(s[_||h]=Kd(u))}const l=(u,h)=>ee.forEach(u,(d,g)=>o(d,g,h));if(ee.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(ee.isString(e)&&(e=e.trim())&&!u6(e))l(l6(e),t);else if(ee.isObject(e)&&ee.isIterable(e)){let u={},h,d;for(const g of e){if(!ee.isArray(g))throw TypeError("Object iterator must return a key-value pair");u[d=g[0]]=(h=u[d])?ee.isArray(h)?[...h,g[1]]:[h,g[1]]:g[1]}l(u,t)}else e!=null&&o(t,e,i);return this}get(e,t){if(e=Mu(e),e){const i=ee.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return c6(s);if(ee.isFunction(t))return t.call(this,s,i);if(ee.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Mu(e),e){const i=ee.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||ky(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function o(l){if(l=Mu(l),l){const u=ee.findKey(i,l);u&&(!t||ky(i,i[u],u,t))&&(delete i[u],s=!0)}}return ee.isArray(e)?e.forEach(o):o(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const o=t[i];(!e||ky(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const t=this,i={};return ee.forEach(this,(s,o)=>{const l=ee.findKey(i,o);if(l){t[l]=Kd(s),delete t[o];return}const u=e?h6(o):String(o).trim();u!==o&&delete t[o],t[u]=Kd(s),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ee.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&ee.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[SE]=this[SE]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=Mu(l);i[u]||(f6(s,l),i[u]=!0)}return ee.isArray(e)?e.forEach(o):o(e),this}};Qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(Qn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});ee.freezeMethods(Qn);function Dy(n,e){const t=this||Ph,i=e||t,s=Qn.from(i.headers);let o=i.data;return ee.forEach(n,function(u){o=u.call(t,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function bR(n){return!!(n&&n.__CANCEL__)}function wc(n,e,t){ke.call(this,n??"canceled",ke.ERR_CANCELED,e,t),this.name="CanceledError"}ee.inherits(wc,ke,{__CANCEL__:!0});function SR(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new ke("Request failed with status code "+t.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function d6(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function p6(n,e){n=n||10;const t=new Array(n),i=new Array(n);let s=0,o=0,l;return e=e!==void 0?e:1e3,function(h){const d=Date.now(),g=i[o];l||(l=d),t[s]=h,i[s]=d;let _=o,v=0;for(;_!==s;)v+=t[_++],_=_%n;if(s=(s+1)%n,s===o&&(o=(o+1)%n),d-l<e)return;const b=g&&d-g;return b?Math.round(v*1e3/b):void 0}}function m6(n,e){let t=0,i=1e3/e,s,o;const l=(d,g=Date.now())=>{t=g,s=null,o&&(clearTimeout(o),o=null),n.apply(null,d)};return[(...d)=>{const g=Date.now(),_=g-t;_>=i?l(d,g):(s=d,o||(o=setTimeout(()=>{o=null,l(s)},i-_)))},()=>s&&l(s)]}const bp=(n,e,t=3)=>{let i=0;const s=p6(50,250);return m6(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,h=l-i,d=s(h),g=l<=u;i=l;const _={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:d||void 0,estimated:d&&u&&g?(u-l)/d:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(_)},t)},EE=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},TE=n=>(...e)=>ee.asap(()=>n(...e)),g6=In.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,In.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(In.origin),In.navigator&&/(msie|trident)/i.test(In.navigator.userAgent)):()=>!0,y6=In.hasStandardBrowserEnv?{write(n,e,t,i,s,o){const l=[n+"="+encodeURIComponent(e)];ee.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),ee.isString(i)&&l.push("path="+i),ee.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _6(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function v6(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function ER(n,e,t){let i=!_6(e);return n&&(i||t==!1)?v6(n,e):e}const xE=n=>n instanceof Qn?{...n}:n;function Ra(n,e){e=e||{};const t={};function i(d,g,_,v){return ee.isPlainObject(d)&&ee.isPlainObject(g)?ee.merge.call({caseless:v},d,g):ee.isPlainObject(g)?ee.merge({},g):ee.isArray(g)?g.slice():g}function s(d,g,_,v){if(ee.isUndefined(g)){if(!ee.isUndefined(d))return i(void 0,d,_,v)}else return i(d,g,_,v)}function o(d,g){if(!ee.isUndefined(g))return i(void 0,g)}function l(d,g){if(ee.isUndefined(g)){if(!ee.isUndefined(d))return i(void 0,d)}else return i(void 0,g)}function u(d,g,_){if(_ in e)return i(d,g);if(_ in n)return i(void 0,d)}const h={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(d,g,_)=>s(xE(d),xE(g),_,!0)};return ee.forEach(Object.keys(Object.assign({},n,e)),function(g){const _=h[g]||s,v=_(n[g],e[g],g);ee.isUndefined(v)&&_!==u||(t[g]=v)}),t}const TR=n=>{const e=Ra({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=Qn.from(l),e.url=_R(ER(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(ee.isFormData(t)){if(In.hasStandardBrowserEnv||In.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[d,...g]=h?h.split(";").map(_=>_.trim()).filter(Boolean):[];l.setContentType([d||"multipart/form-data",...g].join("; "))}}if(In.hasStandardBrowserEnv&&(i&&ee.isFunction(i)&&(i=i(e)),i||i!==!1&&g6(e.url))){const d=s&&o&&y6.read(o);d&&l.set(s,d)}return e},w6=typeof XMLHttpRequest<"u",b6=w6&&function(n){return new Promise(function(t,i){const s=TR(n);let o=s.data;const l=Qn.from(s.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:d}=s,g,_,v,b,S;function A(){b&&b(),S&&S(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function O(){if(!x)return;const L=Qn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),W={data:!u||u==="text"||u==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:L,config:n,request:x};SR(function(D){t(D),A()},function(D){i(D),A()},W),x=null}"onloadend"in x?x.onloadend=O:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(O)},x.onabort=function(){x&&(i(new ke("Request aborted",ke.ECONNABORTED,n,x)),x=null)},x.onerror=function(){i(new ke("Network Error",ke.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let H=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const W=s.transitional||vR;s.timeoutErrorMessage&&(H=s.timeoutErrorMessage),i(new ke(H,W.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,n,x)),x=null},o===void 0&&l.setContentType(null),"setRequestHeader"in x&&ee.forEach(l.toJSON(),function(H,W){x.setRequestHeader(W,H)}),ee.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),u&&u!=="json"&&(x.responseType=s.responseType),d&&([v,S]=bp(d,!0),x.addEventListener("progress",v)),h&&x.upload&&([_,b]=bp(h),x.upload.addEventListener("progress",_),x.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(g=L=>{x&&(i(!L||L.type?new wc(null,n,x):L),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const U=d6(s.url);if(U&&In.protocols.indexOf(U)===-1){i(new ke("Unsupported protocol "+U+":",ke.ERR_BAD_REQUEST,n));return}x.send(o||null)})},S6=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,s;const o=function(d){if(!s){s=!0,u();const g=d instanceof Error?d:this.reason;i.abort(g instanceof ke?g:new wc(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,o(new ke(`timeout ${e} of ms exceeded`,ke.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),n=null)};n.forEach(d=>d.addEventListener("abort",o));const{signal:h}=i;return h.unsubscribe=()=>ee.asap(u),h}},E6=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,s;for(;i<t;)s=i+e,yield n.slice(i,s),i=s},T6=async function*(n,e){for await(const t of x6(n))yield*E6(t,e)},x6=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},AE=(n,e,t,i)=>{const s=T6(n,e);let o=0,l,u=h=>{l||(l=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:d,value:g}=await s.next();if(d){u(),h.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}h.enqueue(new Uint8Array(g))}catch(d){throw u(d),d}},cancel(h){return u(h),s.return()}},{highWaterMark:2})},rm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xR=rm&&typeof ReadableStream=="function",A6=rm&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),AR=(n,...e)=>{try{return!!n(...e)}catch{return!1}},R6=xR&&AR(()=>{let n=!1;const e=new Request(In.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),RE=64*1024,L_=xR&&AR(()=>ee.isReadableStream(new Response("").body)),Sp={stream:L_&&(n=>n.body)};rm&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Sp[e]&&(Sp[e]=ee.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new ke(`Response type '${e}' is not supported`,ke.ERR_NOT_SUPPORT,i)})})})(new Response);const C6=async n=>{if(n==null)return 0;if(ee.isBlob(n))return n.size;if(ee.isSpecCompliantForm(n))return(await new Request(In.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(n)||ee.isArrayBuffer(n))return n.byteLength;if(ee.isURLSearchParams(n)&&(n=n+""),ee.isString(n))return(await A6(n)).byteLength},P6=async(n,e)=>{const t=ee.toFiniteNumber(n.getContentLength());return t??C6(e)},I6=rm&&(async n=>{let{url:e,method:t,data:i,signal:s,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:h,responseType:d,headers:g,withCredentials:_="same-origin",fetchOptions:v}=TR(n);d=d?(d+"").toLowerCase():"text";let b=S6([s,o&&o.toAbortSignal()],l),S;const A=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let x;try{if(h&&R6&&t!=="get"&&t!=="head"&&(x=await P6(g,i))!==0){let W=new Request(e,{method:"POST",body:i,duplex:"half"}),le;if(ee.isFormData(i)&&(le=W.headers.get("content-type"))&&g.setContentType(le),W.body){const[D,P]=EE(x,bp(TE(h)));i=AE(W.body,RE,D,P)}}ee.isString(_)||(_=_?"include":"omit");const O="credentials"in Request.prototype;S=new Request(e,{...v,signal:b,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:i,duplex:"half",credentials:O?_:void 0});let U=await fetch(S);const L=L_&&(d==="stream"||d==="response");if(L_&&(u||L&&A)){const W={};["status","statusText","headers"].forEach(I=>{W[I]=U[I]});const le=ee.toFiniteNumber(U.headers.get("content-length")),[D,P]=u&&EE(le,bp(TE(u),!0))||[];U=new Response(AE(U.body,RE,D,()=>{P&&P(),A&&A()}),W)}d=d||"text";let H=await Sp[ee.findKey(Sp,d)||"text"](U,n);return!L&&A&&A(),await new Promise((W,le)=>{SR(W,le,{data:H,headers:Qn.from(U.headers),status:U.status,statusText:U.statusText,config:n,request:S})})}catch(O){throw A&&A(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,n,S),{cause:O.cause||O}):ke.from(O,O&&O.code,n,S)}}),z_={http:qV,xhr:b6,fetch:I6};ee.forEach(z_,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const CE=n=>`- ${n}`,O6=n=>ee.isFunction(n)||n===null||n===!1,RR={getAdapter:n=>{n=ee.isArray(n)?n:[n];const{length:e}=n;let t,i;const s={};for(let o=0;o<e;o++){t=n[o];let l;if(i=t,!O6(t)&&(i=z_[(l=String(t)).toLowerCase()],i===void 0))throw new ke(`Unknown adapter '${l}'`);if(i)break;s[l||"#"+o]=i}if(!i){const o=Object.entries(s).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(CE).join(`
`):" "+CE(o[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:z_};function My(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new wc(null,n)}function PE(n){return My(n),n.headers=Qn.from(n.headers),n.data=Dy.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),RR.getAdapter(n.adapter||Ph.adapter)(n).then(function(i){return My(n),i.data=Dy.call(n,n.transformResponse,i),i.headers=Qn.from(i.headers),i},function(i){return bR(i)||(My(n),i&&i.response&&(i.response.data=Dy.call(n,n.transformResponse,i.response),i.response.headers=Qn.from(i.response.headers))),Promise.reject(i)})}const CR="1.9.0",om={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{om[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const IE={};om.transitional=function(e,t,i){function s(o,l){return"[Axios v"+CR+"] Transitional option '"+o+"'"+l+(i?". "+i:"")}return(o,l,u)=>{if(e===!1)throw new ke(s(l," has been removed"+(t?" in "+t:"")),ke.ERR_DEPRECATED);return t&&!IE[l]&&(IE[l]=!0,console.warn(s(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,u):!0}};om.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function k6(n,e,t){if(typeof n!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const o=i[s],l=e[o];if(l){const u=n[o],h=u===void 0||l(u,o,n);if(h!==!0)throw new ke("option "+o+" must be "+h,ke.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ke("Unknown option "+o,ke.ERR_BAD_OPTION)}}const Yd={assertOptions:k6,validators:om},ds=Yd.validators;let wa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new bE,response:new bE}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ra(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:o}=t;i!==void 0&&Yd.assertOptions(i,{silentJSONParsing:ds.transitional(ds.boolean),forcedJSONParsing:ds.transitional(ds.boolean),clarifyTimeoutError:ds.transitional(ds.boolean)},!1),s!=null&&(ee.isFunction(s)?t.paramsSerializer={serialize:s}:Yd.assertOptions(s,{encode:ds.function,serialize:ds.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Yd.assertOptions(t,{baseUrl:ds.spelling("baseURL"),withXsrfToken:ds.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&ee.merge(o.common,o[t.method]);o&&ee.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),t.headers=Qn.concat(l,o);const u=[];let h=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(t)===!1||(h=h&&A.synchronous,u.unshift(A.fulfilled,A.rejected))});const d=[];this.interceptors.response.forEach(function(A){d.push(A.fulfilled,A.rejected)});let g,_=0,v;if(!h){const S=[PE.bind(this),void 0];for(S.unshift.apply(S,u),S.push.apply(S,d),v=S.length,g=Promise.resolve(t);_<v;)g=g.then(S[_++],S[_++]);return g}v=u.length;let b=t;for(_=0;_<v;){const S=u[_++],A=u[_++];try{b=S(b)}catch(x){A.call(this,x);break}}try{g=PE.call(this,b)}catch(S){return Promise.reject(S)}for(_=0,v=d.length;_<v;)g=g.then(d[_++],d[_++]);return g}getUri(e){e=Ra(this.defaults,e);const t=ER(e.baseURL,e.url,e.allowAbsoluteUrls);return _R(t,e.params,e.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(e){wa.prototype[e]=function(t,i){return this.request(Ra(i||{},{method:e,url:t,data:(i||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function t(i){return function(o,l,u){return this.request(Ra(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}wa.prototype[e]=t(),wa.prototype[e+"Form"]=t(!0)});let D6=class PR{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{i.subscribe(u),o=u}).then(s);return l.cancel=function(){i.unsubscribe(o)},l},e(function(o,l,u){i.reason||(i.reason=new wc(o,l,u),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new PR(function(s){e=s}),cancel:e}}};function M6(n){return function(t){return n.apply(null,t)}}function V6(n){return ee.isObject(n)&&n.isAxiosError===!0}const U_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(U_).forEach(([n,e])=>{U_[e]=n});function IR(n){const e=new wa(n),t=oR(wa.prototype.request,e);return ee.extend(t,wa.prototype,e,{allOwnKeys:!0}),ee.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return IR(Ra(n,s))},t}const It=IR(Ph);It.Axios=wa;It.CanceledError=wc;It.CancelToken=D6;It.isCancel=bR;It.VERSION=CR;It.toFormData=sm;It.AxiosError=ke;It.Cancel=It.CanceledError;It.all=function(e){return Promise.all(e)};It.spread=M6;It.isAxiosError=V6;It.mergeConfig=Ra;It.AxiosHeaders=Qn;It.formToJSON=n=>wR(ee.isHTMLForm(n)?new FormData(n):n);It.getAdapter=RR.getAdapter;It.HttpStatusCode=U_;It.default=It;const{Axios:MQ,AxiosError:VQ,CanceledError:NQ,isCancel:LQ,CancelToken:zQ,VERSION:UQ,all:GQ,Cancel:BQ,isAxiosError:jQ,spread:HQ,toFormData:FQ,AxiosHeaders:qQ,HttpStatusCode:$Q,formToJSON:QQ,getAdapter:KQ,mergeConfig:YQ}=It;function OR(){const[n,e]=q.useState([]);q.useEffect(()=>{t()},[]);const t=async()=>{try{const s=await It.get("http://127.0.0.1:5000/reports");e(s.data)}catch(s){console.error("Error fetching reports:",s)}},i=async s=>{if(window.confirm("Are you sure you want to delete this report?"))try{await It.delete(`http://127.0.0.1:5000/delete-report/${s}`),t()}catch(l){console.error("Error deleting report:",l)}};return N.jsxs("div",{style:{padding:"2rem"},children:[N.jsx("h2",{style:{fontSize:"24px",marginBottom:"1rem"},children:"My Reports"}),N.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[N.jsx("thead",{children:N.jsxs("tr",{style:{backgroundColor:"#f5f5f5",textAlign:"left"},children:[N.jsx("th",{style:xi,children:"File"}),N.jsx("th",{style:xi,children:"Scan Type"}),N.jsx("th",{style:xi,children:"Result"}),N.jsx("th",{style:xi,children:"Confidence"}),N.jsx("th",{style:xi,children:"Time"}),N.jsx("th",{style:xi,children:"Action"})]})}),N.jsx("tbody",{children:n.map((s,o)=>N.jsxs("tr",{style:{borderBottom:"1px solid #ddd"},children:[N.jsx("td",{style:xi,children:s.filename}),N.jsx("td",{style:xi,children:s.scan_type}),N.jsx("td",{style:xi,children:s.result}),N.jsxs("td",{style:xi,children:[s.confidence,"%"]}),N.jsx("td",{style:xi,children:s.timestamp}),N.jsx("td",{style:xi,children:N.jsx("button",{onClick:()=>i(o),style:{backgroundColor:"#e53935",color:"#fff",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Delete"})})]},o))})]})]})}const xi={padding:"12px 16px",fontSize:"14px"},OE=[{id:1,name:"Divyansh",history:[{date:"2025-05-26",condition:"Pneumonia",notes:"Prescribed medication"},{date:"2025-05-27",condition:"Pneumonia",notes:"X-ray done, cast applied"}]},{id:2,name:"Gaurav",history:[{date:"2025-05-26",condition:"Pituitary",notes:"Recommended antihistamines"},{date:"2025-05-27",condition:"Normal",notes:"MRI scan performed"}]}],N6=()=>{const[n,e]=q.useState(null),t=OE.find(i=>i.id===n);return N.jsxs("div",{style:{display:"flex",height:"100%"},children:[N.jsxs("div",{style:{width:"220px",borderRight:"1px solid #ccc",padding:"1rem",overflowY:"auto"},children:[N.jsx("h4",{children:"Patients"}),N.jsx("ul",{style:{listStyle:"none",padding:0},children:OE.map(i=>N.jsx("li",{onClick:()=>e(i.id),style:{cursor:"pointer",padding:"8px",backgroundColor:n===i.id?"#1976d2":"transparent",color:n===i.id?"white":"black",borderRadius:"4px",marginBottom:"6px"},children:i.name},i.id))})]}),N.jsx("div",{style:{flex:1,padding:"1rem",overflowY:"auto"},children:t?N.jsxs(N.Fragment,{children:[N.jsxs("h4",{children:["History for ",t.name]}),N.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ddd",padding:"8px"},children:"Date"}),N.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ddd",padding:"8px"},children:"Condition"}),N.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ddd",padding:"8px"},children:"Notes"})]})}),N.jsx("tbody",{children:t.history.map((i,s)=>N.jsxs("tr",{children:[N.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:i.date}),N.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:i.condition}),N.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:i.notes})]},s))})]})]}):N.jsx("p",{children:"Please select a patient to view their history."})})]})},pa="generated",uh="pointerdown",L6="pointerup",G_="pointerleave",z6="pointerout",Ca="pointermove",hh="touchstart",kE="touchend",U6="touchmove",G6="touchcancel",B6="resize",j6="visibilitychange",un="tsParticles - Error",ze=100,Ve=.5,gt=1e3,Ft={x:0,y:0,z:0},fd={a:1,b:0,c:0,d:1},ic="random",Xd="mid",cn=2,kR=Math.PI*cn,Vy=60,H6=1,DR="true",DE="false",Ny="canvas",ME=0,nr=2,VE=4,F6=1,NE=1,LE=1,q6=4,MR=1,Wd=255,ma=360,B_=100,j_=100,zE=0,H_=0,$6=60,Q6=0,F_=.25,UE=Ve+F_,GE=0,K6=1,Y6=0,X6=0,W6=1,o0=1,Z6=1,BE=1,Ep=0,VR=1,J6=0,eN=120,tN=0,nN=0,iN=1e4,sN=0,rN=1,fh=0,NR=1,oN=1,aN=0,jE=1,lN=0,cN=0,HE=-.25,FE=1.5,qE=0,uN=1,hN=0,q_=0,fN=0,LR=1,dN=1,Tp=1,pN=500,$E=50,zR=0,$_=1,UR=0,mN=1,gN=0,na=255,Ly=3,zy=6,yN=1,_N=1,vN=0,wN=0,bN=0,SN=0;var yn;(function(n){n.bottom="bottom",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.left="left",n.none="none",n.right="right",n.top="top",n.topLeft="top-left",n.topRight="top-right",n.outside="outside",n.inside="inside"})(yn||(yn={}));function GR(n){return typeof n=="boolean"}function Gn(n){return typeof n=="string"}function En(n){return typeof n=="number"}function am(n){return typeof n=="function"}function to(n){return typeof n=="object"&&n!==null}function tn(n){return Array.isArray(n)}function X(n){return n==null}class ai{constructor(e,t,i){if(this._updateFromAngle=(s,o)=>{this.x=Math.cos(s)*o,this.y=Math.sin(s)*o},!En(e)&&e){this.x=e.x,this.y=e.y;const s=e;this.z=s.z?s.z:Ft.z}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??Ft.z;else throw new Error(`${un} Vector3d not initialized correctly`)}static get origin(){return ai.create(Ft.x,Ft.y,Ft.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return ai.create(e.x,e.y,e.z)}static create(e,t,i){return new ai(e,t,i)}add(e){return ai.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return ai.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return ai.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**nr+this.y**nr}mult(e){return ai.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=fh&&this.multTo(MR/e)}rotate(e){return ai.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),Ft.z)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:Ft.z}sub(e){return ai.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Ue extends ai{constructor(e,t){super(e,t,Ft.z)}static get origin(){return Ue.create(Ft.x,Ft.y)}static clone(e){return Ue.create(e.x,e.y)}static create(e,t){return new Ue(e,t)}}let EN=Math.random;const BR={nextFrame:n=>requestAnimationFrame(n),cancel:n=>cancelAnimationFrame(n)};function me(){return Kn(EN(),0,1-Number.EPSILON)}function TN(n){return BR.nextFrame(n)}function xN(n){BR.cancel(n)}function Kn(n,e,t){return Math.min(Math.max(n,e),t)}function Uy(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function Nt(n){const e=li(n),t=0;let i=sc(n);return e===i&&(i=t),me()*(e-i)+i}function ne(n){return En(n)?n:Nt(n)}function sc(n){return En(n)?n:n.min}function li(n){return En(n)?n:n.max}function ge(n,e){if(n===e||e===void 0&&En(n))return n;const t=sc(n),i=li(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:ge(t,i)}function Lt(n,e){const t=n.x-e.x,i=n.y-e.y,s=2;return{dx:t,dy:i,distance:Math.sqrt(t**s+i**s)}}function wn(n,e){return Lt(n,e).distance}function Hi(n){return n*Math.PI/180}function AN(n,e,t){if(En(n))return Hi(n);switch(n){case yn.top:return-Math.PI*Ve;case yn.topRight:return-Math.PI*F_;case yn.right:return Q6;case yn.bottomRight:return Math.PI*F_;case yn.bottom:return Math.PI*Ve;case yn.bottomLeft:return Math.PI*UE;case yn.left:return Math.PI;case yn.topLeft:return-Math.PI*UE;case yn.inside:return Math.atan2(t.y-e.y,t.x-e.x);case yn.outside:return Math.atan2(e.y-t.y,e.x-t.x);default:return me()*kR}}function RN(n){const e=Ue.origin;return e.length=1,e.angle=n,e}function QE(n,e,t,i){return Ue.create(n.x*(t-i)/(t+i)+e.x*cn*i/(t+i),n.y)}function jR(n){var e,t;return{x:(((e=n.position)==null?void 0:e.x)??me()*ze)*n.size.width/ze,y:(((t=n.position)==null?void 0:t.y)??me()*ze)*n.size.height/ze}}function HR(n){var t,i;const e={x:((t=n.position)==null?void 0:t.x)!==void 0?ne(n.position.x):void 0,y:((i=n.position)==null?void 0:i.y)!==void 0?ne(n.position.y):void 0};return jR({size:n.size,position:e})}function CN(n){var e,t;return{x:((e=n.position)==null?void 0:e.x)??me()*n.size.width,y:((t=n.position)==null?void 0:t.y)??me()*n.size.height}}function Ih(n){return n?n.endsWith("%")?parseFloat(n)/ze:parseFloat(n):1}var ga;(function(n){n.auto="auto",n.increase="increase",n.decrease="decrease",n.random="random"})(ga||(ga={}));var ct;(function(n){n.increasing="increasing",n.decreasing="decreasing"})(ct||(ct={}));var xs;(function(n){n.none="none",n.max="max",n.min="min"})(xs||(xs={}));var qe;(function(n){n.bottom="bottom",n.left="left",n.right="right",n.top="top"})(qe||(qe={}));var Qi;(function(n){n.precise="precise",n.percent="percent"})(Qi||(Qi={}));var Ss;(function(n){n.max="max",n.min="min",n.random="random"})(Ss||(Ss={}));const PN={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function mr(){return PN}function IN(n){const e=new Map;return(...t)=>{const i=JSON.stringify(t);if(e.has(i))return e.get(i);const s=n(...t);return e.set(i,s),s}}function KE(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:s,rectOtherSide:o,velocity:l,factor:u}=n;return i.min<o.min||i.min>o.max||i.max<o.min||i.max>o.max||(t.max>=s.min&&t.max<=(s.max+s.min)*Ve&&l>GE||t.min<=s.max&&t.min>(s.max+s.min)*Ve&&l<GE)&&(e.velocity=l*-u,e.bounced=!0),e}function ON(n,e){const t=vt(e,i=>n.matches(i));return tn(t)?t.some(i=>i):t}function Pa(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function kN(){return!Pa()&&typeof matchMedia<"u"}function a0(n){if(kN())return matchMedia(n)}function DN(n){if(!(Pa()||typeof IntersectionObserver>"u"))return new IntersectionObserver(n)}function MN(n){if(!(Pa()||typeof MutationObserver>"u"))return new MutationObserver(n)}function st(n,e){return n===e||tn(e)&&e.indexOf(n)>-1}async function Q_(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function FR(n){return Math.floor(me()*n.length)}function As(n,e,t=!0){return n[e!==void 0&&t?e%n.length:FR(n)]}function Oh(n,e,t,i,s){return VN(kh(n,i??0),e,t,s)}function VN(n,e,t,i){let s=!0;return(!i||i===qe.bottom)&&(s=n.top<e.height+t.x),s&&(!i||i===qe.left)&&(s=n.right>t.x),s&&(!i||i===qe.right)&&(s=n.left<e.width+t.y),s&&(!i||i===qe.top)&&(s=n.bottom>t.y),s}function kh(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function ut(n,...e){for(const t of e){if(t==null)continue;if(!to(t)){n=t;continue}const i=Array.isArray(t);i&&(to(n)||!n||!Array.isArray(n))?n=[]:!i&&(to(n)||!n||Array.isArray(n))&&(n={});for(const s in t){if(s==="__proto__")continue;const o=t,l=o[s],u=n;u[s]=to(l)&&Array.isArray(l)?l.map(h=>ut(u[s],h)):ut(u[s],l)}}return n}function l0(n,e){return!!QR(e,t=>t.enable&&st(n,t.mode))}function c0(n,e,t){vt(e,i=>{const s=i.mode;i.enable&&st(n,s)&&NN(i,t)})}function NN(n,e){const t=n.selectors;vt(t,i=>{e(i,n)})}function qR(n,e){if(!(!e||!n))return QR(n,t=>ON(e,t.selectors))}function K_(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:Ue.create(ne(n.options.bounce.horizontal.value),ne(n.options.bounce.vertical.value))}}function $R(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[s,o]=[n.position,e.position],{dx:l,dy:u}=Lt(o,s);if(t*l+i*u<0)return;const d=-Math.atan2(u,l),g=n.mass,_=e.mass,v=n.velocity.rotate(d),b=e.velocity.rotate(d),S=QE(v,b,g,_),A=QE(b,v,g,_),x=S.rotate(-d),O=A.rotate(-d);n.velocity.x=x.x*n.factor.x,n.velocity.y=x.y*n.factor.y,e.velocity.x=O.x*e.factor.x,e.velocity.y=O.y*e.factor.y}function LN(n,e){const t=n.getPosition(),i=n.getRadius(),s=kh(t,i),o=n.options.bounce,l=KE({pSide:{min:s.left,max:s.right},pOtherSide:{min:s.top,max:s.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:ne(o.horizontal.value)});l.bounced&&(l.velocity!==void 0&&(n.velocity.x=l.velocity),l.position!==void 0&&(n.position.x=l.position));const u=KE({pSide:{min:s.top,max:s.bottom},pOtherSide:{min:s.left,max:s.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:ne(o.vertical.value)});u.bounced&&(u.velocity!==void 0&&(n.velocity.y=u.velocity),u.position!==void 0&&(n.position.y=u.position))}function vt(n,e){return tn(n)?n.map((i,s)=>e(i,s)):e(n,0)}function qt(n,e,t){return tn(n)?As(n,e,t):n}function QR(n,e){return tn(n)?n.find((i,s)=>e(i,s)):e(n,0)?n:void 0}function KR(n,e){const t=n.value,i=n.animation,s={delayTime:ne(i.delay)*gt,enable:i.enable,value:ne(n.value)*e,max:li(t)*e,min:sc(t)*e,loops:0,maxLoops:ne(i.count),time:0},o=1;if(i.enable){switch(s.decay=o-ne(i.decay),i.mode){case ga.increase:s.status=ct.increasing;break;case ga.decrease:s.status=ct.decreasing;break;case ga.random:s.status=me()>=Ve?ct.increasing:ct.decreasing;break}const l=i.mode===ga.auto;switch(i.startValue){case Ss.min:s.value=s.min,l&&(s.status=ct.increasing);break;case Ss.max:s.value=s.max,l&&(s.status=ct.decreasing);break;case Ss.random:default:s.value=Nt(s),l&&(s.status=me()>=Ve?ct.increasing:ct.decreasing);break}}return s.initialValue=s.value,s}function YR(n,e){if(!(n.mode===Qi.percent)){const{mode:s,...o}=n;return o}return"x"in n?{x:n.x/ze*e.width,y:n.y/ze*e.height}:{width:n.width/ze*e.width,height:n.height/ze*e.height}}function u0(n,e){return YR(n,e)}function YE(n,e){return YR(n,e)}function zN(n,e,t,i,s){switch(e){case xs.max:t>=s&&n.destroy();break;case xs.min:t<=i&&n.destroy();break}}function rc(n,e,t,i,s){if(n.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const g=(e.velocity??0)*s.factor,_=e.min,v=e.max,b=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=s.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case ct.increasing:e.value>=v?(t?e.status=ct.decreasing:e.value-=v,e.loops||(e.loops=0),e.loops++):e.value+=g;break;case ct.decreasing:e.value<=_?(t?e.status=ct.increasing:e.value+=v,e.loops||(e.loops=0),e.loops++):e.value-=g}e.velocity&&b!==1&&(e.velocity*=b),zN(n,i,e.value,_,v),n.destroyed||(e.value=Kn(e.value,_,v))}}function UN(n){var t,i,s,o;const e=document.createElement("div").style;if(!n)return e;for(const l in n){const u=n[l];if(!Object.prototype.hasOwnProperty.call(n,l)||X(u))continue;const h=(t=n.getPropertyValue)==null?void 0:t.call(n,u);if(!h)continue;const d=(i=n.getPropertyPriority)==null?void 0:i.call(n,u);d?(o=e.setProperty)==null||o.call(e,u,h,d):(s=e.setProperty)==null||s.call(e,u,h)}return e}function GN(n){const e=document.createElement("div").style,t=10,i={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:n.toString(t),"z-index":n.toString(t),top:"0",left:"0"};for(const s in i){const o=i[s];e.setProperty(s,o)}return e}const BN=IN(GN);var Xr;(function(n){n.darken="darken",n.enlighten="enlighten"})(Xr||(Xr={}));function XR(n,e){if(e){for(const t of n.colorManagers.values())if(e.startsWith(t.stringPrefix))return t.parseString(e)}}function bn(n,e,t,i=!0){if(!e)return;const s=Gn(e)?{value:e}:e;if(Gn(s.value))return WR(n,s.value,t,i);if(tn(s.value))return bn(n,{value:As(s.value,t,i)});for(const o of n.colorManagers.values()){const l=o.handleRangeColor(s);if(l)return l}}function WR(n,e,t,i=!0){if(!e)return;const s=Gn(e)?{value:e}:e;if(Gn(s.value))return s.value===ic?JR():HN(n,s.value);if(tn(s.value))return WR(n,{value:As(s.value,t,i)});for(const o of n.colorManagers.values()){const l=o.handleColor(s);if(l)return l}}function Rs(n,e,t,i=!0){const s=bn(n,e,t,i);return s?ZR(s):void 0}function ZR(n){const e=n.r/Wd,t=n.g/Wd,i=n.b/Wd,s=Math.max(e,t,i),o=Math.min(e,t,i),l={h:zE,l:(s+o)*Ve,s:H_};return s!==o&&(l.s=l.l<Ve?(s-o)/(s+o):(s-o)/(cn-s-o),l.h=e===s?(t-i)/(s-o):l.h=t===s?cn+(i-e)/(s-o):cn*cn+(e-t)/(s-o)),l.l*=j_,l.s*=B_,l.h*=$6,l.h<zE&&(l.h+=ma),l.h>=ma&&(l.h-=ma),l}function jN(n,e){var t;return(t=XR(n,e))==null?void 0:t.a}function HN(n,e){return XR(n,e)}function oc(n){const e=(n.h%ma+ma)%ma,t=Math.max(H_,Math.min(B_,n.s)),i=Math.max(gN,Math.min(j_,n.l)),s=e/ma,o=t/B_,l=i/j_;if(t===H_){const S=Math.round(l*na);return{r:S,g:S,b:S}}const u=(S,A,x)=>{if(x<0&&x++,x>1&&x--,x*zy<1)return S+(A-S)*zy*x;if(x*cn<1)return A;if(x*Ly<1*cn){const L=cn/Ly;return S+(A-S)*(L-x)*zy}return S},h=l<Ve?l*(yN+o):l+o-l*o,d=cn*l-h,g=_N/Ly,_=Math.min(na,na*u(d,h,s+g)),v=Math.min(na,na*u(d,h,s)),b=Math.min(na,na*u(d,h,s-g));return{r:Math.round(_),g:Math.round(v),b:Math.round(b)}}function FN(n){const e=oc(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function JR(n){const e=vN,t=Wd+$_;return{b:Math.floor(Nt(ge(e,t))),g:Math.floor(Nt(ge(e,t))),r:Math.floor(Nt(ge(e,t)))}}function Un(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??o0})`}function mo(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??o0})`}function h0(n,e,t,i){let s=n,o=e;return s.r===void 0&&(s=oc(n)),o.r===void 0&&(o=oc(e)),{b:Uy(s.b,o.b,t,i),g:Uy(s.g,o.g,t,i),r:Uy(s.r,o.r,t,i)}}function Y_(n,e,t){if(t===ic)return JR();if(t===Xd){const i=n.getFillColor()??n.getStrokeColor(),s=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&s&&e)return h0(i,s,n.getRadius(),e.getRadius());{const o=i??s;if(o)return oc(o)}}else return t}function eC(n,e,t,i){const s=Gn(e)?e:e.value;return s===ic?i?bn(n,{value:s}):t?ic:Xd:s===Xd?Xd:bn(n,{value:s})}function XE(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function f0(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(Gy(i.h,e.h,t),Gy(i.s,e.s,t),Gy(i.l,e.l,t)),i}function Gy(n,e,t){n.enable=e.enable,n.enable?(n.velocity=ne(e.speed)/ze*t,n.decay=NR-ne(e.decay),n.status=ct.increasing,n.loops=bN,n.maxLoops=ne(e.count),n.time=SN,n.delayTime=ne(e.delay)*gt,e.sync||(n.velocity*=me(),n.value*=me()),n.initialValue=n.value,n.offset=ge(e.offset)):n.velocity=wN}function By(n,e,t,i){if(!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0)||(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=i.value),(n.delayTime??0)>0&&n.time<(n.delayTime??0)))return;const g=n.offset?Nt(n.offset):0,_=(n.velocity??0)*i.factor+g*3.6,v=n.decay??1,b=li(e),S=sc(e);!t||n.status===ct.increasing?(n.value+=_,n.value>b&&(n.loops||(n.loops=0),n.loops++,t?n.status=ct.decreasing:n.value-=b)):(n.value-=_,n.value<0&&(n.loops||(n.loops=0),n.loops++,n.status=ct.increasing)),n.velocity&&v!==1&&(n.velocity*=v),n.value=Kn(n.value,S,b)}function d0(n,e){if(!n)return;const{h:t,s:i,l:s}=n,o={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};t&&By(t,o.h,!1,e),i&&By(i,o.s,!0,e),s&&By(s,o.l,!0,e)}function Yu(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function qN(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(Ft.x,Ft.y,e.width,e.height)}function $N(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,Ft.x,Ft.y,e.width,e.height),n.globalAlpha=1)}function jy(n,e){n.clearRect(Ft.x,Ft.y,e.width,e.height)}function QN(n){const{container:e,context:t,particle:i,delta:s,colorStyles:o,backgroundMask:l,composite:u,radius:h,opacity:d,shadow:g,transform:_}=n,v=i.getPosition(),b=i.rotation+(i.pathRotation?i.velocity.angle:zR),S={sin:Math.sin(b),cos:Math.cos(b)},A=!!b,x={a:S.cos*(_.a??fd.a),b:A?S.sin*(_.b??$_):_.b??fd.b,c:A?-S.sin*(_.c??$_):_.c??fd.c,d:S.cos*(_.d??fd.d)};t.setTransform(x.a,x.b,x.c,x.d,v.x,v.y),l&&(t.globalCompositeOperation=u);const O=i.shadowColor;g.enable&&O&&(t.shadowBlur=g.blur,t.shadowColor=Un(O),t.shadowOffsetX=g.offset.x,t.shadowOffsetY=g.offset.y),o.fill&&(t.fillStyle=o.fill);const U=i.strokeWidth??UR;t.lineWidth=U,o.stroke&&(t.strokeStyle=o.stroke);const L={container:e,context:t,particle:i,radius:h,opacity:d,delta:s,transformData:x,strokeWidth:U};YN(L),XN(L),KN(L),t.globalCompositeOperation="source-over",t.resetTransform()}function KN(n){const{container:e,context:t,particle:i,radius:s,opacity:o,delta:l,transformData:u}=n;if(!i.effect)return;const h=e.effectDrawers.get(i.effect);h&&h.draw({context:t,particle:i,radius:s,opacity:o,delta:l,pixelRatio:e.retina.pixelRatio,transformData:{...u}})}function YN(n){const{container:e,context:t,particle:i,radius:s,opacity:o,delta:l,strokeWidth:u,transformData:h}=n;if(!i.shape)return;const d=e.shapeDrawers.get(i.shape);d&&(t.beginPath(),d.draw({context:t,particle:i,radius:s,opacity:o,delta:l,pixelRatio:e.retina.pixelRatio,transformData:{...h}}),i.shapeClose&&t.closePath(),u>UR&&t.stroke(),i.shapeFill&&t.fill())}function XN(n){const{container:e,context:t,particle:i,radius:s,opacity:o,delta:l,transformData:u}=n;if(!i.shape)return;const h=e.shapeDrawers.get(i.shape);h!=null&&h.afterDraw&&h.afterDraw({context:t,particle:i,radius:s,opacity:o,delta:l,pixelRatio:e.retina.pixelRatio,transformData:{...u}})}function WN(n,e,t){e.draw&&e.draw(n,t)}function ZN(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function JN(n,e,t){return{h:n.h,s:n.s,l:n.l+(e===Xr.darken?-1:mN)*t}}function eL(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??K6)*i)}function WE(n,e,t=!1){if(!e)return;const i=n;if(!i)return;const s=i.style;if(!s)return;const o=new Set;for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&o.add(s[l]);for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&o.add(e[l]);for(const l of o){const u=e.getPropertyValue(l);u?s.setProperty(l,u,t?"important":""):s.removeProperty(l)}}class tL{constructor(e,t){this.container=e,this._applyPostDrawUpdaters=o=>{var l;for(const u of this._postDrawUpdaters)(l=u.afterDraw)==null||l.call(u,o)},this._applyPreDrawUpdaters=(o,l,u,h,d,g)=>{var _;for(const v of this._preDrawUpdaters){if(v.getColorStyles){const{fill:b,stroke:S}=v.getColorStyles(l,o,u,h);b&&(d.fill=b),S&&(d.stroke=S)}if(v.getTransformValues){const b=v.getTransformValues(l);for(const S in b)eL(g,b,S)}(_=v.beforeDraw)==null||_.call(v,l)}},this._applyResizePlugins=()=>{var o;for(const l of this._resizePlugins)(o=l.resize)==null||o.call(l)},this._getPluginParticleColors=o=>{let l,u;for(const h of this._colorPlugins)if(!l&&h.particleFillColor&&(l=Rs(this._engine,h.particleFillColor(o))),!u&&h.particleStrokeColor&&(u=Rs(this._engine,h.particleStrokeColor(o))),l&&u)break;return[l,u]},this._initCover=async()=>{const o=this.container.actualOptions,l=o.backgroundMask.cover,u=l.color;if(u){const h=bn(this._engine,u);if(h){const d={...h,a:l.opacity};this._coverColorStyle=Un(d,d.a)}}else await new Promise((h,d)=>{if(!l.image)return;const g=document.createElement("img");g.addEventListener("load",()=>{this._coverImage={image:g,opacity:l.opacity},h()}),g.addEventListener("error",_=>{d(_.error)}),g.src=l.image})},this._initStyle=()=>{const o=this.element,l=this.container.actualOptions;if(o){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const u in l.style){if(!u||!l.style||!Object.prototype.hasOwnProperty.call(l.style,u))continue;const h=l.style[u];h&&o.style.setProperty(u,h,"important")}}},this._initTrail=async()=>{const o=this.container.actualOptions,l=o.particles.move.trail,u=l.fill;if(!l.enable)return;const h=MR/l.length;if(u.color){const d=bn(this._engine,u.color);if(!d)return;this._trailFill={color:{...d},opacity:h}}else await new Promise((d,g)=>{if(!u.image)return;const _=document.createElement("img");_.addEventListener("load",()=>{this._trailFill={image:_,opacity:h},d()}),_.addEventListener("error",v=>{g(v.error)}),_.src=u.image})},this._paintBase=o=>{this.draw(l=>qN(l,this.size,o))},this._paintImage=(o,l)=>{this.draw(u=>$N(u,this.size,o,l))},this._repairStyle=()=>{const o=this.element;o&&(this._safeMutationObserver(l=>l.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(l=>{!o||!(o instanceof Node)||l.observe(o,{attributes:!0})}))},this._resetOriginalStyle=()=>{const o=this.element,l=this._originalStyle;!o||!l||WE(o,l,!0)},this._safeMutationObserver=o=>{this._mutationObserver&&o(this._mutationObserver)},this._setFullScreenStyle=()=>{const o=this.element;o&&WE(o,BN(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=t,this._standardSize={height:0,width:0};const i=e.retina.pixelRatio,s=this._standardSize;this.size={height:s.height*i,width:s.width*i},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>X6&&i?i.color?this._paintBase(Un(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(s=>{jy(s,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e==null||e.remove(),this.element=void 0}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawAsync(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=Y6)return;const s=e.getFillColor(),o=e.getStrokeColor()??s;let[l,u]=this._getPluginParticleColors(e);l||(l=s),u||(u=o),!(!l&&!u)&&this.draw(h=>{var H;const d=this.container,g=d.actualOptions,_=e.options.zIndex,v=W6-e.zIndexFactor,b=v**_.opacityRate,S=e.bubble.opacity??((H=e.opacity)==null?void 0:H.value)??o0,A=e.strokeOpacity??S,x=S*b,O=A*b,U={},L={fill:l?mo(l,x):void 0};L.stroke=u?mo(u,O):L.fill,this._applyPreDrawUpdaters(h,e,i,x,L,U),QN({container:d,context:h,particle:e,delta:t,colorStyles:L,backgroundMask:g.backgroundMask.enable,composite:g.backgroundMask.composite,radius:i*v**_.sizeRate,opacity:x,shadow:e.options.shadow,transform:U}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(s=>ZN(s,e,t,i))}drawPlugin(e,t){this.draw(i=>WN(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=MN(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){mr().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const s=i.style;if(s){if(t.color){const o=bn(this._engine,t.color);s.backgroundColor=o?Un(o,t.opacity):""}else s.backgroundColor="";s.backgroundImage=t.image||"",s.backgroundPosition=t.position||"",s.backgroundRepeat=t.repeat||"",s.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&pa in e.dataset?e.dataset[pa]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=UN(this.element.style);const t=this._standardSize;t.height=e.offsetHeight,t.width=e.offsetWidth;const i=this.container.retina.pixelRatio,s=this.size;e.height=s.height=t.height*i,e.width=s.width=t.width*i,this._context=this.element.getContext("2d"),this._safeMutationObserver(o=>o.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(o=>{!this.element||!(this.element instanceof Node)||o.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(jy(t,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.canvas._standardSize,i={width:this.element.offsetWidth,height:this.element.offsetHeight},s=e.retina.pixelRatio,o={width:i.width*s,height:i.height*s};if(i.height===t.height&&i.width===t.width&&o.height===this.element.height&&o.width===this.element.width)return!1;const l={...t};t.height=i.height,t.width=i.width;const u=this.size;return this.element.width=u.width=o.width,this.element.height=u.height=o.height,this.container.started&&e.particles.setResizeFactor({width:t.width/l.width,height:t.height/l.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>jy(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}var Fl;(function(n){n.canvas="canvas",n.parent="parent",n.window="window"})(Fl||(Fl={}));function Ai(n,e,t,i,s){if(i){let o={passive:!0};GR(s)?o.capture=s:s!==void 0&&(o=s),n.addEventListener(e,t,o)}else{const o=s;n.removeEventListener(e,t,o)}}class nL{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,s=i.actualOptions;if(this._canPush){const o=i.interactivity.mouse,l=o.position;if(!l)return;o.clickPosition={...l},o.clickTime=new Date().getTime();const u=s.interactivity.events.onClick;vt(u.mode,h=>this.container.handleClickMode(h))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),pN)},this._handleThemeChange=t=>{const i=t,s=this.container,o=s.options,l=o.defaultThemes,u=i.matches?l.dark:l.light,h=o.themes.find(d=>d.name===u);h!=null&&h.default.auto&&s.loadTheme(u)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document!=null&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.animationStatus?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const t=async()=>{const i=this.container.canvas;await(i==null?void 0:i.windowResize())};this._resizeTimeout=setTimeout(()=>void t(),this.container.actualOptions.interactivity.events.resize.delay*gt)},this._manageInteractivityListeners=(t,i)=>{const s=this._handlers,o=this.container,l=o.actualOptions,u=o.interactivity.element;if(!u)return;const h=u,d=o.canvas.element;d&&(d.style.pointerEvents=h===d?"initial":"none"),(l.interactivity.events.onHover.enable||l.interactivity.events.onClick.enable)&&(Ai(u,Ca,s.mouseMove,i),Ai(u,hh,s.touchStart,i),Ai(u,U6,s.touchMove,i),l.interactivity.events.onClick.enable?(Ai(u,kE,s.touchEndClick,i),Ai(u,L6,s.mouseUp,i),Ai(u,uh,s.mouseDown,i)):Ai(u,kE,s.touchEnd,i),Ai(u,t,s.mouseLeave,i),Ai(u,G6,s.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,s=this.container,o=s.actualOptions,l=o.interactivity.detectsOn,u=s.canvas.element;let h=G_;l===Fl.window?(s.interactivity.element=window,h=z6):l===Fl.parent&&u?s.interactivity.element=u.parentElement??u.parentNode:s.interactivity.element=u,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(h,t),document&&Ai(document,j6,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,s=a0("(prefers-color-scheme: dark)");if(s){if(s.addEventListener!==void 0){Ai(s,"change",i.themeChange,t);return}s.addListener!==void 0&&(t?s.addListener(i.oldThemeChange):s.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,s=this.container;if(!s.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Ai(window,B6,i.resize,t);return}const l=s.canvas.element;this._resizeObserver&&!t?(l&&this._resizeObserver.unobserve(l),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&l&&(this._resizeObserver=new ResizeObserver(u=>{u.find(d=>d.target===l)&&this._handleWindowResize()}),this._resizeObserver.observe(l))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,s=i.actualOptions,{mouse:o}=i.interactivity;o.inside=!0;let l=!1;const u=o.position;if(!(!u||!s.interactivity.events.onClick.enable)){for(const h of i.plugins.values())if(h.clickPositionValid&&(l=h.clickPositionValid(u),l))break;l||this._doMouseTouchClick(t),o.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=G_,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,s=i.actualOptions,o=i.interactivity,l=i.canvas.element;if(!(o!=null&&o.element))return;o.mouse.inside=!0;let u;if(t.type.startsWith("pointer")){this._canPush=!0;const d=t;if(o.element===window){if(l){const g=l.getBoundingClientRect();u={x:d.clientX-g.left,y:d.clientY-g.top}}}else if(s.interactivity.detectsOn===Fl.parent){const g=d.target,_=d.currentTarget;if(g&&_&&l){const v=g.getBoundingClientRect(),b=_.getBoundingClientRect(),S=l.getBoundingClientRect();u={x:d.offsetX+cn*v.left-(b.left+S.left),y:d.offsetY+cn*v.top-(b.top+S.top)}}else u={x:d.offsetX??d.clientX,y:d.offsetY??d.clientY}}else d.target===l&&(u={x:d.offsetX??d.clientX,y:d.offsetY??d.clientY})}else if(this._canPush=t.type!=="touchmove",l){const d=t,g=d.touches[d.touches.length-LR],_=l.getBoundingClientRect();u={x:g.clientX-(_.left??Ep),y:g.clientY-(_.top??Ep)}}const h=i.retina.pixelRatio;u&&(u.x*=h,u.y*=h),o.mouse.position=u,o.status=Ca},this._touchEnd=t=>{const i=t,s=Array.from(i.changedTouches);for(const o of s)this._touches.delete(o.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,s=Array.from(i.changedTouches);for(const o of s)this._touches.delete(o.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,s=Array.from(i.changedTouches);for(const o of s)this._touches.set(o.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var zn;(function(n){n.configAdded="configAdded",n.containerInit="containerInit",n.particlesSetup="particlesSetup",n.containerStarted="containerStarted",n.containerStopped="containerStopped",n.containerDestroyed="containerDestroyed",n.containerPaused="containerPaused",n.containerPlay="containerPlay",n.containerBuilt="containerBuilt",n.particleAdded="particleAdded",n.particleDestroyed="particleDestroyed",n.particleRemoved="particleRemoved"})(zn||(zn={}));class Je{constructor(){this.value=""}static create(e,t){const i=new Je;return i.load(e),t!==void 0&&(Gn(t)||tn(t)?i.load({value:t}):i.load(t)),i}load(e){X(e)||X(e.value)||(this.value=e.value)}}class iL{constructor(){this.color=new Je,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){X(e)||(e.color!==void 0&&(this.color=Je.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class sL{constructor(){this.opacity=1}load(e){X(e)||(e.color!==void 0&&(this.color=Je.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class rL{constructor(){this.composite="destination-out",this.cover=new sL,this.enable=!1}load(e){if(!X(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=Gn(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0||t.image!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class oL{constructor(){this.enable=!0,this.zIndex=0}load(e){X(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class aL{constructor(){this.enable=!1,this.mode=[]}load(e){X(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var ac;(function(n){n.circle="circle",n.rectangle="rectangle"})(ac||(ac={}));class ZE{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=ac.circle}load(e){X(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class lL{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){X(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class cL{constructor(){this.enable=!1,this.mode=[],this.parallax=new lL}load(e){X(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class uL{constructor(){this.delay=.5,this.enable=!0}load(e){X(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class hL{constructor(){this.onClick=new aL,this.onDiv=new ZE,this.onHover=new cL,this.resize=new uL}load(e){if(X(e))return;this.onClick.load(e.onClick);const t=e.onDiv;t!==void 0&&(this.onDiv=vt(t,i=>{const s=new ZE;return s.load(i),s})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class fL{constructor(e,t){this._engine=e,this._container=t}load(e){if(X(e)||!this._container)return;const t=this._engine.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class tC{constructor(e,t){this.detectsOn=Fl.window,this.events=new hL,this.modes=new fL(e,t)}load(e){if(X(e))return;const t=e.detectsOn;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class dL{load(e){X(e)||(e.position&&(this.position={x:e.position.x??$E,y:e.position.y??$E,mode:e.position.mode??Qi.percent}),e.options&&(this.options=ut({},e.options)))}}var ya;(function(n){n.screen="screen",n.canvas="canvas"})(ya||(ya={}));class pL{constructor(){this.maxWidth=1/0,this.options={},this.mode=ya.canvas}load(e){X(e)||(X(e.maxWidth)||(this.maxWidth=e.maxWidth),X(e.mode)||(e.mode===ya.screen?this.mode=ya.screen:this.mode=ya.canvas),X(e.options)||(this.options=ut({},e.options)))}}var Wr;(function(n){n.any="any",n.dark="dark",n.light="light"})(Wr||(Wr={}));class mL{constructor(){this.auto=!1,this.mode=Wr.any,this.value=!1}load(e){X(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class gL{constructor(){this.name="",this.default=new mL}load(e){X(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=ut({},e.options)))}}class lm{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){X(e)||(e.count!==void 0&&(this.count=ge(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ge(e.speed)),e.decay!==void 0&&(this.decay=ge(e.decay)),e.delay!==void 0&&(this.delay=ge(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class p0 extends lm{constructor(){super(),this.mode=ga.auto,this.startValue=Ss.random}load(e){super.load(e),!X(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class Hy extends lm{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!X(e)&&e.offset!==void 0&&(this.offset=ge(e.offset))}}class yL{constructor(){this.h=new Hy,this.s=new Hy,this.l=new Hy}load(e){X(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class go extends Je{constructor(){super(),this.animation=new yL}static create(e,t){const i=new go;return i.load(e),t!==void 0&&(Gn(t)||tn(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),X(e))return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}var ql;(function(n){n.absorb="absorb",n.bounce="bounce",n.destroy="destroy"})(ql||(ql={}));class _L{constructor(){this.speed=2}load(e){X(e)||e.speed!==void 0&&(this.speed=e.speed)}}class vL{constructor(){this.enable=!0,this.retries=0}load(e){X(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class ui{constructor(){this.value=0}load(e){X(e)||X(e.value)||(this.value=ge(e.value))}}class wL extends ui{constructor(){super(),this.animation=new lm}load(e){if(super.load(e),X(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class nC extends wL{constructor(){super(),this.animation=new p0}load(e){super.load(e)}}class JE extends ui{constructor(){super(),this.value=1}}class iC{constructor(){this.horizontal=new JE,this.vertical=new JE}load(e){X(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class bL{constructor(){this.absorb=new _L,this.bounce=new iC,this.enable=!1,this.maxSpeed=50,this.mode=ql.bounce,this.overlap=new vL}load(e){X(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=ge(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class SL{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(X(e))return;const t=e.options;if(t!==void 0)for(const i in t){const s=t[i];s&&(this.options[i]=ut(this.options[i]??{},s))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class EL{constructor(){this.offset=0,this.value=90}load(e){X(e)||(e.offset!==void 0&&(this.offset=ge(e.offset)),e.value!==void 0&&(this.value=ge(e.value)))}}class TL{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!X(e)&&(e.distance!==void 0&&(this.distance=ge(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const t=e.rotate.x;t!==void 0&&(this.rotate.x=t);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class xL{constructor(){this.x=50,this.y=50,this.mode=Qi.percent,this.radius=0}load(e){X(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class AL{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){X(e)||(e.acceleration!==void 0&&(this.acceleration=ge(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=ge(e.maxSpeed)))}}class RL{constructor(){this.clamp=!0,this.delay=new ui,this.enable=!1,this.options={}}load(e){X(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=ut(this.options,e.options)))}}class CL{load(e){X(e)||(e.color!==void 0&&(this.color=Je.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class PL{constructor(){this.enable=!1,this.length=10,this.fill=new CL}load(e){X(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var $t;(function(n){n.bounce="bounce",n.none="none",n.out="out",n.destroy="destroy",n.split="split"})($t||($t={}));class IL{constructor(){this.default=$t.out}load(e){X(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class OL{constructor(){this.acceleration=0,this.enable=!1}load(e){X(e)||(e.acceleration!==void 0&&(this.acceleration=ge(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=ut({},e.position)))}}class kL{constructor(){this.angle=new EL,this.attract=new TL,this.center=new xL,this.decay=0,this.distance={},this.direction=yn.none,this.drift=0,this.enable=!1,this.gravity=new AL,this.path=new RL,this.outModes=new IL,this.random=!1,this.size=!1,this.speed=2,this.spin=new OL,this.straight=!1,this.trail=new PL,this.vibrate=!1,this.warp=!1}load(e){if(X(e))return;this.angle.load(En(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=ge(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=En(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=ge(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes;t!==void 0&&(to(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=ge(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class DL extends p0{constructor(){super(),this.destroy=xs.none,this.speed=2}load(e){super.load(e),!X(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class ML extends nC{constructor(){super(),this.animation=new DL,this.value=1}load(e){if(X(e))return;super.load(e);const t=e.animation;t!==void 0&&this.animation.load(t)}}class VL{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(X(e))return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width;t!==void 0&&(this.width=t);const i=e.height;i!==void 0&&(this.height=i)}}var dh;(function(n){n.delete="delete",n.wait="wait"})(dh||(dh={}));class NL{constructor(){this.mode=dh.delete,this.value=0}load(e){X(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class LL{constructor(){this.density=new VL,this.limit=new NL,this.value=0}load(e){X(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class zL{constructor(){this.blur=0,this.color=new Je,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){X(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Je.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class UL{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(X(e))return;const t=e.options;if(t!==void 0)for(const i in t){const s=t[i];s&&(this.options[i]=ut(this.options[i]??{},s))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class GL extends p0{constructor(){super(),this.destroy=xs.none,this.speed=5}load(e){super.load(e),!X(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class BL extends nC{constructor(){super(),this.animation=new GL,this.value=3}load(e){if(super.load(e),X(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class eT{constructor(){this.width=0}load(e){X(e)||(e.color!==void 0&&(this.color=go.create(this.color,e.color)),e.width!==void 0&&(this.width=ge(e.width)),e.opacity!==void 0&&(this.opacity=ge(e.opacity)))}}class jL extends ui{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!X(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class HL{constructor(e,t){this._engine=e,this._container=t,this.bounce=new iC,this.collisions=new bL,this.color=new go,this.color.value="#fff",this.effect=new SL,this.groups={},this.move=new kL,this.number=new LL,this.opacity=new ML,this.reduceDuplicates=!1,this.shadow=new zL,this.shape=new UL,this.size=new BL,this.stroke=new eT,this.zIndex=new jL}load(e){if(X(e))return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const s=e.groups[i];s!==void 0&&(this.groups[i]=ut(this.groups[i]??{},s))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(go.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=ut({},e.interactivity));const t=e.stroke;if(t&&(this.stroke=vt(t,i=>{const s=new eT;return s.load(i),s})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const o of i)o.loadOptions&&o.loadOptions(this,e);const s=this._engine.interactors.get(this._container);if(s)for(const o of s)o.loadParticlesOptions&&o.loadParticlesOptions(this,e)}}}function sC(n,...e){for(const t of e)n.load(t)}function m0(n,e,...t){const i=new HL(n,e);return sC(i,...t),i}class FL{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(s=>s.default.value&&s.default.mode===i)??this.themes.find(s=>s.default.value&&s.default.mode===Wr.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new iL,this.backgroundMask=new rL,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new oL,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new tC(e,t),this.manualParticles=[],this.particles=m0(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){var l,u;if(X(e))return;e.preset!==void 0&&vt(e.preset,h=>this._importPreset(h)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=ge(e.delay));const t=e.detectRetina;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=ge(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const s=e.fullScreen;GR(s)?this.fullScreen.enable=s:this.fullScreen.load(s),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(h=>{const d=new dL;return d.load(h),d})),this.particles.load(e.particles),this.style=ut(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const o=this._engine.interactors.get(this._container);if(o)for(const h of o)h.loadOptions&&h.loadOptions(this,e);if(e.responsive!==void 0)for(const h of e.responsive){const d=new pL;d.load(h),this.responsive.push(d)}if(this.responsive.sort((h,d)=>h.maxWidth-d.maxWidth),e.themes!==void 0)for(const h of e.themes){const d=this.themes.find(g=>g.name===h.name);if(d)d.load(h);else{const g=new gL;g.load(h),this.themes.push(g)}}this.defaultThemes.dark=(l=this._findDefaultTheme(Wr.dark))==null?void 0:l.name,this.defaultThemes.light=(u=this._findDefaultTheme(Wr.light))==null?void 0:u.name}setResponsive(e,t,i){this.load(i);const s=this.responsive.find(o=>o.mode===ya.screen&&screen?o.maxWidth>screen.availWidth:o.maxWidth*t>e);return this.load(s==null?void 0:s.options),s==null?void 0:s.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=a0("(prefers-color-scheme: dark)"),i=t==null?void 0:t.matches,s=this._findDefaultTheme(i?Wr.dark:Wr.light);s&&this.load(s.options)}}}var lc;(function(n){n.external="external",n.particles="particles"})(lc||(lc={}));class qL{constructor(e,t){this.container=t,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&t.interact(e)}handleClickMode(e){var t;for(const i of this._externalInteractors)(t=i.handleClickMode)==null||t.call(i,e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case lc.external:this._externalInteractors.push(e);break;case lc.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,t)}reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}var Fi;(function(n){n.normal="normal",n.inside="inside",n.outside="outside"})(Fi||(Fi={}));function $L(n,e,t,i){const s=e.options[n];if(s)return ut({close:e.close,fill:e.fill},qt(s,t,i))}function QL(n,e,t,i){const s=e.options[n];if(s)return ut({close:e.close,fill:e.fill},qt(s,t,i))}function tT(n){if(!st(n.outMode,n.checkModes))return;const e=n.radius*cn;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)}class KL{constructor(e,t){this.container=t,this._calcPosition=(i,s,o,l=ME)=>{for(const S of i.plugins.values()){const A=S.particlePosition!==void 0?S.particlePosition(s,this):void 0;if(A)return ai.create(A.x,A.y,o)}const u=i.canvas.size,h=CN({size:u,position:s}),d=ai.create(h.x,h.y,o),g=this.getRadius(),_=this.options.move.outModes,v=S=>{tT({outMode:S,checkModes:[$t.bounce],coord:d.x,maxCoord:i.canvas.size.width,setCb:A=>d.x+=A,radius:g})},b=S=>{tT({outMode:S,checkModes:[$t.bounce],coord:d.y,maxCoord:i.canvas.size.height,setCb:A=>d.y+=A,radius:g})};return v(_.left??_.default),v(_.right??_.default),b(_.top??_.default),b(_.bottom??_.default),this._checkOverlap(d,l)?this._calcPosition(i,void 0,o,l+oN):d},this._calculateVelocity=()=>{const i=RN(this.direction),s=i.copy(),o=this.options.move;if(o.direction===yn.inside||o.direction===yn.outside)return s;const l=Hi(ne(o.angle.value)),u=Hi(ne(o.angle.offset)),h={left:u-l*Ve,right:u+l*Ve};return o.straight||(s.angle+=Nt(ge(h.left,h.right))),o.random&&typeof o.speed=="number"&&(s.length*=me()),s},this._checkOverlap=(i,s=ME)=>{const o=this.options.collisions,l=this.getRadius();if(!o.enable)return!1;const u=o.overlap;if(u.enable)return!1;const h=u.retries;if(h>=aN&&s>h)throw new Error(`${un} particle is overlapping and can't be placed`);return!!this.container.particles.find(d=>wn(i,d.position)<l+d.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;const s=this.roll.horizontal&&this.roll.vertical?cn*jE:jE,o=this.roll.horizontal?Math.PI*Ve:fh;return Math.floor(((this.roll.angle??fh)+o)/(Math.PI/s))%cn?this.backColor?this.backColor:this.roll.alter?JN(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{const s=this.container,o=ne(this.options.zIndex.value);this.position=this._calcPosition(s,i,Kn(o,lN,s.zLayers)),this.initialPosition=this.position.copy();const l=s.canvas.size;switch(this.moveCenter={...u0(this.options.move.center,l),radius:this.options.move.center.radius??cN,mode:this.options.move.center.mode??Qi.percent},this.direction=AN(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case yn.inside:this.outType=Fi.inside;break;case yn.outside:this.outType=Fi.outside;break}this.offset=Ue.origin},this._engine=e}destroy(e){var o,l,u;if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator,s=t.shapeDrawers.get(this.shape);(o=s==null?void 0:s.particleDestroy)==null||o.call(s,this);for(const h of t.plugins.values())(l=h.particleDestroyed)==null||l.call(h,this,e);for(const h of t.particles.updaters)(u=h.particleDestroyed)==null||u.call(h,this,e);i==null||i.reset(this),this._engine.dispatchEvent(zn.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const t=this.container,i=t.canvas;for(const s of t.plugins.values())i.drawParticlePlugin(s,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??XE(this.color))}getMass(){return this.getRadius()**nr*Math.PI*Ve}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??XE(this.strokeColor))}init(e,t,i,s){var D,P,I,V,G,j;const o=this.container,l=this._engine;this.id=e,this.group=s,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Fi.normal,this.ignoresResizeRatio=!0;const u=o.retina.pixelRatio,h=o.actualOptions,d=m0(this._engine,o,h.particles),{reduceDuplicates:g}=d,_=d.effect.type,v=d.shape.type;this.effect=qt(_,this.id,g),this.shape=qt(v,this.id,g);const b=d.effect,S=d.shape;if(i){if((D=i.effect)!=null&&D.type){const k=i.effect.type,Ge=qt(k,this.id,g);Ge&&(this.effect=Ge,b.load(i.effect))}if((P=i.shape)!=null&&P.type){const k=i.shape.type,Ge=qt(k,this.id,g);Ge&&(this.shape=Ge,S.load(i.shape))}}if(this.effect===ic){const k=[...this.container.effectDrawers.keys()];this.effect=k[Math.floor(Math.random()*k.length)]}if(this.shape===ic){const k=[...this.container.shapeDrawers.keys()];this.shape=k[Math.floor(Math.random()*k.length)]}this.effectData=$L(this.effect,b,this.id,g),this.shapeData=QL(this.shape,S,this.id,g),d.load(i);const A=this.effectData;A&&d.load(A.particles);const x=this.shapeData;x&&d.load(x.particles);const O=new tC(l,o);O.load(o.actualOptions.interactivity),O.load(d.interactivity),this.interactivity=O,this.effectFill=(A==null?void 0:A.fill)??d.effect.fill,this.effectClose=(A==null?void 0:A.close)??d.effect.close,this.shapeFill=(x==null?void 0:x.fill)??d.shape.fill,this.shapeClose=(x==null?void 0:x.close)??d.shape.close,this.options=d;const U=this.options.move.path;this.pathDelay=ne(U.delay.value)*gt,U.generator&&(this.pathGenerator=this._engine.getPathGenerator(U.generator),this.pathGenerator&&o.addPath(U.generator,this.pathGenerator)&&this.pathGenerator.init(o)),o.retina.initParticle(this),this.size=KR(this.options.size,u),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=NR-ne(this.options.move.decay);const L=o.particles;L.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/o.zLayers,this.sides=24;let H=o.effectDrawers.get(this.effect);H||(H=this._engine.getEffectDrawer(this.effect),H&&o.effectDrawers.set(this.effect,H)),H!=null&&H.loadEffect&&H.loadEffect(this);let W=o.shapeDrawers.get(this.shape);W||(W=this._engine.getShapeDrawer(this.shape),W&&o.shapeDrawers.set(this.shape,W)),W!=null&&W.loadShape&&W.loadShape(this);const le=W==null?void 0:W.getSidesCount;le&&(this.sides=le(this)),this.spawning=!1,this.shadowColor=bn(this._engine,this.options.shadow.color);for(const k of L.updaters)k.init(this);for(const k of L.movers)(I=k.init)==null||I.call(k,this);(V=H==null?void 0:H.particleInit)==null||V.call(H,o,this),(G=W==null?void 0:W.particleInit)==null||G.call(W,o,this);for(const k of o.plugins.values())(j=k.particleCreated)==null||j.call(k,this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){var e;for(const t of this.container.particles.updaters)(e=t.reset)==null||e.call(t,this)}}class YL{constructor(e,t){this.position=e,this.particle=t}}var $l;(function(n){n.circle="circle",n.rectangle="rectangle"})($l||($l={}));class rC{constructor(e,t,i){this.position={x:e,y:t},this.type=i}}class On extends rC{constructor(e,t,i){super(e,t,$l.circle),this.radius=i}contains(e){return wn(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,s={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},o=this.radius;if(e instanceof On||e.type===$l.circle){const l=e,u=o+l.radius,h=Math.sqrt(s.x**nr+s.y**nr);return u>h}else if(e instanceof Ki||e.type===$l.rectangle){const l=e,{width:u,height:h}=l.size;return Math.pow(s.x-u,nr)+Math.pow(s.y-h,nr)<=o**nr||s.x<=o+u&&s.y<=o+h||s.x<=u||s.y<=h}return!1}}class Ki extends rC{constructor(e,t,i,s){super(e,t,$l.rectangle),this.size={height:s,width:i}}contains(e){const t=this.size.width,i=this.size.height,s=this.position;return e.x>=s.x&&e.x<=s.x+t&&e.y>=s.y&&e.y<=s.y+i}intersects(e){if(e instanceof On)return e.intersects(this);const t=this.size.width,i=this.size.height,s=this.position,o=e.position,l=e instanceof Ki?e.size:{width:0,height:0},u=l.width,h=l.height;return o.x<s.x+t&&o.x+u>s.x&&o.y<s.y+i&&o.y+h>s.y}}class xp{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:s}=this.rectangle.position,{width:o,height:l}=this.rectangle.size,{capacity:u}=this;for(let h=0;h<q6;h++){const d=h%cn;this._subs.push(new xp(new Ki(i+o*Ve*d,s+l*Ve*(Math.round(h*Ve)-d),o*Ve,l*Ve),u))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t){const i=[];if(!e.intersects(this.rectangle))return[];for(const s of this._points)!e.contains(s.position)&&wn(e.position,s.position)>s.particle.getRadius()&&(!t||t(s.particle))||i.push(s.particle);if(this._divided)for(const s of this._subs)i.push(...s.query(e,t));return i}queryCircle(e,t,i){return this.query(new On(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Ki(e.x,e.y,t.width,t.height),i)}}const nT=n=>{const{height:e,width:t}=n;return new Ki(HE*t,HE*e,FE*t,FE*e)};let XL=class{constructor(e,t){this._addToPool=(...s)=>{this._pool.push(...s)},this._applyDensity=(s,o,l)=>{var b;const u=s.number;if(!((b=s.number.density)!=null&&b.enable)){l===void 0?this._limit=u.limit.value:u.limit&&this._groupLimits.set(l,u.limit.value);return}const h=this._initDensityFactor(u.density),d=u.value,g=u.limit.value>qE?u.limit.value:d,_=Math.min(d,g)*h+o,v=Math.min(this.count,this.filter(S=>S.group===l).length);l===void 0?this._limit=u.limit.value*h:this._groupLimits.set(l,u.limit.value*h),v<_?this.push(Math.abs(_-v),void 0,s,l):v>_&&this.removeQuantity(v-_,l)},this._initDensityFactor=s=>{const o=this._container;if(!o.canvas.element||!s.enable)return dN;const l=o.canvas.element,u=o.retina.pixelRatio;return l.width*l.height/(s.height*s.width*u**nr)},this._pushParticle=(s,o,l,u)=>{try{let h=this._pool.pop();h||(h=new KL(this._engine,this._container)),h.init(this._nextId,s,o,l);let d=!0;return u&&(d=u(h)),d?(this._array.push(h),this._zArray.push(h),this._nextId++,this._engine.dispatchEvent(zn.particleAdded,{container:this._container,data:{particle:h}}),h):void 0}catch(h){mr().warning(`${un} adding particle: ${h}`)}},this._removeParticle=(s,o,l)=>{const u=this._array[s];if(!u||u.group!==o)return!1;const h=this._zArray.indexOf(u);return this._array.splice(s,Tp),this._zArray.splice(h,Tp),u.destroy(l),this._engine.dispatchEvent(zn.particleRemoved,{container:this._container,data:{particle:u}}),this._addToPool(u),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new qL(e,t),this._pluginsInitialized=!1;const i=t.canvas.size;this.quadTree=new xp(nT(i),VE),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?u0(i.position,e.canvas.size):void 0,i.options))}addParticle(e,t,i,s){const o=this._container.actualOptions.particles.number.limit.mode,l=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,u=this.count;if(l>qE)switch(o){case dh.delete:{const h=u+uN-l;h>hN&&this.removeQuantity(h);break}case dh.wait:if(u>=l)return;break}return this._pushParticle(e,t,i,s)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const t=this._container,i=t.canvas;i.clear(),this.update(e);for(const s of t.plugins.values())i.drawPlugin(s,e);for(const s of this._zArray)s.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){var s,o;const e=this._container,t=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const l of e.plugins.values())if(i=((s=l.particlesInitialization)==null?void 0:s.call(l))??i,i)break;if(this.addManualParticles(),!i){const l=t.particles,u=l.groups;for(const h in u){const d=u[h];for(let g=this.count,_=0;_<((o=d.number)==null?void 0:o.value)&&g<l.number.value;g++,_++)this.addParticle(void 0,d,h)}for(let h=this.count;h<l.number.value;h++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const t of e.pathGenerators.values())t.init(e)}push(e,t,i,s){for(let o=0;o<e;o++)this.addParticle(t==null?void 0:t.position,i,s)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=F6,i,s){if(e<q_||e>this.count)return;let o=0;for(let l=e;o<t&&l<this.count;l++)this._removeParticle(l,i,s)&&(l--,o++)}removeQuantity(e,t){this.removeAt(q_,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],fN,i);this._applyDensity(e.particles,e.manualParticles.length)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){var o,l;const t=this._container,i=new Set;this.quadTree=new xp(nT(t.canvas.size),VE);for(const u of t.pathGenerators.values())u.update();for(const u of t.plugins.values())(o=u.update)==null||o.call(u,e);const s=this._resizeFactor;for(const u of this._array){s&&!u.ignoresResizeRatio&&(u.position.x*=s.width,u.position.y*=s.height,u.initialPosition.x*=s.width,u.initialPosition.y*=s.height),u.ignoresResizeRatio=!1,this._interactionManager.reset(u);for(const h of this._container.plugins.values()){if(u.destroyed)break;(l=h.particleUpdate)==null||l.call(h,u,e)}for(const h of this.movers)h.isEnabled(u)&&h.move(u,e);if(u.destroyed){i.add(u);continue}this.quadTree.insert(new YL(u.getPosition(),u))}if(i.size){const u=h=>!i.has(h);this._array=this.filter(u),this._zArray=this._zArray.filter(u);for(const h of i)this._engine.dispatchEvent(zn.particleRemoved,{container:this._container,data:{particle:h}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(const u of this._array){for(const h of this.updaters)h.update(u,e);!u.destroyed&&!u.spawning&&this._interactionManager.particlesInteract(u,e)}if(delete this._resizeFactor,this._needsSort){const u=this._zArray;u.sort((h,d)=>d.position.z-h.position.z||h.id-d.id),this._lastZIndex=u[u.length-LR].position.z,this._needsSort=!1}}};class WL{constructor(e){this.container=e,this.pixelRatio=NE,this.reduceFactor=LE}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Pa()?NE:window.devicePixelRatio,this.reduceFactor=LE;const i=this.pixelRatio,s=e.canvas;if(s.element){const u=s.element;s.size.width=u.offsetWidth*i,s.size.height=u.offsetHeight*i}const o=t.particles,l=o.move;this.maxSpeed=ne(l.gravity.maxSpeed)*i,this.sizeAnimationSpeed=ne(o.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,s=t.move,o=s.distance,l=e.retina;l.moveDrift=ne(s.drift)*i,l.moveSpeed=ne(s.speed)*i,l.sizeAnimationSpeed=ne(t.size.animation.speed)*i;const u=l.maxDistance;u.horizontal=o.horizontal!==void 0?o.horizontal*i:void 0,u.vertical=o.vertical!==void 0?o.vertical*i:void 0,l.maxSpeed=ne(s.gravity.maxSpeed)*i}}function Ct(n){return n&&!n.destroyed}function ZL(n,e=Vy,t=!1){return{value:n,factor:t?Vy/e:Vy*n/gt}}function Rl(n,e,...t){const i=new FL(n,e);return sC(i,...t),i}class JL{constructor(e,t,i){this._intersectionManager=s=>{if(!(!Ct(this)||!this.actualOptions.pauseOnOutsideViewport))for(const o of s)o.target===this.interactivity.element&&(o.isIntersecting?this.play():this.pause())},this._nextFrame=s=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&s<this._lastFrameTime+gt/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??(this._lastFrameTime=s);const o=ZL(s-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(o.value),this._lastFrameTime=s,o.value>gt){this.draw(!1);return}if(this.particles.draw(o),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(o){mr().error(`${un} in animation loop`,o)}},this._engine=e,this.id=Symbol(t),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new WL(this),this.canvas=new tL(this,this._engine),this.particles=new XL(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=Rl(this._engine,this),this.actualOptions=Rl(this._engine,this),this._eventListeners=new nL(this),this._intersectionObserver=DN(s=>this._intersectionManager(s)),this._engine.dispatchEvent(zn.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&Ct(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!Ct(this))return;const t=this.interactivity.element;if(!t)return;const i=(_,v,b)=>{if(!Ct(this))return;const S=this.retina.pixelRatio,A={x:v.x*S,y:v.y*S},x=this.particles.quadTree.queryCircle(A,b*S);e(_,x)},s=_=>{if(!Ct(this))return;const v=_,b={x:v.offsetX||v.clientX,y:v.offsetY||v.clientY};i(_,b,Z6)},o=()=>{Ct(this)&&(d=!0,g=!1)},l=()=>{Ct(this)&&(g=!0)},u=_=>{if(Ct(this)){if(d&&!g){const v=_;let b=v.touches[v.touches.length-BE];if(!b&&(b=v.changedTouches[v.changedTouches.length-BE],!b))return;const S=this.canvas.element,A=S?S.getBoundingClientRect():void 0,x={x:b.clientX-(A?A.left:Ep),y:b.clientY-(A?A.top:Ep)};i(_,x,Math.max(b.radiusX,b.radiusY))}d=!1,g=!1}},h=()=>{Ct(this)&&(d=!1,g=!1)};let d=!1,g=!1;this._clickHandlers.set("click",s),this._clickHandlers.set("touchstart",o),this._clickHandlers.set("touchmove",l),this._clickHandlers.set("touchend",u),this._clickHandlers.set("touchcancel",h);for(const[_,v]of this._clickHandlers)t.addEventListener(_,v)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!Ct(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){var e;if(Ct(this)){for(const[t,i]of this._clickHandlers)(e=this.interactivity.element)==null||e.removeEventListener(t,i);this._clickHandlers.clear()}}destroy(e=!0){var t,i;if(Ct(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const s of this.effectDrawers.values())(t=s.destroy)==null||t.call(s,this);for(const s of this.shapeDrawers.values())(i=s.destroy)==null||i.call(s,this);for(const s of this.effectDrawers.keys())this.effectDrawers.delete(s);for(const s of this.shapeDrawers.keys())this.shapeDrawers.delete(s);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const s=this._engine.items,o=s.findIndex(l=>l===this);o>=J6&&s.splice(o,VR)}this._engine.dispatchEvent(zn.containerDestroyed,{container:this})}}draw(e){if(!Ct(this))return;let t=e;const i=s=>{t&&(this._lastFrameTime=void 0,t=!1),this._nextFrame(s)};this._drawAnimationFrame=TN(s=>i(s))}async export(e,t={}){for(const i of this.plugins.values()){if(!i.export)continue;const s=await i.export(e,t);if(s.supported)return s.blob}mr().error(`${un} - Export plugin with type ${e} not found`)}handleClickMode(e){var t;if(Ct(this)){this.particles.handleClickMode(e);for(const i of this.plugins.values())(t=i.handleClickMode)==null||t.call(i,e)}}async init(){var d,g,_,v;if(!Ct(this))return;const e=this._engine.getSupportedEffects();for(const b of e){const S=this._engine.getEffectDrawer(b);S&&this.effectDrawers.set(b,S)}const t=this._engine.getSupportedShapes();for(const b of t){const S=this._engine.getShapeDrawer(b);S&&this.shapeDrawers.set(b,S)}await this.particles.initPlugins(),this._options=Rl(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Rl(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[b,S]of i)this.plugins.set(b,S);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:s,duration:o,delay:l,fpsLimit:u,smooth:h}=this.actualOptions;this.zLayers=s,this._duration=ne(o)*gt,this._delay=ne(l)*gt,this._lifeTime=0,this.fpsLimit=u>tN?u:eN,this._smooth=h;for(const b of this.effectDrawers.values())await((d=b.init)==null?void 0:d.call(b,this));for(const b of this.shapeDrawers.values())await((g=b.init)==null?void 0:g.call(b,this));for(const b of this.plugins.values())await((_=b.init)==null?void 0:_.call(b));this._engine.dispatchEvent(zn.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const b of this.plugins.values())(v=b.particlesSetup)==null||v.call(b);this._engine.dispatchEvent(zn.particlesSetup,{container:this})}async loadTheme(e){Ct(this)&&(this._currentTheme=e,await this.refresh())}pause(){var e;if(Ct(this)&&(this._drawAnimationFrame!==void 0&&(xN(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const t of this.plugins.values())(e=t.pause)==null||e.call(t);this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(zn.containerPaused,{container:this})}}play(e){if(!Ct(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const i of this.plugins.values())i.play&&i.play();this._engine.dispatchEvent(zn.containerPlay,{container:this}),this.draw(t??!1)}async refresh(){if(Ct(this))return this.stop(),this.start()}async reset(e){if(Ct(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=Rl(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Rl(this._engine,this,this._options),this.refresh()}async start(){!Ct(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const t=async()=>{var i;this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const s of this.plugins.values())await((i=s.start)==null?void 0:i.call(s));this._engine.dispatchEvent(zn.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void t(),this._delay)}))}stop(){var e;if(!(!Ct(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const t of this.plugins.values())(e=t.stop)==null||e.call(t);for(const t of this.plugins.keys())this.plugins.delete(t);this._sourceOptions=this._options,this._engine.dispatchEvent(zn.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}class e8{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i==null||i.forEach(s=>s(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const s=i.length,o=i.indexOf(t);o<q_||(s===Tp?this._listeners.delete(e):i.splice(o,Tp))}}async function Fy(n,e,t,i=!1){let s=e.get(n);return(!s||i)&&(s=await Promise.all([...t.values()].map(o=>o(n))),e.set(n,s)),s}async function t8(n){const e=qt(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?await t.json():(mr().error(`${un} ${t.status} while retrieving config file`),n.fallback)}const n8=n=>{let e;if(n instanceof HTMLCanvasElement||n.tagName.toLowerCase()===Ny)e=n,e.dataset[pa]||(e.dataset[pa]=DE);else{const i=n.getElementsByTagName(Ny);i.length?(e=i[nN],e.dataset[pa]=DE):(e=document.createElement(Ny),e.dataset[pa]=DR,n.appendChild(e))}const t="100%";return e.style.width||(e.style.width=t),e.style.height||(e.style.height=t),e},i8=(n,e)=>{let t=e??document.getElementById(n);return t||(t=document.createElement("div"),t.id=n,t.dataset[pa]=DR,document.body.append(t),t)};class s8{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new e8,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get items(){return this._domArray}get version(){return"3.8.1"}async addColorManager(e,t=!0){this.colorManagers.set(e.key,e),await this.refresh(t)}addConfig(e){const t=e.key??e.name??"default";this._configs.set(t,e),this._eventDispatcher.dispatchEvent(zn.configAdded,{data:{name:t,config:e}})}async addEasing(e,t,i=!0){this.getEasing(e)||(this.easingFunctions.set(e,t),await this.refresh(i))}async addEffect(e,t,i=!0){vt(e,s=>{this.getEffectDrawer(s)||this.effectDrawers.set(s,t)}),await this.refresh(i)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this._initializers.interactors.set(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this._initializers.movers.set(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this._initializers.updaters.set(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(t)}async addPreset(e,t,i=!1,s=!0){(i||!this.getPreset(e))&&this.presets.set(e,t),await this.refresh(s)}async addShape(e,t=!0){for(const i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);await this.refresh(t)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,await i.getPlugin(e));return t}getEasing(e){return this.easingFunctions.get(e)??(t=>t)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,t=!1){return Fy(e,this.interactors,this._initializers.interactors,t)}async getMovers(e,t=!1){return Fy(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,t=!1){return Fy(e,this.updaters,this._initializers.updaters,t)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:t}=this,i=t[e];if(!i||i.destroyed){t.splice(e,VR);return}return i}async load(e){var v;const t=e.id??((v=e.element)==null?void 0:v.id)??`tsparticles${Math.floor(me()*iN)}`,{index:i,url:s}=e,o=s?await t8({fallback:e.options,url:s,index:i}):e.options,l=qt(o,i),{items:u}=this,h=u.findIndex(b=>b.id.description===t),d=new JL(this,t,l);if(h>=sN){const b=this.item(h),S=b?rN:fh;b&&!b.destroyed&&b.destroy(!1),u.splice(h,S,d)}else u.push(d);const g=i8(t,e.element),_=n8(g);return d.canvas.loadCanvas(_),await d.start(),d}loadOptions(e,t){this.plugins.forEach(i=>{var s;return(s=i.loadOptions)==null?void 0:s.call(i,e,t)})}loadParticlesOptions(e,t,...i){const s=this.updaters.get(e);s&&s.forEach(o=>{var l;return(l=o.loadOptions)==null?void 0:l.call(o,t,...i)})}async refresh(e=!0){e&&await Promise.all(this.items.map(t=>t.refresh()))}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}setOnClickHandler(e){const{items:t}=this;if(!t.length)throw new Error(`${un} can only set click handlers after calling tsParticles.load()`);t.forEach(i=>i.addClickHandler(e))}}function r8(){const n=new s8;return n.init(),n}class Yn{constructor(e){this.type=lc.external,this.container=e}}class bc{constructor(e){this.type=lc.particles,this.container=e}}var Vt;(function(n){n.clockwise="clockwise",n.counterClockwise="counter-clockwise",n.random="random"})(Vt||(Vt={}));var Ap;(function(n){n.linear="linear",n.radial="radial",n.random="random"})(Ap||(Ap={}));var tt;(function(n){n.easeInBack="ease-in-back",n.easeInCirc="ease-in-circ",n.easeInCubic="ease-in-cubic",n.easeInLinear="ease-in-linear",n.easeInQuad="ease-in-quad",n.easeInQuart="ease-in-quart",n.easeInQuint="ease-in-quint",n.easeInExpo="ease-in-expo",n.easeInSine="ease-in-sine",n.easeOutBack="ease-out-back",n.easeOutCirc="ease-out-circ",n.easeOutCubic="ease-out-cubic",n.easeOutLinear="ease-out-linear",n.easeOutQuad="ease-out-quad",n.easeOutQuart="ease-out-quart",n.easeOutQuint="ease-out-quint",n.easeOutExpo="ease-out-expo",n.easeOutSine="ease-out-sine",n.easeInOutBack="ease-in-out-back",n.easeInOutCirc="ease-in-out-circ",n.easeInOutCubic="ease-in-out-cubic",n.easeInOutLinear="ease-in-out-linear",n.easeInOutQuad="ease-in-out-quad",n.easeInOutQuart="ease-in-out-quart",n.easeInOutQuint="ease-in-out-quint",n.easeInOutExpo="ease-in-out-expo",n.easeInOutSine="ease-in-out-sine"})(tt||(tt={}));const g0=r8();Pa()||(window.tsParticles=g0);const o8=n=>{const e=n.id??"tsparticles";return q.useEffect(()=>{let t;return g0.load({id:e,url:n.url,options:n.options}).then(i=>{var s;t=i,(s=n.particlesLoaded)==null||s.call(n,i)}),()=>{t==null||t.destroy()}},[e,n,n.url,n.options]),N.jsx("div",{id:e,className:n.className})},a8=120,l8=.5,c8=100,u8=3;class Rp{static init(e){var o;const t=new Rp,i=e.selector;if(!i)throw new Error("No selector provided");const s=document.querySelector(i);if(!s)throw new Error("No element found for selector");return g0.load({element:s,id:i.replace(".","").replace("!",""),options:{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??a8,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??l8},number:{value:e.maxParticles??c8},size:{value:{min:1,max:e.sizeVariations??u8}}},responsive:(o=e.responsive)==null?void 0:o.map(l=>{var u,h,d,g,_;return{maxWidth:l.breakpoint,options:{particles:{color:{value:(u=l.options)==null?void 0:u.color},links:{distance:(h=l.options)==null?void 0:h.minDistance,enable:(d=l.options)==null?void 0:d.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:(g=l.options)==null?void 0:g.speed},size:{value:(_=l.options)==null?void 0:_.sizeVariations}}}}})}}).then(l=>{t._container=l}),t}destroy(){const e=this._container;e==null||e.destroy()}pauseAnimation(){const e=this._container;e==null||e.pause()}resumeAnimation(){const e=this._container;e==null||e.play()}}const h8=0,f8=0,d8=3,p8={particles:{number:{value:400,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#ff0000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:1,random:!1,anim:{enable:!1,speed:2,opacity_min:0,sync:!1}},size:{value:20,random:!1,anim:{enable:!1,speed:20,size_min:0,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fff",opacity:1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:3e3,rotateY:3e3}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:200,size:80,duration:.4,opacity:1,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!1},m8=n=>{const e=(i,s)=>{const o=ut(p8,s);return n.load({id:i,options:{fullScreen:{enable:!1},detectRetina:o.retina_detect,smooth:!0,interactivity:{detectsOn:o.interactivity.detect_on,events:{onHover:{enable:o.interactivity.events.onhover.enable,mode:o.interactivity.events.onhover.mode},onClick:{enable:o.interactivity.events.onclick.enable,mode:o.interactivity.events.onclick.mode},resize:{enable:o.interactivity.events.resize}},modes:{grab:{distance:o.interactivity.modes.grab.distance,links:{opacity:o.interactivity.modes.grab.line_linked.opacity}},bubble:{distance:o.interactivity.modes.bubble.distance,size:o.interactivity.modes.bubble.size,duration:o.interactivity.modes.bubble.duration,opacity:o.interactivity.modes.bubble.opacity,speed:o.interactivity.modes.bubble.speed},repulse:{distance:o.interactivity.modes.repulse.distance,duration:o.interactivity.modes.repulse.duration},push:{quantity:o.interactivity.modes.push.particles_nb},remove:{quantity:o.interactivity.modes.remove.particles_nb}}},particles:{collisions:{enable:o.particles.move.bounce},number:{value:o.particles.number.value,density:{enable:o.particles.number.density.enable,width:o.particles.number.density.value_area}},color:{value:o.particles.color.value},stroke:{width:o.particles.shape.stroke.width,color:{value:o.particles.shape.stroke.color}},shape:{type:o.particles.shape.type,options:{polygon:{sides:o.particles.shape.polygon.nb_sides},image:{src:o.particles.shape.image.src,width:o.particles.shape.image.width,height:o.particles.shape.image.height}}},opacity:{value:o.particles.opacity.random?{min:o.particles.opacity.anim.enable?o.particles.opacity.anim.opacity_min:h8,max:o.particles.opacity.value}:o.particles.opacity.value,animation:{enable:o.particles.opacity.anim.enable,speed:o.particles.opacity.anim.speed,sync:o.particles.opacity.anim.sync}},size:{value:o.particles.size.random?{min:o.particles.size.anim.enable?o.particles.size.anim.size_min:f8,max:o.particles.size.value}:o.particles.size.value,animation:{enable:o.particles.size.anim.enable,speed:o.particles.size.anim.speed,sync:o.particles.size.anim.sync}},links:{enable:o.particles.line_linked.enable,distance:o.particles.line_linked.distance,color:o.particles.line_linked.color,opacity:o.particles.line_linked.opacity,width:o.particles.line_linked.width},move:{enable:o.particles.move.enable,speed:o.particles.move.speed/d8,direction:o.particles.move.direction,random:o.particles.move.random,straight:o.particles.move.straight,outModes:o.particles.move.out_mode,attract:{enable:o.particles.move.attract.enable,rotate:{x:o.particles.move.attract.rotateX,y:o.particles.move.attract.rotateY}}}}}})};e.load=(i,s,o)=>{n.load({id:i,url:s}).then(l=>{l&&o(l)}).catch(()=>{o(void 0)})},e.setOnClickHandler=i=>{n.setOnClickHandler(i)};const t=n.dom();return{particlesJS:e,pJSDom:t}},g8=n=>{n.checkVersion("3.8.1");const{particlesJS:e,pJSDom:t}=m8(n);return window.particlesJS=e,window.pJSDom=t,window.Particles=Rp,{particlesJS:e,pJSDom:t,Particles:Rp}},y8=2,_8=.5,v8=.2,w8=.5,Ln=.5,qy={y:0};function b8(n){const{context:e,particle:t,radius:i}=n,s=i*y8,o=t.heightFactor??_8,l=t.headWidthFactor??v8,u=t.bodyHeightFactor??w8,h=s*o,d=s*l,g=h*u;e.moveTo(-s*Ln,qy.y),e.lineTo(-s*Ln,-g*Ln),e.lineTo(s*Ln-d,-g*Ln),e.lineTo(s*Ln-d,-h*Ln),e.lineTo(s*Ln+d,qy.y),e.lineTo(s*Ln-d,h*Ln),e.lineTo(s*Ln-d,g*Ln),e.lineTo(-s*Ln,g*Ln),e.lineTo(-s*Ln,qy.y)}const S8=.5,E8=.2,T8=.5;class x8{constructor(){this.validTypes=["arrow"]}draw(e){b8(e)}particleInit(e,t){const i=t.shapeData;t.heightFactor=ne((i==null?void 0:i.heightFactor)??S8),t.headWidthFactor=ne((i==null?void 0:i.headWidthFactor)??E8),t.bodyHeightFactor=ne((i==null?void 0:i.bodyHeightFactor)??T8)}}async function A8(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new x8,e)}const R8=3;class C8{draw(e){const{context:t,radius:i}=e,s=i/R8;t.beginPath(),t.arc(s,-s,s,zR,kR,!1),t.closePath(),t.fillStyle="#fff9",t.fill()}}async function P8(n,e=!0){n.checkVersion("3.8.1"),await n.addEffect("bubble",new C8,e)}class I8{constructor(){this.color=!0,this.opacity=!1}load(e){X(e)||(e.color!==void 0&&(this.color=e.color),e.opacity!==void 0&&(this.opacity=e.opacity))}}const O8=0;class k8{constructor(){this.filter=e=>e.a>O8,this.offset=4}load(e){if(!X(e)){if(e.filter!==void 0)if(Gn(e.filter)){if(Object.hasOwn(window,e.filter)){const t=window[e.filter];am(t)&&(this.filter=t)}}else this.filter=e.filter;e.offset!==void 0&&(this.offset=e.offset)}}}class D8{constructor(){this.src=""}load(e){X(e)||e.src!==void 0&&(this.src=e.src)}}class M8{constructor(){this.family="sans-serif",this.size=100}load(e){X(e)||(e.family!==void 0&&(this.family=e.family),e.size!==void 0&&(this.size=e.size),e.style!==void 0&&(this.style=e.style),e.variant!==void 0&&(this.variant=e.variant),e.weight!==void 0&&(this.weight=e.weight))}}class V8{constructor(){this.separator=`
`,this.spacing=10}load(e){X(e)||(e.separator!==void 0&&(this.separator=e.separator),e.spacing!==void 0&&(this.spacing=e.spacing))}}class N8{constructor(){this.color="#000000",this.font=new M8,this.lines=new V8,this.text=""}load(e){X(e)||(e.color!==void 0&&(this.color=e.color),this.font.load(e.font),this.lines.load(e.lines),e.text!==void 0&&(this.text=e.text))}}class L8{constructor(){this.enable=!1,this.override=new I8,this.pixels=new k8,this.position={x:50,y:50},this.scale=1}load(e){X(e)||(e.element!==void 0&&e.element instanceof HTMLCanvasElement&&(this.element=e.element),e.enable!==void 0&&(this.enable=e.enable),e.image&&(this.image||(this.image=new D8),this.image.load(e.image)),this.pixels.load(e.pixels),e.position&&(this.position={x:e.position.x??this.position.x,y:e.position.y??this.position.y}),this.override.load(e.override),e.scale!==void 0&&(this.scale=e.scale),e.selector!==void 0&&(this.selector=e.selector),e.text&&(this.text||(this.text=new N8),this.text.load(e.text)))}}const iT=.5,rr={x:0,y:0},z8=0;function U8(n,e,t,i,s,o){const{height:l,width:u}=e,h=l*u,d=j8(H8(h)),g=Math.min(h,n.actualOptions.particles.number.value),_=n.canvas.size;let v=0;const b={x:_.width*t.x/ze-u*i*iT,y:_.height*t.y/ze-l*i*iT};for(;v<g&&d.length;){const A=d.pop()??0,x={x:A%u,y:Math.floor(A/u)},O=e.pixels[x.y][x.x];if(!o(O))continue;const L={x:x.x*i+b.x,y:x.y*i+b.y},H={};s.color&&(H.color={value:O}),s.opacity&&(H.opacity={value:O.a}),n.particles.addParticle(L,H),v++}}function y0(n,e,t,i=!0){const s=n.getImageData(rr.x,rr.y,e.width,e.height).data;i&&n.clearRect(rr.x,rr.y,e.width,e.height);const o=[];for(let l=0;l<s.length;l+=t){const u=l/t,h={x:u%e.width,y:Math.floor(u/e.width)};o[h.y]||(o[h.y]=[]);const d={r:0,g:1,b:2,a:3},g=255;o[h.y][h.x]={r:s[l+d.r],g:s[l+d.g],b:s[l+d.b],a:s[l+d.a]/g}}return{pixels:o,width:Math.min(...o.map(l=>l.length)),height:o.length}}function G8(n,e){const t=new Image;t.crossOrigin="Anonymous";const i=new Promise((s,o)=>{t.onerror=o,t.onload=()=>{const l=document.createElement("canvas");l.width=t.width,l.height=t.height;const u=l.getContext("2d");if(!u)return o(new Error(`${un} Could not get canvas context`));u.drawImage(t,rr.x,rr.y,t.width,t.height,rr.x,rr.y,l.width,l.height),s(y0(u,l,e))}});return t.src=n,i}function B8(n,e){const t=document.createElement("canvas"),i=t.getContext("2d"),{font:s,text:o,lines:l,color:u}=n;if(!o||!i)return;const h=o.split(l.separator),d=En(s.size)?`${s.size}px`:s.size,g=[];let _=0,v=0;for(const S of h){i.font=`${s.style??""} ${s.variant??""} ${s.weight??""} ${d} ${s.family}`;const A=i.measureText(S),x={measure:A,text:S,height:A.actualBoundingBoxAscent+A.actualBoundingBoxDescent,width:A.width};_=Math.max(_||z8,x.width),v+=x.height+l.spacing,g.push(x)}t.width=_,t.height=v;let b=0;for(const S of g)i.font=`${s.style??""} ${s.variant??""} ${s.weight??""} ${d} ${s.family}`,i.fillStyle=u,i.fillText(S.text,rr.x,b+S.measure.actualBoundingBoxAscent),b+=S.height+l.spacing;return y0(i,t,e)}function j8(n){for(let i=n.length-1;i>=0;i--){const s=Math.floor(me()*i);[n[i],n[s]]=[n[s],n[i]]}return n}const H8=n=>[...Array(n).keys()];class F8{constructor(e){this._container=e}async init(){const e=this._container,t=e.actualOptions.canvasMask;if(!(t!=null&&t.enable))return;let i={pixels:[],height:0,width:0};const s=t.pixels.offset;if(t.image){const o=t.image.src;if(!o)return;i=await G8(o,s)}else if(t.text){const o=t.text,l=B8(o,s);if(X(l))return;i=l}else if(t.element??t.selector){const o=t.element??(t.selector&&document.querySelector(t.selector));if(!o)return;const l=o.getContext("2d");if(!l)return;i=y0(l,o,s)}U8(e,i,t.position,t.scale,t.override,t.pixels.filter)}}class q8{constructor(){this.id="canvasMask"}getPlugin(e){return Promise.resolve(new F8(e))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.canvasMask;(i==null?void 0:i.load)===void 0&&(e.canvasMask=i=new L8),i.load(t==null?void 0:t.canvasMask)}needsPlugin(e){var t;return((t=e==null?void 0:e.canvasMask)==null?void 0:t.enable)??!1}}async function $8(n,e=!0){n.checkVersion("3.8.1"),await n.addPlugin(new q8,e)}function cm(n,e){if(!e.segments.length||!e.segments[0].values.length)return;const{context:t,radius:i}=n;t.moveTo(e.segments[0].values[0].x*i,e.segments[0].values[0].y*i);for(const s of e.segments)t.bezierCurveTo(s.values[1].x*i,s.values[1].y*i,s.values[2].x*i,s.values[2].y*i,s.values[3].x*i,s.values[3].y*i);for(let s=e.segments.length-1;s>=0;s--){const o=e.segments[s];t.bezierCurveTo(-o.values[2].x*i,o.values[2].y*i,-o.values[1].x*i,o.values[1].y*i,-o.values[0].x*i,o.values[0].y*i)}}const pe=1/2,um={heart:{segments:[{values:[{x:0,y:pe},{x:0,y:pe},{x:pe,y:0},{x:pe,y:-.5/2}]},{values:[{x:pe,y:-.5/2},{x:pe,y:-.5/2},{x:pe,y:-.5},{x:pe/2,y:-.5}]},{values:[{x:pe/2,y:-.5},{x:pe/2,y:-.5},{x:0,y:-.5},{x:0,y:-.5/2}]}]},diamond:{segments:[{values:[{x:0,y:pe},{x:0,y:pe},{x:3*pe/4,y:0},{x:3*pe/4,y:0}]},{values:[{x:3*pe/4,y:0},{x:3*pe/4,y:0},{x:0,y:-.5},{x:0,y:-.5}]}]},club:{segments:[{values:[{x:0,y:-.5},{x:0,y:-.5},{x:pe/2,y:-.5},{x:pe/2,y:-.5/2}]},{values:[{x:pe/2,y:-.5/2},{x:pe/2,y:-.5/2},{x:pe,y:-.5/2},{x:pe,y:0}]},{values:[{x:pe,y:0},{x:pe,y:0},{x:pe,y:pe/2},{x:pe/2,y:pe/2}]},{values:[{x:pe/2,y:pe/2},{x:pe/2,y:pe/2},{x:pe/8,y:pe/2},{x:pe/8,y:pe/8}]},{values:[{x:pe/8,y:pe/8},{x:pe/8,y:pe/2},{x:pe/2,y:pe},{x:pe/2,y:pe}]},{values:[{x:pe/2,y:pe},{x:pe/2,y:pe},{x:0,y:pe},{x:0,y:pe}]}]},spade:{segments:[{values:[{x:0,y:-.5},{x:0,y:-.5},{x:pe,y:-.5/2},{x:pe,y:0}]},{values:[{x:pe,y:0},{x:pe,y:0},{x:pe,y:pe/2},{x:pe/2,y:pe/2}]},{values:[{x:pe/2,y:pe/2},{x:pe/2,y:pe/2},{x:pe/8,y:pe/2},{x:pe/8,y:pe/8}]},{values:[{x:pe/8,y:pe/8},{x:pe/8,y:pe/2},{x:pe/2,y:pe},{x:pe/2,y:pe}]},{values:[{x:pe/2,y:pe},{x:pe/2,y:pe},{x:0,y:pe},{x:0,y:pe}]}]}};class Q8{constructor(){this.validTypes=["club","clubs"]}draw(e){cm(e,um.club)}}class K8{constructor(){this.validTypes=["diamond","diamonds"]}draw(e){cm(e,um.diamond)}}let Y8=class{constructor(){this.validTypes=["heart","hearts"]}draw(e){cm(e,um.heart)}};class X8{constructor(){this.validTypes=["spade","spades"]}draw(e){cm(e,um.spade)}}async function W8(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new X8,e),await n.addShape(new Y8,e),await n.addShape(new K8,e),await n.addShape(new Q8,e)}const oC=2,X_=Math.PI*oC,Z8=0,$y={x:0,y:0},sT=.005;function J8(n){const{context:e,particle:t,radius:i}=n;if(t.cogHoleRadius===void 0||t.cogInnerRadius===void 0||t.cogInnerTaper===void 0||t.cogNotches===void 0||t.cogOuterTaper===void 0)return;const s=i*t.cogHoleRadius/ze;e.globalCompositeOperation="destination-out",e.beginPath(),e.moveTo(s,$y.y),e.arc($y.x,$y.y,s,Z8,X_),e.closePath(),e.fill(),e.globalCompositeOperation="source-over"}function ez(n){const{context:e,particle:t,radius:i}=n;if(t.cogHoleRadius===void 0||t.cogInnerRadius===void 0||t.cogInnerTaper===void 0||t.cogNotches===void 0||t.cogOuterTaper===void 0)return;const s=X_/(t.cogNotches*oC),o=s*t.cogInnerTaper*sT,l=s*t.cogOuterTaper*sT,u=i*t.cogInnerRadius/ze;let h=s,d=!1;for(e.moveTo(i*Math.cos(l),i*Math.sin(l));h<=X_;h+=s)d?(e.lineTo(u*Math.cos(h-o),u*Math.sin(h-o)),e.lineTo(i*Math.cos(h+l),i*Math.sin(h+l))):(e.lineTo(i*Math.cos(h-l),i*Math.sin(h-l)),e.lineTo(u*Math.cos(h+o),u*Math.sin(h+o))),d=!d}const tz=44,nz=72,iz=35,sz=7,rz=50;class oz{constructor(){this.validTypes=["cog"]}afterDraw(e){J8(e)}draw(e){ez(e)}particleInit(e,t){const i=t.shapeData;t.cogHoleRadius=ne((i==null?void 0:i.holeRadius)??tz),t.cogInnerRadius=ne((i==null?void 0:i.innerRadius)??nz),t.cogInnerTaper=ne((i==null?void 0:i.innerTaper)??iz),t.cogNotches=ne((i==null?void 0:i.notches)??sz),t.cogOuterTaper=ne((i==null?void 0:i.outerTaper)??rz)}}async function az(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new oz,e)}function Oi(n){const e=new Uint32Array(1);return e[0]=n[0]*1664525+1013904223,e}class lz{constructor(){this._NORM_2D=1/47,this._SQUISH_2D=(Math.sqrt(3)-1)/2,this._STRETCH_2D=(1/Math.sqrt(3)-1)/2,this._base2D=[[1,1,0,1,0,1,0,0,0],[1,1,0,1,0,1,2,1,1]],this._gradients2D=[5,2,2,5,-5,2,-2,5,5,-2,2,-5,-5,-2,-2,-5],this._lookup=[],this._lookupPairs2D=[0,1,1,0,4,1,17,0,20,2,21,2,22,5,23,5,26,4,39,3,42,4,43,3],this._p2D=[0,0,1,-1,0,0,-1,1,0,2,1,1,1,2,2,0,1,2,0,2,1,0,0,0],this._perm=new Uint8Array(256),this._perm2D=new Uint8Array(256)}noise(e,t){const{_gradients2D:i,_NORM_2D:s,_SQUISH_2D:o,_STRETCH_2D:l,_lookup:u,_perm:h,_perm2D:d}=this,g=(e+t)*l,_=e+g,v=t+g,b=Math.floor(_),S=Math.floor(v),A=(b+S)*o,x=e-(b+A),O=t-(S+A),U=_-b,L=v-S,H=U+L,W=U-L+1|H<<1|H+L<<2|H+U<<4;let le=0;for(let D=u[W];D!==void 0;D=D.next){const P=x+D.dx,I=O+D.dy,V=2-P*P-I*I;if(V>0){const G=b+D.xsb,j=S+D.ysb,k=h[G&255],Ge=d[k+j&255],nt=i[Ge]*P+i[Ge+1]*I;le+=V*V*V*V*nt}}return le*s}seed(e){const{_p2D:t,_base2D:i,_lookupPairs2D:s}=this,o=[];for(let h=0;h<t.length;h+=4){const d=i[t[h]];let g=null,_=null;for(let v=0;v<d.length;v+=3)_=this._contribution2D(d[v],d[v+1],d[v+2]),g===null?o[h/4]=_:g.next=_,g=_;_&&(_.next=this._contribution2D(t[h+1],t[h+2],t[h+3]))}this._lookup=[];for(let h=0;h<s.length;h+=2)this._lookup[s[h]]=o[s[h+1]];this._perm=new Uint8Array(256),this._perm2D=new Uint8Array(256);const l=new Uint8Array(256);for(let h=0;h<256;h++)l[h]=h;let u=new Uint32Array(1);u[0]=e,u=Oi(Oi(Oi(u)));for(let h=255;h>=0;h--){u=Oi(u);const d=new Uint32Array(1);d[0]=(u[0]+31)%(h+1),d[0]<0&&(d[0]+=h+1),this._perm[h]=l[d[0]],this._perm2D[h]=this._perm[h]&14,l[d[0]]=l[h]}}_contribution2D(e,t,i){const{_SQUISH_2D:s}=this;return{dx:-t-e*s,dy:-i-e*s,xsb:t,ysb:i}}}class cz{constructor(){this._NORM_3D=1/103,this._SQUISH_3D=(Math.sqrt(4)-1)/3,this._STRETCH_3D=(1/Math.sqrt(4)-1)/3,this._base3D=[[0,0,0,0,1,1,0,0,1,0,1,0,1,0,0,1],[2,1,1,0,2,1,0,1,2,0,1,1,3,1,1,1],[1,1,0,0,1,0,1,0,1,0,0,1,2,1,1,0,2,1,0,1,2,0,1,1]],this._gradients3D=[-11,4,4,-4,11,4,-4,4,11,11,4,4,4,11,4,4,4,11,-11,-4,4,-4,-11,4,-4,-4,11,11,-4,4,4,-11,4,4,-4,11,-11,4,-4,-4,11,-4,-4,4,-11,11,4,-4,4,11,-4,4,4,-11,-11,-4,-4,-4,-11,-4,-4,-4,-11,11,-4,-4,4,-11,-4,4,-4,-11],this._lookup=[],this._lookupPairs3D=[0,2,1,1,2,2,5,1,6,0,7,0,32,2,34,2,129,1,133,1,160,5,161,5,518,0,519,0,546,4,550,4,645,3,647,3,672,5,673,5,674,4,677,3,678,4,679,3,680,13,681,13,682,12,685,14,686,12,687,14,712,20,714,18,809,21,813,23,840,20,841,21,1198,19,1199,22,1226,18,1230,19,1325,23,1327,22,1352,15,1353,17,1354,15,1357,17,1358,16,1359,16,1360,11,1361,10,1362,11,1365,10,1366,9,1367,9,1392,11,1394,11,1489,10,1493,10,1520,8,1521,8,1878,9,1879,9,1906,7,1910,7,2005,6,2007,6,2032,8,2033,8,2034,7,2037,6,2038,7,2039,6],this._p3D=[0,0,1,-1,0,0,1,0,-1,0,0,-1,1,0,0,0,1,-1,0,0,-1,0,1,0,0,-1,1,0,2,1,1,0,1,1,1,-1,0,2,1,0,1,1,1,-1,1,0,2,0,1,1,1,-1,1,1,1,3,2,1,0,3,1,2,0,1,3,2,0,1,3,1,0,2,1,3,0,2,1,3,0,1,2,1,1,1,0,0,2,2,0,0,1,1,0,1,0,2,0,2,0,1,1,0,0,1,2,0,0,2,2,0,0,0,0,1,1,-1,1,2,0,0,0,0,1,-1,1,1,2,0,0,0,0,1,1,1,-1,2,3,1,1,1,2,0,0,2,2,3,1,1,1,2,2,0,0,2,3,1,1,1,2,0,2,0,2,1,1,-1,1,2,0,0,2,2,1,1,-1,1,2,2,0,0,2,1,-1,1,1,2,0,0,2,2,1,-1,1,1,2,0,2,0,2,1,1,1,-1,2,2,0,0,2,1,1,1,-1,2,0,2,0],this._perm=new Uint8Array(256),this._perm3D=new Uint8Array(256)}noise(e,t,i){const{_STRETCH_3D:s,_NORM_3D:o,_SQUISH_3D:l,_lookup:u,_perm:h,_perm3D:d,_gradients3D:g}=this,_=(e+t+i)*s,v=e+_,b=t+_,S=i+_,A=Math.floor(v),x=Math.floor(b),O=Math.floor(S),U=(A+x+O)*l,L=e-(A+U),H=t-(x+U),W=i-(O+U),le=v-A,D=b-x,P=S-O,I=le+D+P,V=D-P+1|le-D+1<<1|le-P+1<<2|I<<3|I+P<<5|I+D<<7|I+le<<9;let G=0;for(let j=u[V];j!==void 0;j=j.next){const k=L+j.dx,Ge=H+j.dy,nt=W+j.dz,te=2-k*k-Ge*Ge-nt*nt;if(te>0){const he=A+j.xsb,ve=x+j.ysb,je=O+j.zsb,z=h[he&255],ae=h[z+ve&255],fe=d[ae+je&255],ue=g[fe]*k+g[fe+1]*Ge+g[fe+2]*nt;G+=te*te*te*te*ue}}return G*o}seed(e){const{_base3D:t,_lookupPairs3D:i,_p3D:s}=this,o=[];for(let h=0;h<s.length;h+=9){const d=t[s[h]];let g=null,_=null;for(let v=0;v<d.length;v+=4)_=this._contribution3D(d[v],d[v+1],d[v+2],d[v+3]),g===null?o[h/9]=_:g.next=_,g=_;_&&(_.next=this._contribution3D(s[h+1],s[h+2],s[h+3],s[h+4]),_.next.next=this._contribution3D(s[h+5],s[h+6],s[h+7],s[h+8]))}this._lookup=[];for(let h=0;h<i.length;h+=2)this._lookup[i[h]]=o[i[h+1]];this._perm=new Uint8Array(256),this._perm3D=new Uint8Array(256);const l=new Uint8Array(256);for(let h=0;h<256;h++)l[h]=h;let u=new Uint32Array(1);u[0]=e,u=Oi(Oi(Oi(u)));for(let h=255;h>=0;h--){u=Oi(u);const d=new Uint32Array(1);d[0]=(u[0]+31)%(h+1),d[0]<0&&(d[0]+=h+1),this._perm[h]=l[d[0]],this._perm3D[h]=this._perm[h]%24*3,l[d[0]]=l[h]}}_contribution3D(e,t,i,s){const{_SQUISH_3D:o}=this;return{dx:-t-e*o,dy:-i-e*o,dz:-s-e*o,xsb:t,ysb:i,zsb:s}}}class uz{constructor(){this._NORM_4D=1/30,this._SQUISH_4D=(Math.sqrt(5)-1)*.25,this._STRETCH_4D=(1/Math.sqrt(5)-1)*.25,this._lookup=[],this._perm=new Uint8Array(0),this._perm4D=new Uint8Array(0),this._base4D=[[0,0,0,0,0,1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,4,1,1,1,1],[1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1]],this._gradients4D=[3,1,1,1,1,3,1,1,1,1,3,1,1,1,1,3,-3,1,1,1,-1,3,1,1,-1,1,3,1,-1,1,1,3,3,-1,1,1,1,-3,1,1,1,-1,3,1,1,-1,1,3,-3,-1,1,1,-1,-3,1,1,-1,-1,3,1,-1,-1,1,3,3,1,-1,1,1,3,-1,1,1,1,-3,1,1,1,-1,3,-3,1,-1,1,-1,3,-1,1,-1,1,-3,1,-1,1,-1,3,3,-1,-1,1,1,-3,-1,1,1,-1,-3,1,1,-1,-1,3,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,3,1,1,-1,1,3,1,-1,1,1,3,-1,1,1,1,-3,-3,1,1,-1,-1,3,1,-1,-1,1,3,-1,-1,1,1,-3,3,-1,1,-1,1,-3,1,-1,1,-1,3,-1,1,-1,1,-3,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,3,1,-1,-1,1,3,-1,-1,1,1,-3,-1,1,1,-1,-3,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3],this._lookupPairs4D=[0,3,1,2,2,3,5,2,6,1,7,1,8,3,9,2,10,3,13,2,16,3,18,3,22,1,23,1,24,3,26,3,33,2,37,2,38,1,39,1,41,2,45,2,54,1,55,1,56,0,57,0,58,0,59,0,60,0,61,0,62,0,63,0,256,3,258,3,264,3,266,3,272,3,274,3,280,3,282,3,2049,2,2053,2,2057,2,2061,2,2081,2,2085,2,2089,2,2093,2,2304,9,2305,9,2312,9,2313,9,16390,1,16391,1,16406,1,16407,1,16422,1,16423,1,16438,1,16439,1,16642,8,16646,8,16658,8,16662,8,18437,6,18439,6,18469,6,18471,6,18688,9,18689,9,18690,8,18693,6,18694,8,18695,6,18696,9,18697,9,18706,8,18710,8,18725,6,18727,6,131128,0,131129,0,131130,0,131131,0,131132,0,131133,0,131134,0,131135,0,131352,7,131354,7,131384,7,131386,7,133161,5,133165,5,133177,5,133181,5,133376,9,133377,9,133384,9,133385,9,133400,7,133402,7,133417,5,133421,5,133432,7,133433,5,133434,7,133437,5,147510,4,147511,4,147518,4,147519,4,147714,8,147718,8,147730,8,147734,8,147736,7,147738,7,147766,4,147767,4,147768,7,147770,7,147774,4,147775,4,149509,6,149511,6,149541,6,149543,6,149545,5,149549,5,149558,4,149559,4,149561,5,149565,5,149566,4,149567,4,149760,9,149761,9,149762,8,149765,6,149766,8,149767,6,149768,9,149769,9,149778,8,149782,8,149784,7,149786,7,149797,6,149799,6,149801,5,149805,5,149814,4,149815,4,149816,7,149817,5,149818,7,149821,5,149822,4,149823,4,149824,37,149825,37,149826,36,149829,34,149830,36,149831,34,149832,37,149833,37,149842,36,149846,36,149848,35,149850,35,149861,34,149863,34,149865,33,149869,33,149878,32,149879,32,149880,35,149881,33,149882,35,149885,33,149886,32,149887,32,150080,49,150082,48,150088,49,150098,48,150104,47,150106,47,151873,46,151877,45,151881,46,151909,45,151913,44,151917,44,152128,49,152129,46,152136,49,152137,46,166214,43,166215,42,166230,43,166247,42,166262,41,166263,41,166466,48,166470,43,166482,48,166486,43,168261,45,168263,42,168293,45,168295,42,168512,31,168513,28,168514,31,168517,28,168518,25,168519,25,280952,40,280953,39,280954,40,280957,39,280958,38,280959,38,281176,47,281178,47,281208,40,281210,40,282985,44,282989,44,283001,39,283005,39,283208,30,283209,27,283224,30,283241,27,283256,22,283257,22,297334,41,297335,41,297342,38,297343,38,297554,29,297558,24,297562,29,297590,24,297594,21,297598,21,299365,26,299367,23,299373,26,299383,23,299389,20,299391,20,299584,31,299585,28,299586,31,299589,28,299590,25,299591,25,299592,30,299593,27,299602,29,299606,24,299608,30,299610,29,299621,26,299623,23,299625,27,299629,26,299638,24,299639,23,299640,22,299641,22,299642,21,299645,20,299646,21,299647,20,299648,61,299649,60,299650,61,299653,60,299654,59,299655,59,299656,58,299657,57,299666,55,299670,54,299672,58,299674,55,299685,52,299687,51,299689,57,299693,52,299702,54,299703,51,299704,56,299705,56,299706,53,299709,50,299710,53,299711,50,299904,61,299906,61,299912,58,299922,55,299928,58,299930,55,301697,60,301701,60,301705,57,301733,52,301737,57,301741,52,301952,79,301953,79,301960,76,301961,76,316038,59,316039,59,316054,54,316071,51,316086,54,316087,51,316290,78,316294,78,316306,73,316310,73,318085,77,318087,77,318117,70,318119,70,318336,79,318337,79,318338,78,318341,77,318342,78,318343,77,430776,56,430777,56,430778,53,430781,50,430782,53,430783,50,431e3,75,431002,72,431032,75,431034,72,432809,74,432813,69,432825,74,432829,69,433032,76,433033,76,433048,75,433065,74,433080,75,433081,74,447158,71,447159,68,447166,71,447167,68,447378,73,447382,73,447386,72,447414,71,447418,72,447422,71,449189,70,449191,70,449197,69,449207,68,449213,69,449215,68,449408,67,449409,67,449410,66,449413,64,449414,66,449415,64,449416,67,449417,67,449426,66,449430,66,449432,65,449434,65,449445,64,449447,64,449449,63,449453,63,449462,62,449463,62,449464,65,449465,63,449466,65,449469,63,449470,62,449471,62,449472,19,449473,19,449474,18,449477,16,449478,18,449479,16,449480,19,449481,19,449490,18,449494,18,449496,17,449498,17,449509,16,449511,16,449513,15,449517,15,449526,14,449527,14,449528,17,449529,15,449530,17,449533,15,449534,14,449535,14,449728,19,449729,19,449730,18,449734,18,449736,19,449737,19,449746,18,449750,18,449752,17,449754,17,449784,17,449786,17,451520,19,451521,19,451525,16,451527,16,451528,19,451529,19,451557,16,451559,16,451561,15,451565,15,451577,15,451581,15,451776,19,451777,19,451784,19,451785,19,465858,18,465861,16,465862,18,465863,16,465874,18,465878,18,465893,16,465895,16,465910,14,465911,14,465918,14,465919,14,466114,18,466118,18,466130,18,466134,18,467909,16,467911,16,467941,16,467943,16,468160,13,468161,13,468162,13,468163,13,468164,13,468165,13,468166,13,468167,13,580568,17,580570,17,580585,15,580589,15,580598,14,580599,14,580600,17,580601,15,580602,17,580605,15,580606,14,580607,14,580824,17,580826,17,580856,17,580858,17,582633,15,582637,15,582649,15,582653,15,582856,12,582857,12,582872,12,582873,12,582888,12,582889,12,582904,12,582905,12,596982,14,596983,14,596990,14,596991,14,597202,11,597206,11,597210,11,597214,11,597234,11,597238,11,597242,11,597246,11,599013,10,599015,10,599021,10,599023,10,599029,10,599031,10,599037,10,599039,10,599232,13,599233,13,599234,13,599235,13,599236,13,599237,13,599238,13,599239,13,599240,12,599241,12,599250,11,599254,11,599256,12,599257,12,599258,11,599262,11,599269,10,599271,10,599272,12,599273,12,599277,10,599279,10,599282,11,599285,10,599286,11,599287,10,599288,12,599289,12,599290,11,599293,10,599294,11,599295,10],this._p4D=[0,0,1,-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,0,-1,1,0,0,0,0,1,-1,0,0,0,1,0,-1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,-1,0,0,-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,2,1,1,0,0,1,1,1,-1,0,1,1,1,0,-1,0,2,1,0,1,0,1,1,-1,1,0,1,1,0,1,-1,0,2,0,1,1,0,1,-1,1,1,0,1,0,1,1,-1,0,2,1,0,0,1,1,1,-1,0,1,1,1,0,-1,1,0,2,0,1,0,1,1,-1,1,0,1,1,0,1,-1,1,0,2,0,0,1,1,1,-1,0,1,1,1,0,-1,1,1,1,4,2,1,1,0,4,1,2,1,0,4,1,1,2,0,1,4,2,1,0,1,4,1,2,0,1,4,1,1,0,2,1,4,2,0,1,1,4,1,0,2,1,4,1,0,1,2,1,4,0,2,1,1,4,0,1,2,1,4,0,1,1,2,1,2,1,1,0,0,3,2,1,0,0,3,1,2,0,0,1,2,1,0,1,0,3,2,0,1,0,3,1,0,2,0,1,2,0,1,1,0,3,0,2,1,0,3,0,1,2,0,1,2,1,0,0,1,3,2,0,0,1,3,1,0,0,2,1,2,0,1,0,1,3,0,2,0,1,3,0,1,0,2,1,2,0,0,1,1,3,0,0,2,1,3,0,0,1,2,2,3,1,1,1,0,2,1,1,1,-1,2,2,0,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,2,0,0,0,2,3,1,0,1,1,2,1,-1,1,1,2,2,0,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,2,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,2,0,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,2,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,0,2,0,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,2,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,2,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,0,0,2,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,0,2,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,0,2,2,1,1,1,-1,0,1,1,1,0,-1,0,0,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,0,0,0,0,0,2,1,-1,1,1,0,1,0,1,1,-1,0,0,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,0,0,0,0,0,2,1,-1,1,0,1,1,0,1,-1,1,0,0,0,0,0,2,1,-1,0,1,1,1,0,-1,1,1,0,0,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,2,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,2,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,2,2,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,0,2,0,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,2,0,0,2,1,-1,1,0,1,1,0,1,-1,1,2,0,2,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,0,0,2,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,0,2,0,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,2,0,2,1,1,-1,0,1,1,1,0,-1,1,2,0,0,0,2,2,1,-1,1,0,1,1,0,1,-1,1,2,0,0,0,2,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,0,2,3,1,1,0,0,0,2,2,0,0,0,2,1,1,1,-1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,1,-1,3,1,0,0,1,0,2,0,0,2,0,2,1,1,1,-1,3,1,1,0,0,0,2,2,0,0,0,2,1,1,-1,1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,-1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,1,-1,1,3,1,1,0,0,0,2,2,0,0,0,2,1,-1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,1,-1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,-1,1,1,3,1,0,1,0,0,2,0,2,0,0,2,-1,1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,-1,1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,-1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,4,1,1,1,1,3,3,2,0,1,0,3,1,0,2,0,4,1,1,1,1,3,3,0,2,1,0,3,0,1,2,0,4,1,1,1,1,3,3,2,0,0,1,3,1,0,0,2,4,1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,4,1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,4,1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,1,-1,3,3,2,0,1,0,3,1,0,2,0,2,1,1,1,-1,3,3,0,2,1,0,3,0,1,2,0,2,1,1,1,-1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,-1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,1,-1,1,3,3,0,2,0,1,3,0,1,0,2,2,1,1,-1,1,3,3,2,0,1,0,3,1,0,2,0,2,1,-1,1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,-1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,1,-1,1,1,3,3,0,2,1,0,3,0,1,2,0,2,-1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,2,-1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,-1,1,1,1]}noise(e,t,i,s){const{_perm:o,_perm4D:l,_lookup:u,_STRETCH_4D:h,_SQUISH_4D:d,_gradients4D:g,_NORM_4D:_}=this,v=(e+t+i+s)*h,b=e+v,S=t+v,A=i+v,x=s+v,O=Math.floor(b),U=Math.floor(S),L=Math.floor(A),H=Math.floor(x),W=(O+U+L+H)*d,le=e-(O+W),D=t-(U+W),P=i-(L+W),I=s-(H+W),V=b-O,G=S-U,j=A-L,k=x-H,Ge=V+G+j+k,nt=j-k+1|G-j+1<<1|G-k+1<<2|V-G+1<<3|V-j+1<<4|V-k+1<<5|Ge<<6|Ge+k<<8|Ge+j<<11|Ge+G<<14|Ge+V<<17;let te=0;for(let he=u[nt];he!==void 0;he=he.next){const ve=le+he.dx,je=D+he.dy,z=P+he.dz,ae=I+he.dw,fe=2-ve*ve-je*je-z*z-ae*ae;if(fe>0){const ue=O+he.xsb,be=U+he.ysb,Me=L+he.zsb,Re=H+he.wsb,zt=o[ue&255],ht=o[zt+be&255],hi=o[ht+Me&255],Wn=l[hi+Re&255],Di=g[Wn]*ve+g[Wn+1]*je+g[Wn+2]*z+g[Wn+3]*ae;te+=fe*fe*fe*fe*Di}}return te*_}seed(e){const{_p4D:t,_base4D:i,_lookupPairs4D:s}=this,o=[];for(let h=0;h<t.length;h+=16){const d=i[t[h]];let g=null,_=null;for(let v=0;v<d.length;v+=5)_=this._contribution4D(d[v],d[v+1],d[v+2],d[v+3],d[v+4]),g===null?o[h/16]=_:g.next=_,g=_;_&&(_.next=this._contribution4D(t[h+1],t[h+2],t[h+3],t[h+4],t[h+5]),_.next.next=this._contribution4D(t[h+6],t[h+7],t[h+8],t[h+9],t[h+10]),_.next.next.next=this._contribution4D(t[h+11],t[h+12],t[h+13],t[h+14],t[h+15]))}this._lookup=[];for(let h=0;h<s.length;h+=2)this._lookup[s[h]]=o[s[h+1]];this._perm=new Uint8Array(256),this._perm4D=new Uint8Array(256);const l=new Uint8Array(256);for(let h=0;h<256;h++)l[h]=h;let u=new Uint32Array(1);u[0]=e,u=Oi(Oi(Oi(u)));for(let h=255;h>=0;h--){u=Oi(u);const d=new Uint32Array(1);d[0]=(u[0]+31)%(h+1),d[0]<0&&(d[0]+=h+1),this._perm[h]=l[d[0]],this._perm4D[h]=this._perm[h]&252,l[d[0]]=l[h]}}_contribution4D(e,t,i,s,o){const{_SQUISH_4D:l}=this;return{dx:-t-e*l,dy:-i-e*l,dz:-s-e*l,dw:-o-e*l,xsb:t,ysb:i,zsb:s,wsb:o}}}class aC{constructor(){this.noise2d=new lz,this.noise3d=new cz,this.noise4d=new uz}}const Qy={speed:.2,step:250},rT=2;class hz{constructor(){const e=new aC;this._simplex=e.noise2d,this.options=ut({},Qy)}generate(e){const t=e.getPosition(),{speed:i,step:s}=this.options,o=t.x/s,l=t.y/s,u=.001,h=this._simplex.noise(o,l+u),d=this._simplex.noise(o,l-u),g=(h-d)/(rT*u),_=this._simplex.noise(o+u,l),v=this._simplex.noise(o-u,l),b=(_-v)/(rT*u);return e.velocity.x=0,e.velocity.y=0,Ue.create(i*g,i*-b)}init(e){const t=e.actualOptions.particles.move.path.options;this.options.seed=t==null?void 0:t.seed,this.options.speed=((t==null?void 0:t.speed)??Qy.speed)*e.retina.pixelRatio,this.options.step=(t==null?void 0:t.step)??Qy.step,this._simplex.seed(this.options.seed??me())}reset(){}update(){}}const fz="curlNoise";async function dz(n,e=!0){n.checkVersion("3.8.1"),await n.addPathGenerator(fz,new hz,e)}function pz(n,e,t,i,s=0,o=1){const l=[],u=[],h=[],d=[],g=[],_=n??me;let v=0;t<1&&(t=1);for(let b=1;b<=t;++b)l[b]=_(),u[b]=_(),h[b]=b===1?1:h[b-1]*i,v+=h[b],d[b]=b/e,g[b]=_();return h.forEach((b,S)=>h[S]=b/v*(o-s)),()=>{let b,S,A=0;for(let x=t;x>=1;--x)b=g[x]+=d[x],g[x]>=1&&(b=g[x]-=1,l[x]=u[x],u[x]=_()),S=b**2*(3-2*b),A+=(l[x]*(1-S)+u[x]*S)*h[x];return A+s}}const mz=2,oT=Math.PI*mz;function gz(){return me()*.6+.8}class yz{constructor(){this.options={rndFunc:null,period:100,nbHarmonics:2,attenHarmonics:.8,lowValue:-.03,highValue:.03}}generate(e){if(!e.pathGen){const t=this.options;e.pathGen=pz(t.rndFunc,t.period,t.nbHarmonics,t.attenHarmonics,t.lowValue,t.highValue)}return e.curveVelocity?(e.curveVelocity.length+=.01,e.curveVelocity.angle=(e.curveVelocity.angle+e.pathGen())%oT):(e.curveVelocity=Ue.origin,e.curveVelocity.length=gz(),e.curveVelocity.angle=me()*oT),e.velocity.x=0,e.velocity.y=0,e.curveVelocity}init(e){const t=e.actualOptions.particles.move.path.options,{options:i}=this;am(t.rndFunc)?i.rndFunc=t.rndFunc:Gn(t.rndFunc)&&(i.rndFunc=window[t.rndFunc]??this.options.rndFunc),i.period=t.period??i.period,i.nbHarmonics=t.nbHarmonics??i.nbHarmonics,i.attenHarmonics=t.attenHarmonics??i.attenHarmonics,i.lowValue=t.lowValue??i.lowValue,i.highValue=t.highValue??i.highValue}reset(e){delete e.pathGen,delete e.curveVelocity}update(){}}const _z="curvesPathGenerator";async function vz(n,e=!0){n.checkVersion("3.8.1"),await n.addPathGenerator(_z,new yz,e)}async function wz(n,e=!0){n.checkVersion("3.8.1"),await n.addEasing(tt.easeInBack,t=>2.70158*t**3-1.70158*t**2,!1),await n.addEasing(tt.easeOutBack,t=>1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2),!1),await n.addEasing(tt.easeInOutBack,t=>{const s=2.5949095;return t<.5?(2*t)**2*((s+1)*2*t-s)/2:((2*t-2)**2*((s+1)*(t*2-2)+s)+2)/2},!1),await n.refresh(e)}async function bz(n,e){n.checkVersion("3.8.1"),await n.addEasing(tt.easeInCirc,t=>1-Math.sqrt(1-t**2),!1),await n.addEasing(tt.easeOutCirc,t=>Math.sqrt(1-(t-1)**2),!1),await n.addEasing(tt.easeInOutCirc,t=>t<.5?(1-Math.sqrt(1-(2*t)**2))/2:(Math.sqrt(1-(-2*t+2)**2)+1)/2,!1),await n.refresh(e)}async function Sz(n,e=!0){n.checkVersion("3.8.1"),await n.addEasing(tt.easeInCubic,t=>t**3,!1),await n.addEasing(tt.easeOutCubic,t=>1-(1-t)**3,!1),await n.addEasing(tt.easeInOutCubic,t=>t<.5?4*t**3:1-(-2*t+2)**3/2,!1),await n.refresh(e)}async function Ez(n,e=!0){n.checkVersion("3.8.1"),await n.addEasing(tt.easeInExpo,t=>t?2**(10*t-10):0,!1),await n.addEasing(tt.easeOutExpo,t=>t===1?1:1-Math.pow(2,-10*t),!1),await n.addEasing(tt.easeInOutExpo,t=>t===1?t?1:0:t?t<.5?2**(20*t-10)/2:(2-2**(-20*t+10))/2:0,!1),await n.refresh(e)}async function Tz(n,e=!0){n.checkVersion("3.8.1"),await n.addEasing(tt.easeInLinear,t=>t,!1),await n.addEasing(tt.easeOutLinear,t=>t,!1),await n.addEasing(tt.easeInOutLinear,t=>t,!1),await n.refresh(e)}async function xz(n,e=!0){n.checkVersion("3.8.1"),await n.addEasing(tt.easeInQuart,t=>t**4,!1),await n.addEasing(tt.easeOutQuart,t=>1-(1-t)**4,!1),await n.addEasing(tt.easeInOutQuart,t=>t<.5?8*t**4:1-(-2*t+2)**4/2,!1),await n.refresh(e)}async function Az(n,e=!0){n.checkVersion("3.8.1"),await n.addEasing(tt.easeInQuint,t=>t**5,!1),await n.addEasing(tt.easeOutQuint,t=>1-(1-t)**5,!1),await n.addEasing(tt.easeInOutQuint,t=>t<.5?16*t**5:1-(-2*t+2)**5/2,!1),await n.refresh(e)}async function Rz(n,e=!0){n.checkVersion("3.8.1"),await n.addEasing(tt.easeInSine,t=>1-Math.cos(t*Math.PI/2),!1),await n.addEasing(tt.easeOutSine,t=>Math.sin(t*Math.PI/2),!1),await n.addEasing(tt.easeInOutSine,t=>-(Math.cos(Math.PI*t)-1)/2,!1),await n.refresh(e)}class Cz{constructor(){this.wait=!1}load(e){X(e)||(e.count!==void 0&&(this.count=e.count),e.delay!==void 0&&(this.delay=ge(e.delay)),e.duration!==void 0&&(this.duration=ge(e.duration)),e.wait!==void 0&&(this.wait=e.wait))}}class Pz{constructor(){this.quantity=1,this.delay=.1}load(e){X(e)||(e.quantity!==void 0&&(this.quantity=ge(e.quantity)),e.delay!==void 0&&(this.delay=ge(e.delay)))}}class Iz{constructor(){this.color=!1,this.opacity=!1}load(e){X(e)||(e.color!==void 0&&(this.color=e.color),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Oz{constructor(){this.options={},this.replace=new Iz,this.type="square"}load(e){X(e)||(e.options!==void 0&&(this.options=ut({},e.options??{})),this.replace.load(e.replace),e.type!==void 0&&(this.type=e.type))}}class lC{constructor(){this.mode=Qi.percent,this.height=0,this.width=0}load(e){X(e)||(e.mode!==void 0&&(this.mode=e.mode),e.height!==void 0&&(this.height=e.height),e.width!==void 0&&(this.width=e.width))}}class Zr{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new Cz,this.rate=new Pz,this.shape=new Oz,this.startCount=0}load(e){X(e)||(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.size!==void 0&&(this.size||(this.size=new lC),this.size.load(e.size)),e.direction!==void 0&&(this.direction=e.direction),this.domId=e.domId,e.fill!==void 0&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=vt(e.particles,t=>ut({},t)),this.rate.load(e.rate),this.shape.load(e.shape),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=ge(e.position.x)),e.position.y!==void 0&&(this.position.y=ge(e.position.y))),e.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new go),this.spawnColor.load(e.spawnColor)),e.startCount!==void 0&&(this.startCount=e.startCount))}}var Cp;(function(n){n.emitter="emitter"})(Cp||(Cp={}));const aT=.5,lT=0,dd=0,cT=0,kz=0,Dz=-1,Mz=1;function uT(n,e){n.color?n.color.value=e:n.color={value:e}}class Vz{constructor(e,t,i,s,o){var d,g;this.emitters=t,this.container=i,this._destroy=()=>{var _,v;(_=this._mutationObserver)==null||_.disconnect(),this._mutationObserver=void 0,(v=this._resizeObserver)==null||v.disconnect(),this._resizeObserver=void 0,this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._prepareToDie=()=>{var S;if(this._paused)return;const _=((S=this.options.life)==null?void 0:S.duration)!==void 0?ne(this.options.life.duration):void 0;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&_!==void 0&&_>0&&(this._duration=_*gt)},this._setColorAnimation=(_,v,b,S=Mz)=>{const A=this.container;if(!_.enable)return v;const x=Nt(_.offset),O=ne(this.options.rate.delay),U=O*gt/A.retina.reduceFactor,L=0,H=ne(_.speed??L);return(v+H*A.fpsLimit/U+x*S)%b},this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=o,s instanceof Zr?this.options=s:(this.options=new Zr,this.options.load(s)),this._spawnDelay=ne(this.options.life.delay??lT)*gt/this.container.retina.reduceFactor,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let l=ut({},this.options.particles);if(l??(l={}),l.move??(l.move={}),(d=l.move).direction??(d.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=Rs(this._engine,this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=l,this._size=this._calcSize(),this.size=YE(this._size,this.container.canvas.size),this._lifeCount=this.options.life.count??Dz,this._immortal=this._lifeCount<=dd,this.options.domId){const _=document.getElementById(this.options.domId);_&&(this._mutationObserver=new MutationObserver(()=>{this.resize()}),this._resizeObserver=new ResizeObserver(()=>{this.resize()}),this._mutationObserver.observe(_,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(_))}const u=this.options.shape,h=(g=this._engine.emitterShapeManager)==null?void 0:g.getShapeGenerator(u.type);h&&(this._shape=h.generate(this.position,this.size,this.fill,u.options)),this._engine.dispatchEvent("emitterCreated",{container:i,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}async init(){var e;await((e=this._shape)==null?void 0:e.init())}pause(){this._paused||delete this._emitDelay}play(){if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>dd||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??cT))){if(this._emitDelay===void 0){const e=ne(this.options.rate.delay);this._emitDelay=e*gt/this.container.retina.reduceFactor}(this._lifeCount>dd||this._immortal)&&this._prepareToDie()}}resize(){var t;const e=this._initialPosition;this.position=e&&Oh(e,this.container.canvas.size,Ue.origin)?e:this._calcPosition(),this._size=this._calcSize(),this.size=YE(this._size,this.container.canvas.size),(t=this._shape)==null||t.resize(this.position,this.size)}update(e){var t;this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??cT,this._currentEmitDelay=this._emitDelay??kz),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>dd||this._immortal?(this.position=this._calcPosition(),(t=this._shape)==null||t.resize(this.position,this.size),this._spawnDelay=ne(this.options.life.delay??lT)*gt/this.container.retina.reduceFactor):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay)))}_calcPosition(){if(this.options.domId){const e=document.getElementById(this.options.domId);if(e){const t=e.getBoundingClientRect(),i=this.container.retina.pixelRatio;return{x:(t.x+t.width*aT)*i,y:(t.y+t.height*aT)*i}}}return HR({size:this.container.canvas.size,position:this.options.position})}_calcSize(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect();return{width:i.width*e.retina.pixelRatio,height:i.height*e.retina.pixelRatio,mode:Qi.precise}}}return this.options.size??(()=>{const t=new lC;return t.load({height:0,mode:Qi.percent,width:0}),t})()}_emit(){if(this._paused)return;const e=ne(this.options.rate.quantity);this._emitParticles(e)}_emitParticles(e){var i;const t=qt(this._particlesOptions);for(let s=0;s<e;s++){const o=ut({},t);if(this.spawnColor){const h=(i=this.options.spawnColor)==null?void 0:i.animation;if(h){const d={h:360,s:100,l:100},g=3.6;this.spawnColor.h=this._setColorAnimation(h.h,this.spawnColor.h,d.h,g),this.spawnColor.s=this._setColorAnimation(h.s,this.spawnColor.s,d.s),this.spawnColor.l=this._setColorAnimation(h.l,this.spawnColor.l,d.l)}uT(o,this.spawnColor)}const l=this.options.shape;let u=this.position;if(this._shape){const h=this._shape.randomPosition();if(h){u=h.position;const d=l.replace;d.color&&h.color&&uT(o,h.color),d.opacity&&(o.opacity?o.opacity.value=h.opacity:o.opacity={value:h.opacity})}else u=null}u&&this.container.particles.addParticle(u,o)}}}class Nz{constructor(e,t){this.container=t,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]};const i=0;t.getEmitter=s=>s===void 0||En(s)?this.array[s??i]:this.array.find(o=>o.name===s),t.addEmitter=async(s,o)=>this.addEmitter(s,o),t.removeEmitter=s=>{const o=t.getEmitter(s);o&&this.removeEmitter(o)},t.playEmitter=s=>{const o=t.getEmitter(s);o&&o.externalPlay()},t.pauseEmitter=s=>{const o=t.getEmitter(s);o&&o.externalPause()}}async addEmitter(e,t){const i=new Zr;i.load(e);const s=new Vz(this._engine,this,this.container,i,t);return await s.init(),this.array.push(s),s}handleClickMode(e){const t=this.emitters,i=this.interactivityEmitters;if(e!==Cp.emitter)return;let s;if(i&&tn(i.value))if(i.value.length>0&&i.random.enable){s=[];const h=[];for(let d=0;d<i.random.count;d++){const g=FR(i.value);if(h.includes(g)&&h.length<i.value.length){d--;continue}h.push(g),s.push(As(i.value,g))}}else s=i.value;else s=i==null?void 0:i.value;const o=s??t,l=this.container.interactivity.mouse.clickPosition;vt(o,async u=>{await this.addEmitter(u,l)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,!!this.emitters)if(tn(this.emitters))for(const e of this.emitters)await this.addEmitter(e);else await this.addEmitter(this.emitters)}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const t of this.array)t.update(e)}}class Lz{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return Promise.resolve(new Nz(this._engine,e))}loadOptions(e,t){var s,o;if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;t!=null&&t.emitters&&(e.emitters=vt(t.emitters,l=>{const u=new Zr;return u.load(l),u}));const i=(o=(s=t==null?void 0:t.interactivity)==null?void 0:s.modes)==null?void 0:o.emitters;if(i)if(tn(i))e.interactivity.modes.emitters={random:{count:1,enable:!0},value:i.map(l=>{const u=new Zr;return u.load(l),u})};else{const l=i;if(l.value!==void 0)if(tn(l.value))e.interactivity.modes.emitters={random:{count:l.random.count??1,enable:l.random.enable??!1},value:l.value.map(h=>{const d=new Zr;return d.load(h),d})};else{const h=new Zr;h.load(l.value),e.interactivity.modes.emitters={random:{count:l.random.count??1,enable:l.random.enable??!1},value:h}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new Zr}).value.load(i)}}needsPlugin(e){var i,s,o;if(!e)return!1;const t=e.emitters;return tn(t)&&!!t.length||t!==void 0||!!((o=(s=(i=e.interactivity)==null?void 0:i.events)==null?void 0:s.onClick)!=null&&o.mode)&&st(Cp.emitter,e.interactivity.events.onClick.mode)}}const Ky=new Map;class zz{constructor(e){this._engine=e}addShapeGenerator(e,t){this.getShapeGenerator(e)||Ky.set(e,t)}getShapeGenerator(e){return Ky.get(e)}getSupportedShapeGenerators(){return Ky.keys()}}class Dh{constructor(e,t,i,s){this.position=e,this.size=t,this.fill=i,this.options=s}resize(e,t){this.position=e,this.size=t}}async function Uz(n,e=!0){n.checkVersion("3.8.1"),n.emitterShapeManager||(n.emitterShapeManager=new zz(n)),n.addEmitterShapeGenerator||(n.addEmitterShapeGenerator=(i,s)=>{var o;(o=n.emitterShapeManager)==null||o.addShapeGenerator(i,s)});const t=new Lz(n);await n.addPlugin(t,e)}const ys={x:0,y:0},Gz=0;function _0(n,e,t,i=!0){const s=n.getImageData(ys.x,ys.y,e.width,e.height).data;i&&n.clearRect(ys.x,ys.y,e.width,e.height);const o=[];for(let l=0;l<s.length;l+=t){const u=l/t,h={x:u%e.width,y:Math.floor(u/e.width)};o[h.y]||(o[h.y]=[]);const d={r:0,g:1,b:2,a:3},g=255;o[h.y][h.x]={r:s[l+d.r],g:s[l+d.g],b:s[l+d.b],a:s[l+d.a]/g}}return{pixels:o,width:Math.min(...o.map(l=>l.length)),height:o.length}}function Bz(n,e){const t=new Image;t.crossOrigin="Anonymous";const i=new Promise((s,o)=>{t.onerror=o,t.onload=()=>{const l=document.createElement("canvas");l.width=t.width,l.height=t.height;const u=l.getContext("2d");if(!u)return o(new Error(`${un} Could not get canvas context`));u.drawImage(t,ys.x,ys.y,t.width,t.height,ys.x,ys.y,l.width,l.height),s(_0(u,l,e))}});return t.src=n,i}function jz(n,e,t){const i=document.createElement("canvas"),s=i.getContext("2d"),{font:o,text:l,lines:u,color:h}=n;if(!l||!s)return;const d=l.split(u.separator),g=En(o.size)?`${o.size}px`:o.size,_=[];let v=0,b=0;for(const A of d){s.font=`${o.style||""} ${o.variant||""} ${o.weight||""} ${g} ${o.family}`;const x=s.measureText(A),O={measure:x,text:A,height:x.actualBoundingBoxAscent+x.actualBoundingBoxDescent,width:x.width};v=Math.max(v||Gz,O.width),b+=O.height+u.spacing,_.push(O)}i.width=v,i.height=b;let S=0;for(const A of _)s.font=`${o.style||""} ${o.variant||""} ${o.weight||""} ${g} ${o.family}`,t?(s.fillStyle=h,s.fillText(A.text,ys.x,S+A.measure.actualBoundingBoxAscent)):(s.strokeStyle=h,s.strokeText(A.text,ys.x,S+A.measure.actualBoundingBoxAscent)),S+=A.height+u.spacing;return _0(s,i,e)}const Hz=100,hT=.5;class Fz extends Dh{constructor(e,t,i,s){super(e,t,i,s);const o=s.filter,l=0;let u=h=>h.a>l;if(o!==void 0)if(Gn(o)){if(Object.hasOwn(window,o)){const h=window[o];am(h)&&(u=h)}}else u=o;this.filter=u,this.scale=s.scale,this.pixelData={pixels:[],height:0,width:0}}async init(){let e;const t=this.options,i=t.selector,s=t.pixels,o=t.image,l=t.element,u=t.text,h=s.offset;if(o){const d=o.src;if(!d)return;e=await Bz(d,h)}else if(u){const d=jz(u,h,this.fill);if(X(d))return;e=d}else if(l??i){const d=l??(i&&document.querySelector(i));if(!d)return;const g=d.getContext("2d");if(!g)return;e=_0(g,d,h)}e&&(this.pixelData=e)}randomPosition(){const{height:e,width:t}=this.pixelData,i=this.pixelData,s=this.position,o=this.scale,l={x:s.x-t*o*hT,y:s.y-e*o*hT};for(let u=0;u<Hz;u++){const h=Math.floor(me()*t*e),d={x:h%t,y:Math.floor(h/t)},g=i.pixels[d.y][d.x];if(this.filter(g))return{position:{x:d.x*o+l.x,y:d.y*o+l.y},color:{...g},opacity:g.a}}return null}resize(e,t){super.resize(e,t)}}class qz{constructor(){this.offset=4}load(e){X(e)||e.offset!==void 0&&(this.offset=e.offset)}}class $z{constructor(){this.family="Verdana",this.size=32,this.style="",this.variant="",this.weight=""}load(e){X(e)||(e.family!==void 0&&(this.family=e.family),e.size!==void 0&&(this.size=e.size),e.style!==void 0&&(this.style=e.style),e.variant!==void 0&&(this.variant=e.variant),e.weight!==void 0&&(this.weight=e.weight))}}class Qz{constructor(){this.separator=`
`,this.spacing=0}load(e){X(e)||(e.separator!==void 0&&(this.separator=e.separator),e.spacing!==void 0&&(this.spacing=e.spacing))}}class Kz{constructor(){this.color="#000000",this.font=new $z,this.lines=new Qz,this.text=""}load(e){X(e)||(e.color!==void 0&&(this.color=e.color),this.font.load(e.font),this.lines.load(e.lines),e.text!==void 0&&(this.text=e.text))}}const Yz=0;class Xz{constructor(){this.filter=e=>e.a>Yz,this.pixels=new qz,this.scale=1,this.selector="",this.text=new Kz}load(e){X(e)||(e.element!==void 0&&(this.element=e.element),e.filter!==void 0&&(this.filter=e.filter),this.pixels.load(e.pixels),e.scale!==void 0&&(this.scale=e.scale),e.selector!==void 0&&(this.selector=e.selector),e.image!==void 0&&(this.image=e.image),this.text.load(e.text))}}class Wz{generate(e,t,i,s){const o=new Xz;return o.load(s),new Fz(e,t,i,o)}}async function Zz(n,e=!0){var i;const t=n;t.checkVersion("3.8.1"),(i=t.addEmitterShapeGenerator)==null||i.call(t,"canvas",new Wz),await t.refresh(e)}const cC=100,Pp=.5;function Jz(n,e,t,i){let s=null;for(let o=0;o<cC;o++){const l={x:t.x+me()*i.width-i.width*Pp,y:t.y+me()*i.height-i.height*Pp};if(n.isPointInPath(e,l.x,l.y)){s=l;break}}return s}function e7(n,e,t,i){let s=null;for(let o=0;o<cC;o++){const l={x:t.x+me()*i.width-i.width*Pp,y:t.y+me()*i.height-i.height*Pp};if(n.isPointInStroke(e,l.x,l.y)){s=l;break}}return s}const pd=.5;class t7 extends Dh{constructor(e,t,i,s){super(e,t,i,s);const o=document.createElement("canvas").getContext("2d");if(!o)throw new Error(`${un} No 2d context available`);this.checkContext=o,this.points=s.points;const l=this.points,u=new Path2D,h={x:e.x-t.width*pd,y:e.y-t.height*pd};for(const[_,v]of l.entries()){const b={x:h.x+v.x*t.width/ze,y:h.y+v.y*t.height/ze};_?u.lineTo(b.x,b.y):u.moveTo(b.x,b.y)}const d=0,g=l[d];if(g){const _={x:h.x+g.x*t.width/ze,y:h.y+g.y*t.height/ze};u.lineTo(_.x,_.y)}this.path=u}async init(){}randomPosition(){const e=this.checkContext,t=this.position,i=this.size,s=this.fill,o=this.path,l=s?Jz(e,o,t,i):e7(e,o,t,i);return l?{position:l}:null}resize(e,t){super.resize(e,t);const i=this.points,s=new Path2D,o={x:e.x-t.width*pd,y:e.y-t.height*pd};for(const[h,d]of i.entries()){const g={x:o.x+d.x*t.width/ze,y:o.y+d.y*t.height/ze};h?s.lineTo(g.x,g.y):s.moveTo(g.x,g.y)}const l=0,u=i[l];if(u){const h={x:o.x+u.x*t.width/ze,y:o.y+u.y*t.height/ze};s.lineTo(h.x,h.y)}this.path=s}}const fT={x:50,y:50};class n7{constructor(){this.points=[]}load(e){X(e)||e.points!==void 0&&(this.points=e.points.map(t=>({x:t.x??fT.x,y:t.y??fT.y})))}}class i7{generate(e,t,i,s){const o=new n7;return o.load(s),new t7(e,t,i,o)}}async function s7(n,e=!0){var i;const t=n;t.checkVersion("3.8.1"),(i=t.addEmitterShapeGenerator)==null||i.call(t,"path",new i7),await t.refresh(e)}const r7=2,o7=Math.PI*r7,a7=0,l7=100;function dT(n,e,t,i=a7){const s=[],o=o7/e;for(let l=0;l<e;l++){const u=o*l+i;s.push({x:n.x+t*Math.cos(u),y:n.y+t*Math.sin(u)})}return s}function c7(n){const t=n[0],i={...t},s={...t};for(const l of n)l.x<i.x&&(i.x=l.x),l.x>s.x&&(s.x=l.x),l.y<i.y&&(i.y=l.y),l.y>s.y&&(s.y=l.y);let o=null;for(let l=0;l<l7;l++){const u={x:i.x+me()*(s.x-i.x),y:i.y+me()*(s.y-i.y)};if(h7(u,n)){o=u;break}}return o}function u7(n){const e=Math.floor(me()*n.length),t=n[e],i=1,s=n[(e+i)%n.length],o=me();return{x:t.x+(s.x-t.x)*o,y:t.y+(s.y-t.y)*o}}function h7(n,e){let t=!1;const i=1;for(let s=0,o=e.length-i;s<e.length;o=s++){const l=e[s],u=e[o];l.y>n.y!=u.y>n.y&&n.x<(u.x-l.x)*(n.y-l.y)/(u.y-l.y)+l.x&&(t=!t)}return t}const pT=.5;class f7 extends Dh{constructor(e,t,i,s){super(e,t,i,s),this.sides=s.sides,this.angle=Hi(s.angle),this.polygon=dT(e,this.sides,t.width*pT,this.angle)}async init(){}randomPosition(){const e=this.fill,t=this.polygon,i=e?c7(t):u7(t);return i?{position:i}:null}resize(e,t){super.resize(e,t),this.polygon=dT(e,this.sides,t.width*pT,this.angle)}}class d7{constructor(){this.angle=0,this.sides=5}load(e){X(e)||(e.angle!==void 0&&(this.angle=e.angle),e.sides!==void 0&&(this.sides=e.sides))}}class p7{generate(e,t,i,s){const o=new d7;return o.load(s),new f7(e,t,i,o)}}async function m7(n,e=!0){var i;const t=n;t.checkVersion("3.8.1"),(i=t.addEmitterShapeGenerator)==null||i.call(t,"polygon",new p7),await t.refresh(e)}class g7{constructor(e,t){this._exportImage=async i=>{const s=this._container.canvas.element;if(s)return new Promise(o=>{s.toBlob(l=>{if(!l){o(void 0);return}o(l)},i.type??"image/png",i.quality)})},this._container=e,this._engine=t}async export(e,t){const i={supported:!1};switch(e){case"image":i.supported=!0,i.blob=await this._exportImage(t);break}return i}}class y7{constructor(e){this.id="export-image",this._engine=e}getPlugin(e){return Promise.resolve(new g7(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function _7(n,e=!0){n.checkVersion("3.8.1"),await n.addPlugin(new y7(n),e)}const v7=2;class w7{constructor(e,t){this._exportJSON=async()=>{const i=JSON.stringify(this._container.actualOptions,(s,o)=>{if(!s.startsWith("_"))return o},v7);return Promise.resolve(new Blob([i],{type:"application/json"}))},this._container=e,this._engine=t}async export(e){const t={supported:!1};switch(e){case"json":t.supported=!0,t.blob=await this._exportJSON();break}return t}}class b7{constructor(e){this.id="export-json",this._engine=e}getPlugin(e){return Promise.resolve(new w7(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function S7(n,e=!0){n.checkVersion("3.8.1"),await n.addPlugin(new b7(n),e)}const E7=["webm","ogg","mp4","x-matroska"],T7=["vp9","vp9.0","vp8","vp8.0","avc1","av1","h265","h.265","h264","h.264","opus","pcm","aac","mpeg","mp4a"];function x7(){const n=t=>MediaRecorder.isTypeSupported(t),e=[];return E7.forEach(t=>{const i=`video/${t}`;T7.forEach(s=>[`${i};codecs=${s}`,`${i};codecs=${s.toUpperCase()}`].forEach(o=>{n(o)&&e.push(o)})),n(i)&&e.push(i)}),e}class A7{constructor(e,t){this._supportedTypes=[],this._exportVideo=async i=>{const s=this._container.canvas.element;if(s)return new Promise(o=>{const l=s.captureStream(i.fps??this._container.actualOptions.fpsLimit),u=0,h=i.mimeType??this._supportedTypes[u],d=new MediaRecorder(l,{mimeType:h}),g=[],_=5;d.addEventListener("dataavailable",v=>{g.push(v.data)}),d.addEventListener("stop",()=>{o(new Blob(g,{type:h}))}),d.start(),setTimeout(()=>{d.stop()},i.duration??_*gt)})},this._container=e,this._engine=t,this._supportedTypes=x7()}async export(e,t){const i={supported:!1};switch(e){case"video":i.supported=!0,i.blob=await this._exportVideo(t);break}return i}}class R7{constructor(e){this.id="export-video",this._engine=e}getPlugin(e){return Promise.resolve(new A7(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function C7(n,e=!0){n.checkVersion("3.8.1"),await n.addPlugin(new R7(n),e)}class P7{constructor(){this.replaceCursor=!1,this.pauseOnStop=!1,this.stopDelay=0}load(e){X(e)||(e.options!==void 0&&(this.options=ut({},e.options)),e.replaceCursor!==void 0&&(this.replaceCursor=e.replaceCursor),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop),e.stopDelay!==void 0&&(this.stopDelay=e.stopDelay))}}const mT="particle";class I7 extends Yn{constructor(e){super(e)}clear(){}init(){}interact(){var h,d,g,_;const e=this.container,{interactivity:t}=e,i=e.actualOptions;if(!e.retina.reduceFactor)return;const s=t.mouse.position,o=i.interactivity.modes.particle;if(!o)return;const l=o.pauseOnStop&&(t.mouse.position===this._lastPosition||((h=t.mouse.position)==null?void 0:h.x)===((d=this._lastPosition)==null?void 0:d.x)&&((g=t.mouse.position)==null?void 0:g.y)===((_=this._lastPosition)==null?void 0:_.y)),u=o.stopDelay;if(s?this._lastPosition={...s}:delete this._lastPosition,!!this._lastPosition){if(l){if(this._clearTimeout)return;this._clearTimeout=setTimeout(()=>{if(this._particle){if(o.replaceCursor){const v=t.element;v&&(v instanceof Window?document.body.style.cursor="":v.style.cursor="")}this.container.particles.remove(this._particle,void 0,!0),delete this._particle}},u);return}if(this._clearTimeout&&(clearTimeout(this._clearTimeout),delete this._clearTimeout),!this._particle){const v=ut(o.options,{move:{enable:!1}});if(this._particle=e.particles.addParticle(this._lastPosition,v),o.replaceCursor){const b=t.element;b&&(b instanceof Window?document.body.style.cursor="none":b.style.cursor="none")}}this._particle&&(this._particle.position.x=this._lastPosition.x,this._particle.position.y=this._lastPosition.y)}}isEnabled(e){const t=this.container,i=t.actualOptions,s=t.interactivity.mouse,o=((e==null?void 0:e.interactivity)??i.interactivity).events;return s.clicking&&s.inside&&!!s.position&&st(mT,o.onClick.mode)||s.inside&&!!s.position&&st(mT,o.onHover.mode)}loadModeOptions(e,...t){e.particle||(e.particle=new P7);for(const i of t)e.particle.load(i==null?void 0:i.particle)}reset(){}}async function O7(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalParticle",t=>Promise.resolve(new I7(t)),e)}const k7="pop";class D7 extends Yn{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container;if(t!==k7)return;const s=i.interactivity.mouse.clickPosition;if(!s)return;const o=i.particles.quadTree.queryCircle(s,i.retina.pixelRatio);if(o.length)for(const l of o)i.particles.remove(l)}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function M7(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalPop",t=>Promise.resolve(new D7(t)),e)}class V7{constructor(){this.radius=0,this.mass=0}load(e){X(e)||(e.mass!==void 0&&(this.mass=e.mass),e.radius!==void 0&&(this.radius=e.radius))}}class N7 extends ui{constructor(){super(),this.density=5,this.value=50,this.limit=new V7}load(e){X(e)||(super.load(e),e.density!==void 0&&(this.density=e.density),En(e.limit)?this.limit.radius=e.limit:this.limit.load(e.limit))}}class Ip{constructor(){this.color=new Je,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new N7}load(e){X(e)||(e.color!==void 0&&(this.color=Je.create(this.color,e.color)),e.draggable!==void 0&&(this.draggable=e.draggable),this.name=e.name,e.opacity!==void 0&&(this.opacity=e.opacity),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=ge(e.position.x)),e.position.y!==void 0&&(this.position.y=ge(e.position.y))),e.size!==void 0&&this.size.load(e.size),e.destroy!==void 0&&(this.destroy=e.destroy),e.orbits!==void 0&&(this.orbits=e.orbits))}}var Op;(function(n){n.absorber="absorber"})(Op||(Op={}));const L7=2,z7=.033,U7=0,G7=0,B7=0,j7=0,H7=2,gT=Math.PI*H7,yT=0;class F7{constructor(e,t,i,s,o){var u;this._calcPosition=()=>{const h=HR({size:this._container.canvas.size,position:this.options.position});return Ue.create(h.x,h.y)},this._updateParticlePosition=(h,d)=>{if(h.destroyed)return;const g=this._container,_=g.canvas.size;if(h.needsNewPosition){const v=jR({size:_});h.position.setTo(v),h.velocity.setTo(h.initialVelocity),h.absorberOrbit=void 0,h.needsNewPosition=!1}if(this.options.orbits){if(h.absorberOrbit===void 0&&(h.absorberOrbit=Ue.origin,h.absorberOrbit.length=wn(h.getPosition(),this.position),h.absorberOrbit.angle=me()*gT),h.absorberOrbit.length<=this.size&&!this.options.destroy){const x=Math.min(_.width,_.height),O=1,U=.1,L=.2;h.absorberOrbit.length=x*(O+(me()*L-U))}h.absorberOrbitDirection===void 0&&(h.absorberOrbitDirection=h.velocity.x>=yT?Vt.clockwise:Vt.counterClockwise);const v=h.absorberOrbit.length,b=h.absorberOrbit.angle,S=h.absorberOrbitDirection;h.velocity.setTo(Ue.origin);const A={x:S===Vt.clockwise?Math.cos:Math.sin,y:S===Vt.clockwise?Math.sin:Math.cos};h.position.x=this.position.x+v*A.x(b),h.position.y=this.position.y+v*A.y(b),h.absorberOrbit.length-=d.length,h.absorberOrbit.angle+=(h.retina.moveSpeed??yT)*g.retina.pixelRatio/ze*g.retina.reduceFactor}else{const v=Ue.origin;v.length=d.length,v.angle=d.angle,h.velocity.addTo(v)}},this._absorbers=e,this._container=t,this._engine=i,this.initialPosition=o?Ue.create(o.x,o.y):void 0,s instanceof Ip?this.options=s:(this.options=new Ip,this.options.load(s)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=ne(this.options.size.value)*t.retina.pixelRatio,this.mass=this.size*this.options.size.density*t.retina.reduceFactor;const l=this.options.size.limit;this.limit={radius:l.radius*t.retina.pixelRatio*t.retina.reduceFactor,mass:l.mass},this.color=bn(this._engine,this.options.color)??{b:0,g:0,r:0},this.position=((u=this.initialPosition)==null?void 0:u.copy())??this._calcPosition()}attract(e){const t=this._container,i=this.options;if(i.draggable){const d=t.interactivity.mouse;d.clicking&&d.downPosition?wn(this.position,d.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&d.position&&(this.position.x=d.position.x,this.position.y=d.position.y)}const s=e.getPosition(),{dx:o,dy:l,distance:u}=Lt(this.position,s),h=Ue.create(o,l);if(h.length=this.mass/Math.pow(u,L7)*t.retina.reduceFactor,u<this.size+e.getRadius()){const d=e.getRadius()*z7*t.retina.pixelRatio;this.size>e.getRadius()&&u<this.size-e.getRadius()||e.absorberOrbit!==void 0&&e.absorberOrbit.length<U7?i.destroy?e.destroy():(e.needsNewPosition=!0,this._updateParticlePosition(e,h)):(i.destroy&&(e.size.value-=d),this._updateParticlePosition(e,h)),(this.limit.radius<=G7||this.size<this.limit.radius)&&(this.size+=d),(this.limit.mass<=B7||this.mass<this.limit.mass)&&(this.mass+=d*this.options.size.density*t.retina.reduceFactor)}else this._updateParticlePosition(e,h)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(Ft.x,Ft.y,this.size,j7,gT,!1),e.closePath(),e.fillStyle=Un(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&Oh(e,this._container.canvas.size,Ue.origin)?e:this._calcPosition()}}const _T=0;class q7{constructor(e,t){this._container=e,this._engine=t,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=i=>i===void 0||En(i)?this.array[i??_T]:this.array.find(s=>s.name===i),e.addAbsorber=async(i,s)=>this.addAbsorber(i,s)}async addAbsorber(e,t){const i=new F7(this,this._container,this._engine,e,t);return this.array.push(i),Promise.resolve(i)}draw(e){for(const t of this.array)t.draw(e)}handleClickMode(e){const t=this.absorbers,i=this.interactivityAbsorbers;if(e===Op.absorber){const s=qt(i),o=s??qt(t),l=this._container.interactivity.mouse.clickPosition;this.addAbsorber(o,l)}}async init(){this.absorbers=this._container.actualOptions.absorbers,this.interactivityAbsorbers=this._container.actualOptions.interactivity.modes.absorbers;const e=vt(this.absorbers,async t=>{await this.addAbsorber(t)});e instanceof Array?await Promise.all(e):await e}particleUpdate(e){for(const t of this.array)if(t.attract(e),e.destroyed)break}removeAbsorber(e){const t=this.array.indexOf(e);t>=_T&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class $7{constructor(e){this.id="absorbers",this._engine=e}async getPlugin(e){return Promise.resolve(new q7(e,this._engine))}loadOptions(e,t){var i,s;!this.needsPlugin(e)&&!this.needsPlugin(t)||(t!=null&&t.absorbers&&(e.absorbers=vt(t.absorbers,o=>{const l=new Ip;return l.load(o),l})),e.interactivity.modes.absorbers=vt((s=(i=t==null?void 0:t.interactivity)==null?void 0:i.modes)==null?void 0:s.absorbers,o=>{const l=new Ip;return l.load(o),l}))}needsPlugin(e){var i,s,o;if(!e)return!1;const t=e.absorbers;return tn(t)?!!t.length:t?!0:!!((o=(s=(i=e.interactivity)==null?void 0:i.events)==null?void 0:s.onClick)!=null&&o.mode&&st(Op.absorber,e.interactivity.events.onClick.mode))}}async function Q7(n,e=!0){n.checkVersion("3.8.1"),await n.addPlugin(new $7(n),e)}class K7{load(e){X(e)||(e.bottom!==void 0&&(this.bottom=ge(e.bottom)),e.left!==void 0&&(this.left=ge(e.left)),e.right!==void 0&&(this.right=ge(e.right)),e.top!==void 0&&(this.top=ge(e.top)))}}var kp;(function(n){n.none="none",n.split="split"})(kp||(kp={}));class Y7 extends ui{constructor(){super(),this.value=3}}class X7 extends ui{constructor(){super(),this.value={min:4,max:9}}}class W7{constructor(){this.count=1,this.factor=new Y7,this.rate=new X7,this.sizeOffset=!0}load(e){X(e)||(e.color!==void 0&&(this.color=Je.create(this.color,e.color)),e.count!==void 0&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),this.particles=vt(e.particles,t=>ut({},t)),e.sizeOffset!==void 0&&(this.sizeOffset=e.sizeOffset),e.colorOffset&&(this.colorOffset=this.colorOffset??{},e.colorOffset.h!==void 0&&(this.colorOffset.h=e.colorOffset.h),e.colorOffset.s!==void 0&&(this.colorOffset.s=e.colorOffset.s),e.colorOffset.l!==void 0&&(this.colorOffset.l=e.colorOffset.l)))}}class Z7{constructor(){this.bounds=new K7,this.mode=kp.none,this.split=new W7}load(e){X(e)||(e.mode&&(this.mode=e.mode),e.bounds&&this.bounds.load(e.bounds),this.split.load(e.split))}}const md=0,J7=.5,eU=0,tU=1,nU=500,iU=0;function sU(n,e,t,i){const s=t.options.destroy;if(!s)return;const o=s.split,l=m0(n,e,t.options),u=ne(o.factor.value),h=t.getFillColor();o.color?l.color.load(o.color):o.colorOffset&&h?l.color.load({value:{hsl:{h:h.h+ne(o.colorOffset.h??md),s:h.s+ne(o.colorOffset.s??md),l:h.l+ne(o.colorOffset.l??md)}}}):l.color.load({value:{hsl:t.getFillColor()}}),l.move.load({center:{x:t.position.x,y:t.position.y,mode:Qi.precise}}),En(l.size.value)?l.size.value/=u:(l.size.value.min/=u,l.size.value.max/=u),l.load(i);const d=o.sizeOffset?ge(-t.size.value,t.size.value):md,g={x:t.position.x+Nt(d),y:t.position.y+Nt(d)};return e.particles.addParticle(g,l,t.group,_=>_.size.value<J7?!1:(_.velocity.length=Nt(ge(t.velocity.length,_.velocity.length)),_.splitCount=(t.splitCount??eU)+tU,_.unbreakable=!0,setTimeout(()=>{_.unbreakable=!1},nU),!0))}function rU(n,e,t){const i=t.options.destroy;if(!i)return;const s=i.split;if(s.count>=iU&&(t.splitCount===void 0||t.splitCount++>s.count))return;const o=ne(s.rate.value),l=qt(s.particles);for(let u=0;u<o;u++)sU(n,e,t,l)}class oU{constructor(e,t){this.container=t,this.engine=e}init(e){const t=this.container,i=e.options,s=i.destroy;if(!s)return;e.splitCount=0;const o=s.bounds;e.destroyBounds||(e.destroyBounds={});const{bottom:l,left:u,right:h,top:d}=o,{destroyBounds:g}=e,_=t.canvas.size;l&&(g.bottom=ne(l)*_.height/ze),u&&(g.left=ne(u)*_.width/ze),h&&(g.right=ne(h)*_.width/ze),d&&(g.top=ne(d)*_.height/ze)}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.destroy||(e.destroy=new Z7);for(const i of t)e.destroy.load(i==null?void 0:i.destroy)}particleDestroyed(e,t){if(t)return;const i=e.options.destroy;i&&i.mode===kp.split&&rU(this.engine,this.container,e)}update(e){if(!this.isEnabled(e))return;const t=e.getPosition(),i=e.destroyBounds;i&&(i.bottom!==void 0&&t.y>=i.bottom||i.left!==void 0&&t.x<=i.left||i.right!==void 0&&t.x>=i.right||i.top!==void 0&&t.y<=i.top)&&e.destroy()}}async function aU(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("destroy",t=>Promise.resolve(new oU(n,t)),e)}const Vu=.25,W_=2,lU=Math.PI*W_,vT=2,wT=.5;class cU extends Dh{constructor(e,t,i,s){super(e,t,i,s)}async init(){}randomPosition(){const e=this.size,t=this.fill,i=this.position,s=(_,v)=>{const b=me()*Vu,S=Math.atan(v/_*Math.tan(lU*b)),A=me();return A<Vu?S:A<W_*Vu?Math.PI-S:A<W_*Vu+Vu?Math.PI+S:-S},o=(_,v,b)=>_*v/Math.sqrt((v*Math.cos(b))**vT+(_*Math.sin(b))**vT),[l,u]=[e.width*wT,e.height*wT],h=s(l,u),d=o(l,u,h),g=t?d*Math.sqrt(me()):d;return{position:{x:i.x+g*Math.cos(h),y:i.y+g*Math.sin(h)}}}}class uU{generate(e,t,i,s){return new cU(e,t,i,s)}}async function hU(n,e=!0){var i;const t=n;t.checkVersion("3.8.1"),(i=t.addEmitterShapeGenerator)==null||i.call(t,"circle",new uU),await t.refresh(e)}const fU=4;var Nl;(function(n){n[n.TopLeft=0]="TopLeft",n[n.TopRight=1]="TopRight",n[n.BottomRight=2]="BottomRight",n[n.BottomLeft=3]="BottomLeft"})(Nl||(Nl={}));function bT(n,e){return n+e*(me()-Ve)}class dU extends Dh{constructor(e,t,i,s){super(e,t,i,s)}async init(){}randomPosition(){const e=this.fill,t=this.position,i=this.size;if(e)return{position:{x:bT(t.x,i.width),y:bT(t.y,i.height)}};{const s=i.width*Ve,o=i.height*Ve,l=Math.floor(me()*fU),u=(me()-Ve)*cn;switch(l){case Nl.TopLeft:return{position:{x:t.x+u*s,y:t.y-o}};case Nl.TopRight:return{position:{x:t.x-s,y:t.y+u*o}};case Nl.BottomRight:return{position:{x:t.x+u*s,y:t.y+o}};case Nl.BottomLeft:default:return{position:{x:t.x+s,y:t.y+u*o}}}}}}class pU{generate(e,t,i,s){return new dU(e,t,i,s)}}async function mU(n,e=!0){var i;const t=n;t.checkVersion("3.8.1"),(i=t.addEmitterShapeGenerator)==null||i.call(t,"square",new pU),await t.refresh(e)}class gU{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){X(e)||(e.delay!==void 0&&(this.delay=e.delay),e.quantity!==void 0&&(this.quantity=e.quantity),e.particles!==void 0&&(this.particles=ut({},e.particles)),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop))}}const ST="trail";class yU extends Yn{constructor(e){super(e),this._delay=0}clear(){}init(){}interact(e){var d,g,_,v;const t=this.container,{interactivity:i}=t;if(!t.retina.reduceFactor)return;const s=t.actualOptions,o=s.interactivity.modes.trail;if(!o)return;const l=o.delay*gt/this.container.retina.reduceFactor;if(this._delay<l&&(this._delay+=e.value),this._delay<l)return;const u=!(o.pauseOnStop&&(i.mouse.position===this._lastPosition||((d=i.mouse.position)==null?void 0:d.x)===((g=this._lastPosition)==null?void 0:g.x)&&((_=i.mouse.position)==null?void 0:_.y)===((v=this._lastPosition)==null?void 0:v.y))),h=t.interactivity.mouse.position;h?this._lastPosition={...h}:delete this._lastPosition,u&&t.particles.push(o.quantity,t.interactivity.mouse,o.particles),this._delay-=l}isEnabled(e){const t=this.container,i=t.actualOptions,s=t.interactivity.mouse,o=((e==null?void 0:e.interactivity)??i.interactivity).events;return s.clicking&&s.inside&&!!s.position&&st(ST,o.onClick.mode)||s.inside&&!!s.position&&st(ST,o.onHover.mode)}loadModeOptions(e,...t){e.trail||(e.trail=new gU);for(const i of t)e.trail.load(i==null?void 0:i.trail)}reset(){}}async function _U(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalTrail",t=>Promise.resolve(new yU(t)),e)}var _a;(function(n){n.both="both",n.horizontal="horizontal",n.vertical="vertical"})(_a||(_a={}));const vU=2,uC=Math.PI*vU,wU=360;function bU(n,e){const t=e.options.roll;if(!(t!=null&&t.enable)){e.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0};return}if(e.roll={enable:t.enable,horizontal:t.mode===_a.horizontal||t.mode===_a.both,vertical:t.mode===_a.vertical||t.mode===_a.both,angle:me()*uC,speed:ne(t.speed)/wU},t.backColor)e.backColor=Rs(n,t.backColor);else if(t.darken.enable&&t.enlighten.enable){const i=me()>=Ve?Xr.darken:Xr.enlighten;e.roll.alter={type:i,value:ne(i===Xr.darken?t.darken.value:t.enlighten.value)}}else t.darken.enable?e.roll.alter={type:Xr.darken,value:ne(t.darken.value)}:t.enlighten.enable&&(e.roll.alter={type:Xr.enlighten,value:ne(t.enlighten.value)})}function SU(n,e){const t=n.options.roll,i=n.roll;if(!i||!(t!=null&&t.enable))return;const s=i.speed*e.factor,o=uC;i.angle+=s,i.angle>o&&(i.angle-=o)}class ET{constructor(){this.enable=!1,this.value=0}load(e){X(e)||(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=ge(e.value)))}}class EU{constructor(){this.darken=new ET,this.enable=!1,this.enlighten=new ET,this.mode=_a.vertical,this.speed=25}load(e){X(e)||(e.backColor!==void 0&&(this.backColor=Je.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=ge(e.speed)))}}class TU{constructor(e){this._engine=e}getTransformValues(e){var o;const t=((o=e.roll)==null?void 0:o.enable)&&e.roll,i=t&&t.horizontal,s=t&&t.vertical;return{a:i?Math.cos(t.angle):void 0,d:s?Math.sin(t.angle):void 0}}init(e){bU(this._engine,e)}isEnabled(e){const t=e.options.roll;return!e.destroyed&&!e.spawning&&!!(t!=null&&t.enable)}loadOptions(e,...t){e.roll||(e.roll=new EU);for(const i of t)e.roll.load(i==null?void 0:i.roll)}update(e,t){this.isEnabled(e)&&SU(e,t)}}async function xU(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("roll",()=>Promise.resolve(new TU(n)),e)}const Z_=.5,AU=2,no=0,cc=1,TT=60,xT=0,RU=.01,CU=Math.PI*AU;function PU(n){const e=n.initialPosition,{dx:t,dy:i}=Lt(e,n.position),s=Math.abs(t),o=Math.abs(i),{maxDistance:l}=n.retina,u=l.horizontal,h=l.vertical;if(!u&&!h)return;const d=(u&&s>=u)??!1,g=(h&&o>=h)??!1;if((d||g)&&!n.misplaced)n.misplaced=!!u&&s>u||!!h&&o>h,u&&(n.velocity.x=n.velocity.y*Z_-n.velocity.x),h&&(n.velocity.y=n.velocity.x*Z_-n.velocity.y);else if((!u||s<u)&&(!h||o<h)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const _=n.position,v=n.velocity;u&&(_.x<e.x&&v.x<no||_.x>e.x&&v.x>no)&&(v.x*=-me()),h&&(_.y<e.y&&v.y<no||_.y>e.y&&v.y>no)&&(v.y*=-me())}}function IU(n,e,t,i,s,o){kU(n,o);const l=n.gravity,u=l!=null&&l.enable&&l.inverse?-1:cc;s&&t&&(n.velocity.x+=s*o.factor/(TT*t)),l!=null&&l.enable&&t&&(n.velocity.y+=u*(l.acceleration*o.factor)/(TT*t));const h=n.moveDecay;n.velocity.multTo(h);const d=n.velocity.mult(t);l!=null&&l.enable&&i>no&&(!l.inverse&&d.y>=no&&d.y>=i||l.inverse&&d.y<=no&&d.y<=-i)&&(d.y=u*i,t&&(n.velocity.y=d.y/t));const g=n.options.zIndex,_=(cc-n.zIndexFactor)**g.velocityRate;d.multTo(_);const{position:v}=n;v.addTo(d),e.vibrate&&(v.x+=Math.sin(v.x*Math.cos(v.y)),v.y+=Math.cos(v.y*Math.sin(v.x)))}function OU(n,e){const t=n.container;if(!n.spin)return;const i=n.spin.direction===Vt.clockwise,s={x:i?Math.cos:Math.sin,y:i?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*s.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*s.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const o=Math.max(t.canvas.size.width,t.canvas.size.height),l=o*Z_;n.spin.radius>l?(n.spin.radius=l,n.spin.acceleration*=-1):n.spin.radius<xT&&(n.spin.radius=xT,n.spin.acceleration*=-1),n.spin.angle+=e*RU*(cc-n.spin.radius/o)}function kU(n,e){var l;const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const o=(l=n.pathGenerator)==null?void 0:l.generate(n,e);o&&n.velocity.addTo(o),i.clamp&&(n.velocity.x=Kn(n.velocity.x,-1,cc),n.velocity.y=Kn(n.velocity.y,-1,cc)),n.lastPathTime-=n.pathDelay}function DU(n){return n.slow.inRange?n.slow.factor:cc}function MU(n){const e=n.container,t=n.options,i=t.move.spin;if(!i.enable)return;const s=i.position??{x:50,y:50},o=.01,l={x:s.x*o*e.canvas.size.width,y:s.y*o*e.canvas.size.height},u=n.getPosition(),h=wn(u,l),d=ne(i.acceleration);n.retina.spinAcceleration=d*e.retina.pixelRatio,n.spin={center:l,direction:n.velocity.x>=no?Vt.clockwise:Vt.counterClockwise,angle:me()*CU,radius:h,acceleration:n.retina.spinAcceleration}}const VU=2,NU=1,LU=1;class zU{init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:ne(i.acceleration),inverse:i.inverse},MU(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var A,x;const i=e.options,s=i.move;if(!s.enable)return;const o=e.container,l=o.retina.pixelRatio;(A=e.retina).moveSpeed??(A.moveSpeed=ne(s.speed)*l),(x=e.retina).moveDrift??(x.moveDrift=ne(e.options.move.drift)*l);const u=DU(e),h=e.retina.moveSpeed*o.retina.reduceFactor,d=e.retina.moveDrift,g=li(i.size.value)*l,_=s.size?e.getRadius()/g:NU,v=t.factor||LU,b=h*_*u*v/VU,S=e.retina.maxSpeed??o.retina.maxSpeed;s.spin.enable?OU(e,b):IU(e,s,b,S,d,t),PU(e)}}async function UU(n,e=!0){n.checkVersion("3.8.1"),await n.addMover("base",()=>Promise.resolve(new zU),e)}const GU=2,BU=Math.PI*GU,jU=0,AT={x:0,y:0};function HU(n){const{context:e,particle:t,radius:i}=n;t.circleRange||(t.circleRange={min:jU,max:BU});const s=t.circleRange;e.arc(AT.x,AT.y,i,s.min,s.max,!1)}const FU=12,qU=360,RT=0;class $U{constructor(){this.validTypes=["circle"]}draw(e){HU(e)}getSidesCount(){return FU}particleInit(e,t){const i=t.shapeData,s=(i==null?void 0:i.angle)??{max:qU,min:RT};t.circleRange=to(s)?{min:Hi(s.min),max:Hi(s.max)}:{min:RT,max:Hi(s)}}}async function QU(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new $U,e)}class KU{constructor(e,t){this._container=e,this._engine=t}init(e){const t=Rs(this._engine,e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=f0(t,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:s}=e.options.color.animation,{color:o}=e;return!e.destroyed&&!e.spawning&&((o==null?void 0:o.h.value)!==void 0&&t.enable||(o==null?void 0:o.s.value)!==void 0&&i.enable||(o==null?void 0:o.l.value)!==void 0&&s.enable)}update(e,t){d0(e.color,t)}}async function YU(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("color",t=>Promise.resolve(new KU(t,n)),e)}var ua;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=4]="a"})(ua||(ua={}));const XU=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,WU=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,gd=16,ZU=1,JU=255;class eG{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!(e!=null&&e.startsWith(this.stringPrefix)))return;const t=e.replace(XU,(s,o,l,u,h)=>o+o+l+l+u+u+(h!==void 0?h+h:"")),i=WU.exec(t);return i?{a:i[ua.a]!==void 0?parseInt(i[ua.a],gd)/JU:ZU,b:parseInt(i[ua.b],gd),g:parseInt(i[ua.g],gd),r:parseInt(i[ua.r],gd)}:void 0}}async function tG(n,e=!0){n.checkVersion("3.8.1"),await n.addColorManager(new eG,e)}var Ll;(function(n){n[n.h=1]="h",n[n.s=2]="s",n[n.l=3]="l",n[n.a=5]="a"})(Ll||(Ll={}));class nG{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return oc(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return oc({h:ne(i.h),l:ne(i.l),s:ne(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),s=4,o=1,l=10;return i?FN({a:i.length>s?Ih(i[Ll.a]):o,h:parseInt(i[Ll.h],l),l:parseInt(i[Ll.l],l),s:parseInt(i[Ll.s],l)}):void 0}}async function iG(n,e=!0){n.checkVersion("3.8.1"),await n.addColorManager(new nG,e)}class sG{constructor(e){this.container=e}init(e){const t=e.options.opacity,i=1;e.opacity=KR(t,i);const s=t.animation;s.enable&&(e.opacity.velocity=ne(s.speed)/ze*this.container.retina.reduceFactor,s.sync||(e.opacity.velocity*=me()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){!this.isEnabled(e)||!e.opacity||rc(e,e.opacity,!0,e.options.opacity.animation.destroy,t)}}async function rG(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("opacity",t=>Promise.resolve(new sG(t)),e)}const Dp=0,Ql=0;function oG(n){if(n.outMode!==$t.bounce&&n.outMode!==$t.split||n.direction!==qe.left&&n.direction!==qe.right)return;n.bounds.right<Ql&&n.direction===qe.left?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction===qe.right&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction===qe.right&&n.bounds.right>=n.canvasSize.width&&e>Dp||n.direction===qe.left&&n.bounds.left<=Ql&&e<Dp){const s=ne(n.particle.options.bounce.horizontal.value);n.particle.velocity.x*=-s,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction===qe.right?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=Ql&&n.direction===qe.left&&(n.particle.position.x=i),n.outMode===$t.split&&n.particle.destroy()}function aG(n){if(n.outMode!==$t.bounce&&n.outMode!==$t.split||n.direction!==qe.bottom&&n.direction!==qe.top)return;n.bounds.bottom<Ql&&n.direction===qe.top?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction===qe.bottom&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction===qe.bottom&&n.bounds.bottom>=n.canvasSize.height&&e>Dp||n.direction===qe.top&&n.bounds.top<=Ql&&e<Dp){const s=ne(n.particle.options.bounce.vertical.value);n.particle.velocity.y*=-s,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction===qe.bottom?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=Ql&&n.direction===qe.top&&(n.particle.position.y=i),n.outMode===$t.split&&n.particle.destroy()}class lG{constructor(e){this.container=e,this.modes=[$t.bounce,$t.split]}update(e,t,i,s){if(!this.modes.includes(s))return;const o=this.container;let l=!1;for(const v of o.plugins.values())if(v.particleBounce!==void 0&&(l=v.particleBounce(e,i,t)),l)break;if(l)return;const u=e.getPosition(),h=e.offset,d=e.getRadius(),g=kh(u,d),_=o.canvas.size;oG({particle:e,outMode:s,direction:t,bounds:g,canvasSize:_,offset:h,size:d}),aG({particle:e,outMode:s,direction:t,bounds:g,canvasSize:_,offset:h,size:d})}}const yd=0;class cG{constructor(e){this.container=e,this.modes=[$t.destroy]}update(e,t,i,s){if(!this.modes.includes(s))return;const o=this.container;switch(e.outType){case Fi.normal:case Fi.outside:if(Oh(e.position,o.canvas.size,Ue.origin,e.getRadius(),t))return;break;case Fi.inside:{const{dx:l,dy:u}=Lt(e.position,e.moveCenter),{x:h,y:d}=e.velocity;if(h<yd&&l>e.moveCenter.radius||d<yd&&u>e.moveCenter.radius||h>=yd&&l<-e.moveCenter.radius||d>=yd&&u<-e.moveCenter.radius)return;break}}o.particles.remove(e,e.group,!0)}}const _d=0;class uG{constructor(e){this.container=e,this.modes=[$t.none]}update(e,t,i,s){if(!this.modes.includes(s)||((e.options.move.distance.horizontal&&(t===qe.left||t===qe.right))??(e.options.move.distance.vertical&&(t===qe.top||t===qe.bottom))))return;const o=e.options.move.gravity,l=this.container,u=l.canvas.size,h=e.getRadius();if(o.enable){const d=e.position;(!o.inverse&&d.y>u.height+h&&t===qe.bottom||o.inverse&&d.y<-h&&t===qe.top)&&l.particles.remove(e)}else{if(e.velocity.y>_d&&e.position.y<=u.height+h||e.velocity.y<_d&&e.position.y>=-h||e.velocity.x>_d&&e.position.x<=u.width+h||e.velocity.x<_d&&e.position.x>=-h)return;Oh(e.position,l.canvas.size,Ue.origin,h,t)||l.particles.remove(e)}}}const vd=0,wd=0;class hG{constructor(e){this.container=e,this.modes=[$t.out]}update(e,t,i,s){if(!this.modes.includes(s))return;const o=this.container;switch(e.outType){case Fi.inside:{const{x:l,y:u}=e.velocity,h=Ue.origin;h.length=e.moveCenter.radius,h.angle=e.velocity.angle+Math.PI,h.addTo(Ue.create(e.moveCenter));const{dx:d,dy:g}=Lt(e.position,h);if(l<=vd&&d>=wd||u<=vd&&g>=wd||l>=vd&&d<=wd||u>=vd&&g<=wd)return;e.position.x=Math.floor(Nt({min:0,max:o.canvas.size.width})),e.position.y=Math.floor(Nt({min:0,max:o.canvas.size.height}));const{dx:_,dy:v}=Lt(e.position,e.moveCenter);e.direction=Math.atan2(-v,-_),e.velocity.angle=e.direction;break}default:{if(Oh(e.position,o.canvas.size,Ue.origin,e.getRadius(),t))return;switch(e.outType){case Fi.outside:{e.position.x=Math.floor(Nt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Nt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:l,dy:u}=Lt(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(u,l),e.velocity.angle=e.direction);break}case Fi.normal:{const l=e.options.move.warp,u=o.canvas.size,h={bottom:u.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:u.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},d=e.getRadius(),g=kh(e.position,d);t===qe.right&&g.left>u.width+e.offset.x?(e.position.x=h.left,e.initialPosition.x=e.position.x,l||(e.position.y=me()*u.height,e.initialPosition.y=e.position.y)):t===qe.left&&g.right<-e.offset.x&&(e.position.x=h.right,e.initialPosition.x=e.position.x,l||(e.position.y=me()*u.height,e.initialPosition.y=e.position.y)),t===qe.bottom&&g.top>u.height+e.offset.y?(l||(e.position.x=me()*u.width,e.initialPosition.x=e.position.x),e.position.y=h.top,e.initialPosition.y=e.position.y):t===qe.top&&g.bottom<-e.offset.y&&(l||(e.position.x=me()*u.width,e.initialPosition.x=e.position.x),e.position.y=h.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const fG=(n,e)=>n.default===e||n.bottom===e||n.left===e||n.right===e||n.top===e;class dG{constructor(e){this._addUpdaterIfMissing=(t,i,s)=>{const o=t.options.move.outModes;!this.updaters.has(i)&&fG(o,i)&&this.updaters.set(i,s(this.container))},this._updateOutMode=(t,i,s,o)=>{for(const l of this.updaters.values())l.update(t,o,i,s)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,$t.bounce,t=>new lG(t)),this._addUpdaterIfMissing(e,$t.out,t=>new hG(t)),this._addUpdaterIfMissing(e,$t.destroy,t=>new cG(t)),this._addUpdaterIfMissing(e,$t.none,t=>new uG(t))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,qe.bottom),this._updateOutMode(e,t,i.left??i.default,qe.left),this._updateOutMode(e,t,i.right??i.default,qe.right),this._updateOutMode(e,t,i.top??i.default,qe.top)}}async function pG(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("outModes",t=>Promise.resolve(new dG(t)),e)}var zl;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=5]="a"})(zl||(zl={}));class mG{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:ne(i.r),g:ne(i.g),b:ne(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),s=10;return i?{a:i.length>4?Ih(i[zl.a]):1,b:parseInt(i[zl.b],s),g:parseInt(i[zl.g],s),r:parseInt(i[zl.r],s)}:void 0}}async function gG(n,e=!0){n.checkVersion("3.8.1"),await n.addColorManager(new mG,e)}const ia=0;class yG{init(e){const t=e.container,i=e.options.size,s=i.animation;s.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/ze*t.retina.reduceFactor,s.sync||(e.size.velocity*=me()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??ia)<=ia||(e.size.maxLoops??ia)>ia&&(e.size.loops??ia)<(e.size.maxLoops??ia))}reset(e){e.size.loops=ia}update(e,t){this.isEnabled(e)&&rc(e,e.size,!0,e.options.size.animation.destroy,t)}}async function _G(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("size",()=>Promise.resolve(new yG),e)}async function vG(n,e=!0){n.checkVersion("3.8.1"),await tG(n,!1),await iG(n,!1),await gG(n,!1),await UU(n,!1),await QU(n,!1),await YU(n,!1),await rG(n,!1),await pG(n,!1),await _G(n,!1),await n.refresh(e)}async function wG(n,e=!0){n.checkVersion("3.8.1"),await n.addEasing(tt.easeInQuad,t=>t**2,!1),await n.addEasing(tt.easeOutQuad,t=>1-(1-t)**2,!1),await n.addEasing(tt.easeInOutQuad,t=>t<.5?2*t**2:1-(-2*t+2)**2/2,!1),await n.refresh(e)}function bG(n,e){const{context:t,opacity:i}=n,s=.5,o=t.globalAlpha;if(!e)return;const l=e.width,u=l*s;t.globalAlpha=i,t.drawImage(e,-u,-u,l,l),t.globalAlpha=o}const Yy='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',CT=0;class SG{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&(t==null||t.close()),this._emojiShapeDict.delete(e)}draw(e){const t=e.particle.emojiDataKey;if(!t)return;const i=this._emojiShapeDict.get(t);i&&bG(e,i)}async init(e){const t=e.actualOptions,{validTypes:i}=this;if(!i.find(l=>st(l,t.particles.shape.type)))return;const s=[Q_(Yy)],o=i.map(l=>t.particles.shape.options[l]).find(l=>!!l);o&&vt(o,l=>{l.font&&s.push(Q_(l.font))}),await Promise.all(s)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,t){const s=t.shapeData;if(!(s!=null&&s.value))return;const o=qt(s.value,t.randomIndexData);if(!o)return;const l=typeof o=="string"?{font:s.font??Yy,padding:s.padding??CT,value:o}:{font:Yy,padding:CT,...s,...o},u=l.font,h=l.value,d=`${h}_${u}`;if(this._emojiShapeDict.has(d)){t.emojiDataKey=d;return}const g=l.padding*2,_=li(t.size.value),v=_+g,b=v*2;let S;if(typeof OffscreenCanvas<"u"){const A=new OffscreenCanvas(b,b),x=A.getContext("2d");if(!x)return;x.font=`400 ${_*2}px ${u}`,x.textBaseline="middle",x.textAlign="center",x.fillText(h,v,v),S=A.transferToImageBitmap()}else{const A=document.createElement("canvas");A.width=b,A.height=b;const x=A.getContext("2d");if(!x)return;x.font=`400 ${_*2}px ${u}`,x.textBaseline="middle",x.textAlign="center",x.fillText(h,v,v),S=A}this._emojiShapeDict.set(d,S),t.emojiDataKey=d}}async function EG(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new SG,e)}const TG=1,xG=1,hC=0;function fC(n,e,t,i,s,o){const l=e.actualOptions.interactivity.modes.attract;if(!l)return;const u=e.particles.quadTree.query(s,o);for(const h of u){const{dx:d,dy:g,distance:_}=Lt(h.position,t),v=l.speed*l.factor,b=Kn(n.getEasing(l.easing)(xG-_/i)*v,TG,l.maxSpeed),S=Ue.create(_?d/_*b:v,_?g/_*b:v);h.position.subFrom(S)}}function AG(n,e,t){e.attract||(e.attract={particles:[]});const{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){const s=e.interactivity.mouse.clickPosition,o=e.retina.attractModeDistance;if(!o||o<hC||!s)return;fC(n,e,s,o,new On(s.x,s.y,o),l=>t(l))}else i.clicking===!1&&(i.particles=[])}function RG(n,e,t){const i=e.interactivity.mouse.position,s=e.retina.attractModeDistance;!s||s<hC||!i||fC(n,e,i,s,new On(i.x,i.y,s),o=>t(o))}class CG{constructor(){this.distance=200,this.duration=.4,this.easing=tt.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){X(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const Nu="attract";let PG=class extends Yn{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const s=this.container.actualOptions,o=s.interactivity.modes.attract;if(!(!o||i!==Nu)){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const l of t.attract.particles)this.isEnabled(l)&&l.velocity.setTo(l.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},o.duration*gt)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===Ca,s=t.interactivity.events,{enable:o,mode:l}=s.onHover,{enable:u,mode:h}=s.onClick;i&&o&&st(Nu,l)?RG(this._engine,this.container,d=>this.isEnabled(d)):u&&st(Nu,h)&&AG(this._engine,this.container,d=>this.isEnabled(d))}isEnabled(e){const t=this.container,i=t.actualOptions,s=t.interactivity.mouse,o=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!s.position||!o.onHover.enable)&&(!s.clickPosition||!o.onClick.enable))return!1;const l=o.onHover.mode,u=o.onClick.mode;return st(Nu,l)||st(Nu,u)}loadModeOptions(e,...t){e.attract||(e.attract=new CG);for(const i of t)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function IG(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalAttract",t=>Promise.resolve(new PG(n,t)),e)}const OG=2,Zd=.5,kG=Math.PI*Zd,PT=2,dC=10,DG=0;function pC(n,e,t,i,s){const o=n.particles.quadTree.query(i,s);for(const l of o)i instanceof On?$R(K_(l),{position:e,mass:t**OG*kG,velocity:Ue.origin,factor:Ue.origin}):i instanceof Ki&&LN(l,kh(e,t))}function MG(n,e,t,i){const s=document.querySelectorAll(e);s.length&&s.forEach(o=>{const l=o,u=n.retina.pixelRatio,h={x:(l.offsetLeft+l.offsetWidth*Zd)*u,y:(l.offsetTop+l.offsetHeight*Zd)*u},d=l.offsetWidth*Zd*u,g=dC*u,_=t.type===ac.circle?new On(h.x,h.y,d+g):new Ki(l.offsetLeft*u-g,l.offsetTop*u-g,l.offsetWidth*u+g*PT,l.offsetHeight*u+g*PT);i(h,d,_)})}function VG(n,e,t,i){c0(t,e,(s,o)=>MG(n,s,o,(l,u,h)=>pC(n,l,u,h,i)))}function NG(n,e){const t=n.retina.pixelRatio,i=dC*t,s=n.interactivity.mouse.position,o=n.retina.bounceModeDistance;!o||o<DG||!s||pC(n,s,o,new On(s.x,s.y,o+i),e)}class LG{constructor(){this.distance=200}load(e){X(e)||e.distance!==void 0&&(this.distance=e.distance)}}const bd="bounce";class zG extends Yn{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,s=e.interactivity.status===Ca,o=i.onHover.enable,l=i.onHover.mode,u=i.onDiv;s&&o&&st(bd,l)?NG(this.container,h=>this.isEnabled(h)):VG(this.container,u,bd,h=>this.isEnabled(h))}isEnabled(e){const t=this.container,i=t.actualOptions,s=t.interactivity.mouse,o=((e==null?void 0:e.interactivity)??i.interactivity).events,l=o.onDiv;return!!s.position&&o.onHover.enable&&st(bd,o.onHover.mode)||l0(bd,l)}loadModeOptions(e,...t){e.bounce||(e.bounce=new LG);for(const i of t)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function UG(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalBounce",t=>Promise.resolve(new zG(t)),e)}class mC{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!X(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=tn(this.color)?void 0:this.color;this.color=vt(e.color,i=>Je.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class GG extends mC{constructor(){super(),this.selectors=[]}load(e){super.load(e),!X(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class BG extends mC{load(e){super.load(e),!X(e)&&(this.divs=vt(e.divs,t=>{const i=new GG;return i.load(t),i}))}}var ps;(function(n){n.color="color",n.opacity="opacity",n.size="size"})(ps||(ps={}));function IT(n,e,t,i){if(e>=t){const s=n+(e-t)*i;return Kn(s,n,e)}else if(e<t){const s=n-(t-e)*i;return Kn(s,e,n)}}const sa="bubble",Xy=0,jG=0,HG=2,OT=1,kT=1,FG=0,qG=0,Wy=.5,Zy=1;class $G extends Yn{constructor(e,t){super(e),this._clickBubble=()=>{var g;const i=this.container,s=i.actualOptions,o=i.interactivity.mouse.clickPosition,l=s.interactivity.modes.bubble;if(!l||!o)return;i.bubble||(i.bubble={});const u=i.retina.bubbleModeDistance;if(!u||u<Xy)return;const h=i.particles.quadTree.queryCircle(o,u,_=>this.isEnabled(_)),{bubble:d}=i;for(const _ of h){if(!d.clicking)continue;_.bubble.inRange=!d.durationEnd;const v=_.getPosition(),b=wn(v,o),S=(new Date().getTime()-(i.interactivity.mouse.clickTime??jG))/gt;S>l.duration&&(d.durationEnd=!0),S>l.duration*HG&&(d.clicking=!1,d.durationEnd=!1);const A={bubbleObj:{optValue:i.retina.bubbleModeSize,value:_.bubble.radius},particlesObj:{optValue:li(_.options.size.value)*i.retina.pixelRatio,value:_.size.value},type:ps.size};this._process(_,b,S,A);const x={bubbleObj:{optValue:l.opacity,value:_.bubble.opacity},particlesObj:{optValue:li(_.options.opacity.value),value:((g=_.opacity)==null?void 0:g.value)??OT},type:ps.opacity};this._process(_,b,S,x),!d.durationEnd&&b<=u?this._hoverBubbleColor(_,b):delete _.bubble.color}},this._hoverBubble=()=>{const i=this.container,s=i.interactivity.mouse.position,o=i.retina.bubbleModeDistance;if(!o||o<Xy||!s)return;const l=i.particles.quadTree.queryCircle(s,o,u=>this.isEnabled(u));for(const u of l){u.bubble.inRange=!0;const h=u.getPosition(),d=wn(h,s),g=kT-d/o;d<=o?g>=qG&&i.interactivity.status===Ca&&(this._hoverBubbleSize(u,g),this._hoverBubbleOpacity(u,g),this._hoverBubbleColor(u,g)):this.reset(u),i.interactivity.status===G_&&this.reset(u)}},this._hoverBubbleColor=(i,s,o)=>{const l=this.container.actualOptions,u=o??l.interactivity.modes.bubble;if(u){if(!i.bubble.finalColor){const h=u.color;if(!h)return;const d=qt(h);i.bubble.finalColor=Rs(this._engine,d)}if(i.bubble.finalColor)if(u.mix){i.bubble.color=void 0;const h=i.getFillColor();i.bubble.color=h?ZR(h0(h,i.bubble.finalColor,kT-s,s)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,s,o)=>{var v,b;const l=this.container,u=l.actualOptions,h=(o==null?void 0:o.opacity)??((v=u.interactivity.modes.bubble)==null?void 0:v.opacity);if(!h)return;const d=i.options.opacity.value,g=((b=i.opacity)==null?void 0:b.value)??OT,_=IT(g,h,li(d),s);_!==void 0&&(i.bubble.opacity=_)},this._hoverBubbleSize=(i,s,o)=>{const l=this.container,u=o!=null&&o.size?o.size*l.retina.pixelRatio:l.retina.bubbleModeSize;if(u===void 0)return;const h=li(i.options.size.value)*l.retina.pixelRatio,d=i.size.value,g=IT(d,u,h,s);g!==void 0&&(i.bubble.radius=g)},this._process=(i,s,o,l)=>{const u=this.container,h=l.bubbleObj.optValue,d=u.actualOptions,g=d.interactivity.modes.bubble;if(!g||h===void 0)return;const _=g.duration,v=u.retina.bubbleModeDistance,b=l.particlesObj.optValue,S=l.bubbleObj.value,A=l.particlesObj.value??FG,x=l.type;if(!(!v||v<Xy||h===b))if(u.bubble||(u.bubble={}),u.bubble.durationEnd)S&&(x===ps.size&&delete i.bubble.radius,x===ps.opacity&&delete i.bubble.opacity);else if(s<=v){if((S??A)!==h){const U=A-o*(A-h)/_;x===ps.size&&(i.bubble.radius=U),x===ps.opacity&&(i.bubble.opacity=U)}}else x===ps.size&&delete i.bubble.radius,x===ps.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,s,o)=>{const l=this.container,u=document.querySelectorAll(s),h=l.actualOptions.interactivity.modes.bubble;!h||!u.length||u.forEach(d=>{const g=d,_=l.retina.pixelRatio,v={x:(g.offsetLeft+g.offsetWidth*Wy)*_,y:(g.offsetTop+g.offsetHeight*Wy)*_},b=g.offsetWidth*Wy*_,S=o.type===ac.circle?new On(v.x,v.y,b):new Ki(g.offsetLeft*_,g.offsetTop*_,g.offsetWidth*_,g.offsetHeight*_),A=l.particles.quadTree.query(S,x=>this.isEnabled(x));for(const x of A){if(!S.contains(x.getPosition()))continue;x.bubble.inRange=!0;const O=h.divs,U=qR(O,g);(!x.bubble.div||x.bubble.div!==g)&&(this.clear(x,i,!0),x.bubble.div=g),this._hoverBubbleSize(x,Zy,U),this._hoverBubbleOpacity(x,Zy,U),this._hoverBubbleColor(x,Zy,U)}})},this._engine=t,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===sa&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const t=this.container.actualOptions,i=t.interactivity.events,s=i.onHover,o=i.onClick,l=s.enable,u=s.mode,h=o.enable,d=o.mode,g=i.onDiv;l&&st(sa,u)?this._hoverBubble():h&&st(sa,d)?this._clickBubble():c0(sa,g,(_,v)=>this._singleSelectorHover(e,_,v))}isEnabled(e){const t=this.container,i=t.actualOptions,s=t.interactivity.mouse,o=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:l,onDiv:u,onHover:h}=o,d=l0(sa,u);return d||h.enable&&s.position||l.enable&&s.clickPosition?st(sa,h.mode)||st(sa,l.mode)||d:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new BG);for(const i of t)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function QG(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalBubble",t=>Promise.resolve(new $G(t,n)),e)}class KG{constructor(){this.opacity=.5}load(e){X(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class YG{constructor(){this.distance=80,this.links=new KG,this.radius=60}load(e){X(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const DT=0,MT=1,XG=0;function WG(n,e,t,i){const s=Math.floor(t.getRadius()/e.getRadius()),o=e.getFillColor(),l=t.getFillColor();if(!o||!l)return;const u=e.getPosition(),h=t.getPosition(),d=h0(o,l,e.getRadius(),t.getRadius()),g=n.createLinearGradient(u.x,u.y,h.x,h.y);return g.addColorStop(DT,mo(o,i)),g.addColorStop(Kn(s,DT,MT),Un(d,i)),g.addColorStop(MT,mo(l,i)),g}function ZG(n,e,t,i,s){Yu(n,i,s),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function JG(n,e,t,i){const s=n.actualOptions,o=s.interactivity.modes.connect;if(o)return WG(e,t,i,o.links.opacity)}function eB(n,e,t){n.canvas.draw(i=>{const s=JG(n,i,e,t);if(!s)return;const o=e.getPosition(),l=t.getPosition();ZG(i,e.retina.linksWidth??XG,s,o,l)})}const tB="connect",VT=0;class nB extends Yn{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:s,connectModeRadius:o}=e.retina;if(!s||s<VT||!o||o<VT||!i)return;const l=Math.abs(o),u=e.particles.quadTree.queryCircle(i,l,h=>this.isEnabled(h));u.forEach((h,d)=>{const g=h.getPosition(),_=1;for(const v of u.slice(d+_)){const b=v.getPosition(),S=Math.abs(s),A=Math.abs(g.x-b.x),x=Math.abs(g.y-b.y);A<S&&x<S&&eB(e,h,v)}})}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return s.onHover.enable&&i.position?st(tB,s.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new YG);for(const i of t)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function iB(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalConnect",t=>Promise.resolve(new nB(t)),e)}class sB{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){X(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Je.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class rB{constructor(){this.distance=100,this.links=new sB}load(e){X(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const oB=0;function aB(n,e,t,i,s,o){Yu(n,t,i),n.strokeStyle=Un(s,o),n.lineWidth=e,n.stroke()}function lB(n,e,t,i,s){n.canvas.draw(o=>{const l=e.getPosition();aB(o,e.retina.linksWidth??oB,l,s,t,i)})}const cB="grab",uB=0,hB=0;class fB extends Yn{constructor(e,t){super(e),this._engine=t}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){var u;const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==Ca)return;const s=e.interactivity.mouse.position;if(!s)return;const o=e.retina.grabModeDistance;if(!o||o<uB)return;const l=e.particles.quadTree.queryCircle(s,o,h=>this.isEnabled(h));for(const h of l){const d=h.getPosition(),g=wn(d,s);if(g>o)continue;const _=i.modes.grab.links,v=_.opacity,b=v-g*v/o;if(b<=hB)continue;const S=_.color??((u=h.options.links)==null?void 0:u.color);if(!e.particles.grabLineColor&&S){const x=i.modes.grab.links;e.particles.grabLineColor=eC(this._engine,S,x.blink,x.consent)}const A=Y_(h,void 0,e.particles.grabLineColor);A&&lB(e,h,A,b,s)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return s.onHover.enable&&!!i.position&&st(cB,s.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new rB);for(const i of t)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function dB(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalGrab",t=>Promise.resolve(new fB(t,n)),e)}const pB="pause";class mB extends Yn{constructor(e){super(e),this.handleClickMode=t=>{if(t!==pB)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function gB(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalPause",t=>Promise.resolve(new mB(t)),e)}class yB{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(X(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity;t!==void 0&&(this.quantity=ge(t))}}const _B="push",vB=0;class wB extends Yn{constructor(e){super(e),this.handleClickMode=t=>{if(t!==_B)return;const i=this.container,s=i.actualOptions,o=s.interactivity.modes.push;if(!o)return;const l=ne(o.quantity);if(l<=vB)return;const u=As([void 0,...o.groups]),h=u!==void 0?i.actualOptions.particles.groups[u]:void 0;i.particles.push(l,i.interactivity.mouse,h,u)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new yB);for(const i of t)e.push.load(i==null?void 0:i.push)}reset(){}}async function bB(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalPush",t=>Promise.resolve(new wB(t)),e)}class SB{constructor(){this.quantity=2}load(e){if(X(e))return;const t=e.quantity;t!==void 0&&(this.quantity=ge(t))}}const EB="remove";class TB extends Yn{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,s=i.actualOptions;if(!s.interactivity.modes.remove||t!==EB)return;const o=ne(s.interactivity.modes.remove.quantity);i.particles.removeQuantity(o)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new SB);for(const i of t)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function xB(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalRemove",t=>Promise.resolve(new TB(t)),e)}class gC{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=tt.easeOutQuad}load(e){X(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class AB extends gC{constructor(){super(),this.selectors=[]}load(e){super.load(e),!X(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class RB extends gC{load(e){super.load(e),!X(e)&&(this.divs=vt(e.divs,t=>{const i=new AB;return i.load(t),i}))}}const ra="repulse",CB=0,PB=6,IB=3,OB=2,kB=0,DB=0,MB=1,Jy=.5;let VB=class extends Yn{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,s=i.actualOptions.interactivity.modes.repulse;if(!s)return;const o=i.repulse??{particles:[]};if(o.finish||(o.count||(o.count=0),o.count++,o.count===i.particles.count&&(o.finish=!0)),o.clicking){const l=i.retina.repulseModeDistance;if(!l||l<CB)return;const u=Math.pow(l/PB,IB),h=i.interactivity.mouse.clickPosition;if(h===void 0)return;const d=new On(h.x,h.y,u),g=i.particles.quadTree.query(d,_=>this.isEnabled(_));for(const _ of g){const{dx:v,dy:b,distance:S}=Lt(h,_.position),A=S**OB,x=s.speed,O=-u*x/A;if(A<=u){o.particles.push(_);const U=Ue.create(v,b);U.length=O,_.velocity.setTo(U)}}}else if(o.clicking===!1){for(const l of o.particles)l.velocity.setTo(l.initialVelocity);o.particles=[]}},this._hoverRepulse=()=>{const i=this.container,s=i.interactivity.mouse.position,o=i.retina.repulseModeDistance;!o||o<kB||!s||this._processRepulse(s,o,new On(s.x,s.y,o))},this._processRepulse=(i,s,o,l)=>{const u=this.container,h=u.particles.quadTree.query(o,x=>this.isEnabled(x)),d=u.actualOptions.interactivity.modes.repulse;if(!d)return;const{easing:g,speed:_,factor:v,maxSpeed:b}=d,S=this._engine.getEasing(g),A=((l==null?void 0:l.speed)??_)*v;for(const x of h){const{dx:O,dy:U,distance:L}=Lt(x.position,i),H=Kn(S(MB-L/s)*A,DB,b),W=Ue.create(L?O/L*H:A,L?U/L*H:A);x.position.addTo(W)}},this._singleSelectorRepulse=(i,s)=>{const o=this.container,l=o.actualOptions.interactivity.modes.repulse;if(!l)return;const u=document.querySelectorAll(i);u.length&&u.forEach(h=>{const d=h,g=o.retina.pixelRatio,_={x:(d.offsetLeft+d.offsetWidth*Jy)*g,y:(d.offsetTop+d.offsetHeight*Jy)*g},v=d.offsetWidth*Jy*g,b=s.type===ac.circle?new On(_.x,_.y,v):new Ki(d.offsetLeft*g,d.offsetTop*g,d.offsetWidth*g,d.offsetHeight*g),S=l.divs,A=qR(S,d);this._processRepulse(_,v,b,A)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const s=this.container.actualOptions,o=s.interactivity.modes.repulse;if(!o||i!==ra)return;t.repulse||(t.repulse={particles:[]});const l=t.repulse;l.clicking=!0,l.count=0;for(const u of t.repulse.particles)this.isEnabled(u)&&u.velocity.setTo(u.initialVelocity);l.particles=[],l.finish=!1,setTimeout(()=>{t.destroyed||(l.clicking=!1)},o.duration*gt)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===Ca,s=t.interactivity.events,o=s.onHover,l=o.enable,u=o.mode,h=s.onClick,d=h.enable,g=h.mode,_=s.onDiv;i&&l&&st(ra,u)?this._hoverRepulse():d&&st(ra,g)?this._clickRepulse():c0(ra,_,(v,b)=>this._singleSelectorRepulse(v,b))}isEnabled(e){const t=this.container,i=t.actualOptions,s=t.interactivity.mouse,o=((e==null?void 0:e.interactivity)??i.interactivity).events,l=o.onDiv,u=o.onHover,h=o.onClick,d=l0(ra,l);if(!(d||u.enable&&s.position||h.enable&&s.clickPosition))return!1;const g=u.mode,_=h.mode;return st(ra,g)||st(ra,_)||d}loadModeOptions(e,...t){e.repulse||(e.repulse=new RB);for(const i of t)e.repulse.load(i==null?void 0:i.repulse)}reset(){}};async function NB(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalRepulse",t=>Promise.resolve(new VB(n,t)),e)}class LB{constructor(){this.factor=3,this.radius=200}load(e){X(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const zB="slow",UB=0;class GB extends Yn{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return s.onHover.enable&&!!i.position&&st(zB,s.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new LB);for(const i of t)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,s=t.interactivity.mouse.position,o=t.retina.slowModeRadius,l=i.interactivity.modes.slow;if(!l||!o||o<UB||!s)return;const u=e.getPosition(),h=wn(s,u),d=h/o,g=l.factor,{slow:_}=e;h>o||(_.inRange=!0,_.factor=d/g)}}async function BB(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalSlow",t=>Promise.resolve(new GB(t)),e)}const jB=0,HB=1,FB=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function qB(n,e,t){const{svgData:i}=n;if(!i)return"";const s=mo(e,t);if(i.includes("fill"))return i.replace(FB,()=>s);const o=i.indexOf(">");return`${i.substring(jB,o)} fill="${s}"${i.substring(o)}`}async function hm(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,mr().error(`${un} loading image: ${n.source}`),e()}),t.src=n.source})}async function $B(n){if(n.type!=="svg"){await hm(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(mr().error(`${un} Image not found`),n.error=!0),n.loading=!1}function QB(n,e,t,i){var l;const s=qB(n,t,((l=i.opacity)==null?void 0:l.value)??HB),o={color:t,gif:e.gif,data:{...n,svgData:s},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(u=>{const h=new Blob([s],{type:"image/svg+xml"}),d=URL||window.URL||window.webkitURL||window,g=d.createObjectURL(h),_=new Image;_.addEventListener("load",()=>{o.loaded=!0,o.element=_,u(o),d.revokeObjectURL(g)});const v=async()=>{d.revokeObjectURL(g);const b={...n,error:!1,loading:!0};await hm(b),o.loaded=!0,o.element=b.element,u(o)};_.addEventListener("error",()=>void v()),_.src=g})}const e_=[0,4,2,1],NT=[8,8,4,2];class KB{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,s)=>i+String.fromCharCode(s),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;const i=0,s=0;do{t=this.data[this.pos++];for(let o=t;--o>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==s);return e}readSubBlocksBin(){let e=this.data[this.pos],t=0;const i=0,s=1;for(let l=0;e!==i;l+=e+s,e=this.data[this.pos+l])t+=e;const o=new Uint8Array(t);e=this.data[this.pos++];for(let l=0;e!==i;e=this.data[this.pos++])for(let u=e;--u>=i;o[l++]=this.data[this.pos++]);return o}skipSubBlocks(){for(const e=1,t=0;this.data[this.pos]!==t;this.pos+=this.data[this.pos]+e);this.pos++}}var Gi;(function(n){n[n.Replace=0]="Replace",n[n.Combine=1]="Combine",n[n.RestoreBackground=2]="RestoreBackground",n[n.RestorePrevious=3]="RestorePrevious",n[n.UndefinedA=4]="UndefinedA",n[n.UndefinedB=5]="UndefinedB",n[n.UndefinedC=6]="UndefinedC",n[n.UndefinedD=7]="UndefinedD"})(Gi||(Gi={}));var or;(function(n){n[n.Extension=33]="Extension",n[n.ApplicationExtension=255]="ApplicationExtension",n[n.GraphicsControlExtension=249]="GraphicsControlExtension",n[n.PlainTextExtension=1]="PlainTextExtension",n[n.CommentExtension=254]="CommentExtension",n[n.Image=44]="Image",n[n.EndOfFile=59]="EndOfFile"})(or||(or={}));const Fn={x:0,y:0},YB=0,LT=.5,XB=0,zT=0,J_=0;function yC(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}function WB(n,e,t,i){switch(n.nextByte()){case or.GraphicsControlExtension:{const s=e.frames[t(!1)];n.pos++;const o=n.nextByte();s.GCreserved=(o&224)>>>5,s.disposalMethod=(o&28)>>>2,s.userInputDelayFlag=(o&2)===2;const l=(o&1)===1;s.delayTime=n.nextTwoBytes()*10;const u=n.nextByte();l&&i(u),n.pos++;break}case or.ApplicationExtension:{n.pos++;const s={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(s);break}case or.CommentExtension:{e.comments.push([t(!1),n.readSubBlocks()]);break}case or.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function ZB(n,e,t,i,s,o){const l=e.frames[i(!0)];l.left=n.nextTwoBytes(),l.top=n.nextTwoBytes(),l.width=n.nextTwoBytes(),l.height=n.nextTwoBytes();const u=n.nextByte(),h=(u&128)===128,d=(u&64)===64;l.sortFlag=(u&32)===32,l.reserved=(u&24)>>>3;const g=1<<(u&7)+1;h&&(l.localColorTable=yC(n,g));const _=O=>{const{r:U,g:L,b:H}=(h?l.localColorTable:e.globalColorTable)[O];return O!==s(null)?{r:U,g:L,b:H,a:255}:{r:U,g:L,b:H,a:t?~~((U+L+H)/3):0}},v=(()=>{try{return new ImageData(l.width,l.height,{colorSpace:"srgb"})}catch(O){if(O instanceof DOMException&&O.name==="IndexSizeError")return null;throw O}})();if(v==null)throw new EvalError("GIF frame size is to large");const b=n.nextByte(),S=n.readSubBlocksBin(),A=1<<b,x=(O,U)=>{const L=O>>>3,H=O&7;return(S[L]+(S[L+1]<<8)+(S[L+2]<<16)&(1<<U)-1<<H)>>>H};if(d){for(let O=0,U=b+1,L=0,H=[[0]],W=0;W<4;W++)if(e_[W]<l.height){let le=0,D=0,P=!1;for(;!P;){const I=O;if(O=x(L,U),L+=U+1,O===A){U=b+1,H.length=A+2;for(let V=0;V<H.length;V++)H[V]=V<A?[V]:[]}else{O>=H.length?H.push(H[I].concat(H[I][0])):I!==A&&H.push(H[I].concat(H[O][0]));for(const V of H[O]){const{r:G,g:j,b:k,a:Ge}=_(V);v.data.set([G,j,k,Ge],e_[W]*l.width+NT[W]*D+le%(l.width*4)),le+=4}H.length===1<<U&&U<12&&U++}le===l.width*4*(D+1)&&(D++,e_[W]+NT[W]*D>=l.height&&(P=!0))}}l.image=v,l.bitmap=await createImageBitmap(v)}else{let O=0,U=b+1,L=0,H=-4,W=!1;const le=[[0]];for(;!W;){const D=O;if(O=x(L,U),L+=U,O===A){U=b+1,le.length=A+2;for(let P=0;P<le.length;P++)le[P]=P<A?[P]:[]}else{if(O===A+1){W=!0;break}O>=le.length?le.push(le[D].concat(le[D][0])):D!==A&&le.push(le[D].concat(le[O][0]));for(const P of le[O]){const{r:I,g:V,b:G,a:j}=_(P);v.data.set([I,V,G,j],H+=4)}le.length>=1<<U&&U<12&&U++}}l.image=v,l.bitmap=await createImageBitmap(v)}}async function JB(n,e,t,i,s,o){switch(n.nextByte()){case or.EndOfFile:return!0;case or.Image:await ZB(n,e,t,i,s);break;case or.Extension:WB(n,e,i,s);break;default:throw new EvalError("undefined block found")}return!1}function ej(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function tj(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const s=await i.arrayBuffer(),o={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},l=new KB(new Uint8ClampedArray(s));if(l.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");o.width=l.nextTwoBytes(),o.height=l.nextTwoBytes();const u=l.nextByte(),h=(u&128)===128;o.colorRes=(u&112)>>>4,o.sortFlag=(u&8)===8;const d=1<<(u&7)+1,g=l.nextByte();o.pixelAspectRatio=l.nextByte(),o.pixelAspectRatio!==0&&(o.pixelAspectRatio=(o.pixelAspectRatio+15)/64),h&&(o.globalColorTable=yC(l,d));const _=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(H){if(H instanceof DOMException&&H.name==="IndexSizeError")return null;throw H}})();if(_==null)throw new Error("GIF frame size is to large");const{r:v,g:b,b:S}=o.globalColorTable[g];_.data.set(h?[v,b,S,255]:[0,0,0,0]);for(let H=4;H<_.data.length;H*=2)_.data.copyWithin(H,0,H);o.backgroundImage=_;let A=-1,x=!0,O=-1;const U=H=>(H&&(x=!0),A),L=H=>(H!=null&&(O=H),O);try{do x&&(o.frames.push({left:0,top:0,width:0,height:0,disposalMethod:Gi.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),A++,O=-1,x=!1);while(!await JB(l,o,t,U,L,e));o.frames.length--;for(const H of o.frames){if(H.userInputDelayFlag&&H.delayTime===0){o.totalTime=1/0;break}o.totalTime+=H.delayTime}return o}catch(H){throw H instanceof EvalError?new Error(`error while parsing frame ${A} "${H.message}"`):H}}function nj(n){const{context:e,radius:t,particle:i,delta:s}=n,o=i.image;if(!(o!=null&&o.gifData)||!o.gif)return;const l=new OffscreenCanvas(o.gifData.width,o.gifData.height),u=l.getContext("2d");if(!u)throw new Error("could not create offscreen canvas context");u.imageSmoothingQuality="low",u.imageSmoothingEnabled=!1,u.clearRect(Fn.x,Fn.y,l.width,l.height),i.gifLoopCount===void 0&&(i.gifLoopCount=o.gifLoopCount??J_);let h=i.gifFrame??YB;const d={x:-o.gifData.width*LT,y:-o.gifData.height*LT},g=o.gifData.frames[h];if(i.gifTime===void 0&&(i.gifTime=XB),!!g.bitmap){switch(e.scale(t/o.gifData.width,t/o.gifData.height),g.disposalMethod){case Gi.UndefinedA:case Gi.UndefinedB:case Gi.UndefinedC:case Gi.UndefinedD:case Gi.Replace:u.drawImage(g.bitmap,g.left,g.top),e.drawImage(l,d.x,d.y),u.clearRect(Fn.x,Fn.y,l.width,l.height);break;case Gi.Combine:u.drawImage(g.bitmap,g.left,g.top),e.drawImage(l,d.x,d.y);break;case Gi.RestoreBackground:u.drawImage(g.bitmap,g.left,g.top),e.drawImage(l,d.x,d.y),u.clearRect(Fn.x,Fn.y,l.width,l.height),o.gifData.globalColorTable.length?u.putImageData(o.gifData.backgroundImage,d.x,d.y):u.putImageData(o.gifData.frames[zT].image,d.x+g.left,d.y+g.top);break;case Gi.RestorePrevious:{const _=u.getImageData(Fn.x,Fn.y,l.width,l.height);u.drawImage(g.bitmap,g.left,g.top),e.drawImage(l,d.x,d.y),u.clearRect(Fn.x,Fn.y,l.width,l.height),u.putImageData(_,Fn.x,Fn.y)}break}if(i.gifTime+=s.value,i.gifTime>g.delayTime){if(i.gifTime-=g.delayTime,++h>=o.gifData.frames.length){if(--i.gifLoopCount<=J_)return;h=zT,u.clearRect(Fn.x,Fn.y,l.width,l.height)}i.gifFrame=h}e.scale(o.gifData.width/t,o.gifData.height/t)}}async function ij(n){if(n.type!=="gif"){await hm(n);return}n.loading=!0;try{n.gifData=await tj(n.source),n.gifLoopCount=ej(n.gifData)??J_,n.gifLoopCount||(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}const sj=2,rj=1,oj=12,aj=1;class lj{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${un} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:t,radius:i,particle:s,opacity:o}=e,l=s.image,u=l==null?void 0:l.element;if(l){if(t.globalAlpha=o,l.gif&&l.gifData)nj(e);else if(u){const h=l.ratio,d={x:-i,y:-i},g=i*sj;t.drawImage(u,d.x,d.y,g,g/h)}t.globalAlpha=rj}}getSidesCount(){return oj}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;if(!t)return;this._engine.images.find(s=>s.name===t.name||s.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,s=t.shapeData;if(!s)return;const o=t.getFillColor(),l=i.find(h=>h.name===s.name||h.source===s.src);if(!l)return;const u=s.replaceColor??l.replaceColor;if(l.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let h;l.svgData&&o?h=await QB(l,s,o,t):h={color:o,data:l,element:l.element,gif:l.gif,gifData:l.gifData,gifLoopCount:l.gifLoopCount,loaded:!0,ratio:s.width&&s.height?s.width/s.height:l.ratio??aj,replaceColor:u,source:s.src},h.ratio||(h.ratio=1);const d=s.fill??t.shapeFill,g=s.close??t.shapeClose,_={image:h,fill:d,close:g};t.image=_.image,t.shapeFill=_.fill,t.shapeClose=_.close})()}}class cj{constructor(){this.src="",this.gif=!1}load(e){X(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class uj{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,t){if(!(t!=null&&t.preload))return;e.preload||(e.preload=[]);const i=e.preload;for(const s of t.preload){const o=i.find(l=>l.name===s.name||l.src===s.src);if(o)o.load(s);else{const l=new cj;l.load(s),i.push(l)}}}needsPlugin(){return!0}}const hj=3;function fj(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${un} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-hj),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t);let i;e.gif?i=ij:i=e.replaceColor?$B:hm,await i(t)}catch{throw new Error(`${un} ${e.name??e.src} not found`)}})}async function dj(n,e=!0){n.checkVersion("3.8.1"),fj(n);const t=new uj(n);await n.addPlugin(t,e),await n.addShape(new lj(n),e)}class pj extends ui{constructor(){super(),this.sync=!1}load(e){X(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class mj extends ui{constructor(){super(),this.sync=!1}load(e){X(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class gj{constructor(){this.count=0,this.delay=new pj,this.duration=new mj}load(e){X(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const Cl=0,yj=-1,UT=0,GT=0;function _j(n,e,t){if(!n.life)return;const i=n.life;let s=!1;if(n.spawning)if(i.delayTime+=e.value,i.delayTime>=n.life.delay)s=!0,n.spawning=!1,i.delayTime=Cl,i.time=Cl;else return;if(i.duration===yj||n.spawning||(s?i.time=Cl:i.time+=e.value,i.time<i.duration))return;if(i.time=Cl,n.life.count>UT&&n.life.count--,n.life.count===UT){n.destroy();return}const o=ge(GT,t.width),l=ge(GT,t.width);n.position.x=Nt(o),n.position.y=Nt(l),n.spawning=!0,i.delayTime=Cl,i.time=Cl,n.reset();const u=n.options.life;u&&(i.delay=ne(u.delay.value)*gt,i.duration=ne(u.duration.value)*gt)}const oa=0,BT=1,jT=-1;class vj{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,s=i.life;s&&(e.life={delay:t.retina.reduceFactor?ne(s.delay.value)*(s.delay.sync?BT:me())/t.retina.reduceFactor*gt:oa,delayTime:oa,duration:t.retina.reduceFactor?ne(s.duration.value)*(s.duration.sync?BT:me())/t.retina.reduceFactor*gt:oa,time:oa,count:s.count},e.life.duration<=oa&&(e.life.duration=jT),e.life.count<=oa&&(e.life.count=jT),e.life&&(e.spawning=e.life.delay>oa))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new gj);for(const i of t)e.life.load(i==null?void 0:i.life)}update(e,t){!this.isEnabled(e)||!e.life||_j(e,t,this.container.canvas.size)}}async function wj(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("life",async t=>Promise.resolve(new vj(t)),e)}function bj(n){const{context:e,particle:t,radius:i}=n,s=t.shapeData,o=0;e.moveTo(-i,o),e.lineTo(i,o),e.lineCap=(s==null?void 0:s.cap)??"butt"}const Sj=1;class Ej{constructor(){this.validTypes=["line"]}draw(e){bj(e)}getSidesCount(){return Sj}}async function Tj(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new Ej,e)}const HT=.5;class xj{init(){}isEnabled(e){return!Pa()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,s=i.interactivity.events.onHover.parallax;if(Pa()||!s.enable)return;const o=s.force,l=t.interactivity.mouse.position;if(!l)return;const u=t.canvas.size,h={x:u.width*HT,y:u.height*HT},d=s.smooth,g=e.getRadius()/o,_={x:(l.x-h.x)*g,y:(l.y-h.y)*g},{offset:v}=e;v.x+=(_.x-v.x)/d,v.y+=(_.y-v.y)/d}}async function Aj(n,e=!0){n.checkVersion("3.8.1"),await n.addMover("parallax",()=>Promise.resolve(new xj),e)}const FT=1e3,Rj=1;class Cj extends bc{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;e.attractDistance===void 0&&(e.attractDistance=ne(e.options.move.attract.distance)*t.retina.pixelRatio);const i=e.attractDistance,s=e.getPosition(),o=t.particles.quadTree.queryCircle(s,i);for(const l of o){if(e===l||!l.options.move.attract.enable||l.destroyed||l.spawning)continue;const u=l.getPosition(),{dx:h,dy:d}=Lt(s,u),g=e.options.move.attract.rotate,_=h/(g.x*FT),v=d/(g.y*FT),b=l.size.value/e.size.value,S=Rj/b;e.velocity.x-=_*b,e.velocity.y-=v*b,l.velocity.x+=_*S,l.velocity.y+=v*S}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function Pj(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("particlesAttract",t=>Promise.resolve(new Cj(t)),e)}const Ij=.5,Oj=10,kj=0;function qT(n,e,t,i,s,o){const l=Kn(n.options.collisions.absorb.speed*s.factor/Oj,kj,i);n.size.value+=l*Ij,t.size.value-=l,i<=o&&(t.size.value=0,t.destroy())}function Dj(n,e,t,i){const s=n.getRadius(),o=e.getRadius();s===void 0&&o!==void 0?n.destroy():s!==void 0&&o===void 0?e.destroy():s!==void 0&&o!==void 0&&(s>=o?qT(n,s,e,o,t,i):qT(e,o,n,s,t,i))}const $T=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=ne(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function _C(n,e){$R(K_(n),K_(e)),$T(n),$T(e)}function Mj(n,e){!n.unbreakable&&!e.unbreakable&&_C(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function Vj(n,e,t,i){switch(n.options.collisions.mode){case ql.absorb:{Dj(n,e,t,i);break}case ql.bounce:{_C(n,e);break}case ql.destroy:{Mj(n,e);break}}}const Nj=2;class Lj extends bc{constructor(e){super(e)}clear(){}init(){}interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,s=e.getPosition(),o=e.getRadius(),l=i.particles.quadTree.queryCircle(s,o*Nj);for(const u of l){if(e===u||!u.options.collisions.enable||e.options.collisions.mode!==u.options.collisions.mode||u.destroyed||u.spawning)continue;const h=u.getPosition(),d=u.getRadius();if(Math.abs(Math.round(s.z)-Math.round(h.z))>o+d)continue;const g=wn(s,h),_=o+d;g>_||Vj(e,u,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function zj(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("particlesCollisions",t=>Promise.resolve(new Lj(t)),e)}const t_=2;class Uj extends On{constructor(e,t,i,s){super(e,t,i),this.canvasSize=s,this.canvasSize={...s}}contains(e){const{width:t,height:i}=this.canvasSize,{x:s,y:o}=e;return super.contains(e)||super.contains({x:s-t,y:o})||super.contains({x:s-t,y:o-i})||super.contains({x:s,y:o-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,s={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const o=new On(s.x,s.y,i.radius*t_);return super.intersects(o)}else if(t.size!==void 0){const o=new Ki(s.x,s.y,t.size.width*t_,t.size.height*t_);return super.intersects(o)}return!1}}class Gj{constructor(){this.blur=5,this.color=new Je,this.color.value="#000",this.enable=!1}load(e){X(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Je.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class Bj{constructor(){this.enable=!1,this.frequency=1}load(e){X(e)||(e.color!==void 0&&(this.color=Je.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class jj{constructor(){this.blink=!1,this.color=new Je,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new Gj,this.triangles=new Bj,this.width=1,this.warp=!1}load(e){X(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Je.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const QT=2,Hj=1,Sd={x:0,y:0},Fj=0;function qj(n,e,t,i,s){const{dx:o,dy:l,distance:u}=Lt(n,e);if(!s||u<=t)return u;const h={x:Math.abs(o),y:Math.abs(l)},d={x:Math.min(h.x,i.width-h.x),y:Math.min(h.y,i.height-h.y)};return Math.sqrt(d.x**QT+d.y**QT)}class $j extends bc{constructor(e,t){super(e),this._setColor=i=>{if(!i.options.links)return;const s=this._linkContainer,o=i.options.links;let l=o.id===void 0?s.particles.linksColor:s.particles.linksColors.get(o.id);if(l)return;const u=o.color;l=eC(this._engine,u,o.blink,o.consent),o.id===void 0?s.particles.linksColor=l:s.particles.linksColors.set(o.id,l)},this._linkContainer=e,this._engine=t}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,s=i.canvas.size;if(t.x<Sd.x||t.y<Sd.y||t.x>s.width||t.y>s.height)return;const o=e.options.links,l=o.opacity,u=e.retina.linksDistance??Fj,h=o.warp;let d;h?d=new Uj(t.x,t.y,u,s):d=new On(t.x,t.y,u);const g=i.particles.quadTree.query(d);for(const _ of g){const v=_.options.links;if(e===_||!(v!=null&&v.enable)||o.id!==v.id||_.spawning||_.destroyed||!_.links||e.links.some(x=>x.destination===_)||_.links.some(x=>x.destination===e))continue;const b=_.getPosition();if(b.x<Sd.x||b.y<Sd.y||b.x>s.width||b.y>s.height)continue;const S=qj(t,b,u,s,h&&v.warp);if(S>u)continue;const A=(Hj-S/u)*l;this._setColor(e),e.links.push({destination:_,opacity:A})}}isEnabled(e){var t;return!!((t=e.options.links)!=null&&t.enable)}loadParticlesOptions(e,...t){e.links||(e.links=new jj);for(const i of t)e.links.load(i==null?void 0:i.links)}reset(){}}async function Qj(n,e=!0){await n.addInteractor("particlesLinks",async t=>Promise.resolve(new $j(t,n)),e)}function Kj(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function Yj(n){let e=!1;const{begin:t,end:i,engine:s,maxDistance:o,context:l,canvasSize:u,width:h,backgroundMask:d,colorLine:g,opacity:_,links:v}=n;if(wn(t,i)<=o)Yu(l,t,i),e=!0;else if(v.warp){let S,A;const x={x:i.x-u.width,y:i.y},O=Lt(t,x);if(O.distance<=o){const U=t.y-O.dy/O.dx*t.x;S={x:0,y:U},A={x:u.width,y:U}}else{const U={x:i.x,y:i.y-u.height},L=Lt(t,U);if(L.distance<=o){const W=-(t.y-L.dy/L.dx*t.x)/(L.dy/L.dx);S={x:W,y:0},A={x:W,y:u.height}}else{const H={x:i.x-u.width,y:i.y-u.height},W=Lt(t,H);if(W.distance<=o){const le=t.y-W.dy/W.dx*t.x;S={x:-le/(W.dy/W.dx),y:le},A={x:S.x+u.width,y:S.y+u.height}}}}S&&A&&(Yu(l,t,S),Yu(l,i,A),e=!0)}if(!e)return;l.lineWidth=h,d.enable&&(l.globalCompositeOperation=d.composite),l.strokeStyle=Un(g,_);const{shadow:b}=v;if(b.enable){const S=bn(s,b.color);S&&(l.shadowBlur=b.blur,l.shadowColor=Un(S))}l.stroke()}function Xj(n){const{context:e,pos1:t,pos2:i,pos3:s,backgroundMask:o,colorTriangle:l,opacityTriangle:u}=n;Kj(e,t,i,s),o.enable&&(e.globalCompositeOperation=o.composite),e.fillStyle=Un(l,u),e.fill()}function Wj(n){return n.sort((e,t)=>e-t),n.join("_")}function KT(n,e){const t=Wj(n.map(s=>s.id));let i=e.get(t);return i===void 0&&(i=me(),e.set(t,i)),i}const YT=0,n_=0,XT=0,Zj=.5,Jj=1;class eH{constructor(e,t){this._drawLinkLine=(i,s)=>{const o=i.options.links;if(!(o!=null&&o.enable))return;const l=this._container,u=l.actualOptions,h=s.destination,d=i.getPosition(),g=h.getPosition();let _=s.opacity;l.canvas.draw(v=>{var U;let b;const S=(U=i.options.twinkle)==null?void 0:U.lines;if(S!=null&&S.enable){const L=S.frequency,H=bn(this._engine,S.color);me()<L&&H&&(b=H,_=ne(S.opacity))}if(!b){const L=o.id!==void 0?l.particles.linksColors.get(o.id):l.particles.linksColor;b=Y_(i,h,L)}if(!b)return;const A=i.retina.linksWidth??n_,x=i.retina.linksDistance??XT,{backgroundMask:O}=u;Yj({context:v,width:A,begin:d,end:g,engine:this._engine,maxDistance:x,canvasSize:l.canvas.size,links:o,backgroundMask:O,colorLine:b,opacity:_})})},this._drawLinkTriangle=(i,s,o)=>{const l=i.options.links;if(!(l!=null&&l.enable))return;const u=l.triangles;if(!u.enable)return;const h=this._container,d=h.actualOptions,g=s.destination,_=o.destination,v=u.opacity??(s.opacity+o.opacity)*Zj;v<=YT||h.canvas.draw(b=>{const S=i.getPosition(),A=g.getPosition(),x=_.getPosition(),O=i.retina.linksDistance??XT;if(wn(S,A)>O||wn(x,A)>O||wn(x,S)>O)return;let U=bn(this._engine,u.color);if(!U){const L=l.id!==void 0?h.particles.linksColors.get(l.id):h.particles.linksColor;U=Y_(i,g,L)}U&&Xj({context:b,pos1:S,pos2:A,pos3:x,backgroundMask:d.backgroundMask,colorTriangle:U,opacityTriangle:v})})},this._drawTriangles=(i,s,o,l)=>{var d,g,_;const u=o.destination;if(!((d=i.links)!=null&&d.triangles.enable&&((g=u.options.links)!=null&&g.triangles.enable)))return;const h=(_=u.links)==null?void 0:_.filter(v=>{const b=this._getLinkFrequency(u,v.destination);return u.options.links&&b<=u.options.links.frequency&&l.findIndex(A=>A.destination===v.destination)>=0});if(h!=null&&h.length)for(const v of h){const b=v.destination;this._getTriangleFrequency(s,u,b)>i.links.triangles.frequency||this._drawLinkTriangle(s,o,v)}},this._getLinkFrequency=(i,s)=>KT([i,s],this._freqs.links),this._getTriangleFrequency=(i,s,o)=>KT([i,s,o],this._freqs.triangles),this._container=e,this._engine=t,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:s}=t;if(!(i!=null&&i.length))return;const o=i.filter(l=>s.links&&(s.links.frequency>=Jj||this._getLinkFrequency(t,l.destination)<=s.links.frequency));for(const l of o)this._drawTriangles(s,t,l,o),l.opacity>YT&&(t.retina.linksWidth??n_)>n_&&this._drawLinkLine(t,l)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this._container.retina.pixelRatio,{retina:i}=e,{distance:s,width:o}=e.options.links;i.linksDistance=s*t,i.linksWidth=o*t}particleDestroyed(e){e.links=[]}}class tH{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new eH(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function nH(n,e=!0){const t=new tH(n);await n.addPlugin(t,e)}async function iH(n,e=!0){n.checkVersion("3.8.1"),await Qj(n,e),await nH(n,e)}const sH=180,Ed={x:0,y:0},rH=2;function oH(n,e,t){const{context:i}=n,s=t.count.numerator*t.count.denominator,o=t.count.numerator/t.count.denominator,l=sH*(o-rH)/o,u=Math.PI-Hi(l);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(Ed.x,Ed.y);for(let h=0;h<s;h++)i.lineTo(t.length,Ed.y),i.translate(t.length,Ed.y),i.rotate(u)}}const aH=5;class vC{draw(e){const{particle:t,radius:i}=e,s=this.getCenter(t,i),o=this.getSidesData(t,i);oH(e,s,o)}getSidesCount(e){const t=e.shapeData;return Math.round(ne((t==null?void 0:t.sides)??aH))}}const WT=3.5,ZT=2.66,lH=3;class cH extends vC{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,t){return{x:-t/(e.sides/WT),y:-t/(ZT/WT)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*ZT/(i/lH)}}}const uH=1.66,hH=3,fH=2;class dH extends vC{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,t){return{x:-t,y:t/uH}}getSidesCount(){return hH}getSidesData(e,t){const i=t*fH;return{count:{denominator:2,numerator:3},length:i}}}async function pH(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new cH,e)}async function mH(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new dH,e)}async function gH(n,e=!0){n.checkVersion("3.8.1"),await pH(n,e),await mH(n,e)}class yH{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){X(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ge(e.speed)),e.decay!==void 0&&(this.decay=ge(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class _H extends ui{constructor(){super(),this.animation=new yH,this.direction=Vt.clockwise,this.path=!1,this.value=0}load(e){X(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const wC=2,vH=Math.PI*wC,wH=1,bH=360;class SH{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:Hi(ne(t.value)),min:0,max:vH},e.pathRotation=t.path;let i=t.direction;switch(i===Vt.random&&(i=Math.floor(me()*wC)>0?Vt.counterClockwise:Vt.clockwise),i){case Vt.counterClockwise:case"counterClockwise":e.rotate.status=ct.decreasing;break;case Vt.clockwise:e.rotate.status=ct.increasing;break}const s=t.animation;s.enable&&(e.rotate.decay=wH-ne(s.decay),e.rotate.velocity=ne(s.speed)/bH*this.container.retina.reduceFactor,s.sync||(e.rotate.velocity*=me())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&(!!t.value||t.animation.enable||t.path):!1}loadOptions(e,...t){e.rotate||(e.rotate=new _H);for(const i of t)e.rotate.load(i==null?void 0:i.rotate)}update(e,t){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(rc(e,e.rotate,!1,xs.none,t),e.rotation=e.rotate.value))}}async function EH(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("rotate",t=>Promise.resolve(new SH(t)),e)}const TH=2,xH=Math.sqrt(TH),AH=2;function RH(n){const{context:e,radius:t}=n,i=t/xH,s=i*AH;e.rect(-i,-i,s,s)}const CH=4;class PH{constructor(){this.validTypes=["edge","square"]}draw(e){RH(e)}getSidesCount(){return CH}}async function IH(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new PH,e)}const OH=2,Pl={x:0,y:0};function kH(n){const{context:e,particle:t,radius:i}=n,s=t.sides,o=t.starInset??OH;e.moveTo(Pl.x,Pl.y-i);for(let l=0;l<s;l++)e.rotate(Math.PI/s),e.lineTo(Pl.x,Pl.y-i*o),e.rotate(Math.PI/s),e.lineTo(Pl.x,Pl.y-i)}const DH=2,MH=5;class VH{constructor(){this.validTypes=["star"]}draw(e){kH(e)}getSidesCount(e){const t=e.shapeData;return Math.round(ne((t==null?void 0:t.sides)??MH))}particleInit(e,t){const i=t.shapeData;t.starInset=ne((i==null?void 0:i.inset)??DH)}}async function NH(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new VH,e)}const LH=1;class zH{constructor(e,t){this._container=e,this._engine=t}init(e){var l;const t=this._container,i=e.options,s=qt(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=ne(s.width)*t.retina.pixelRatio,e.strokeOpacity=ne(s.opacity??LH),e.strokeAnimation=(l=s.color)==null?void 0:l.animation;const o=Rs(this._engine,s.color)??e.getFillColor();o&&(e.strokeColor=f0(o,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&d0(e.strokeColor,t)}}async function UH(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("strokeColor",t=>Promise.resolve(new zH(t,n)),e)}async function GH(n,e=!0){n.checkVersion("3.8.1"),await Aj(n,!1),await IG(n,!1),await UG(n,!1),await QG(n,!1),await iB(n,!1),await dB(n,!1),await gB(n,!1),await bB(n,!1),await xB(n,!1),await NB(n,!1),await BB(n,!1),await Pj(n,!1),await zj(n,!1),await iH(n,!1),await wG(n,!1),await EG(n,!1),await dj(n,!1),await Tj(n,!1),await gH(n,!1),await IH(n,!1),await NH(n,!1),await wj(n,!1),await EH(n,!1),await UH(n,!1),await vG(n,e)}const bC=2,JT=.5;function BH(n){const{context:e,particle:t,radius:i,opacity:s}=n,o=t.shapeData;if(!o)return;const l=o.value;if(l===void 0)return;t.text===void 0&&(t.text=qt(l,t.randomIndexData));const u=t.text,h=o.style??"",d=o.weight??"400",g=Math.round(i)*bC,_=o.font??"Verdana",v=t.shapeFill,b=u==null?void 0:u.split(`
`);if(b){e.font=`${h} ${d} ${g}px "${_}"`,e.globalAlpha=s;for(let S=0;S<b.length;S++)jH(e,b[S],i,s,S,v);e.globalAlpha=1}}function jH(n,e,t,i,s,o){const l=e.length*t*JT,u={x:-l,y:t*JT},h=t*bC;o?n.fillText(e,u.x,u.y+h*s):n.strokeText(e,u.x,u.y+h*s)}class HH{constructor(){this.validTypes=["text","character","char","multiline-text"]}draw(e){BH(e)}async init(e){const t=e.actualOptions,{validTypes:i}=this;if(i.find(s=>st(s,t.particles.shape.type))){const s=i.map(l=>t.particles.shape.options[l]).find(l=>!!l),o=[];vt(s,l=>{o.push(Q_(l.font,l.weight))}),await Promise.all(o)}}particleInit(e,t){if(!t.shape||!this.validTypes.includes(t.shape))return;const i=t.shapeData;if(i===void 0)return;const s=i.value;s!==void 0&&(t.text=qt(s,t.randomIndexData))}}async function FH(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new HH,e)}var Jr;(function(n){n.clockwise="clockwise",n.counterClockwise="counter-clockwise",n.random="random"})(Jr||(Jr={}));class qH{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){X(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ge(e.speed)),e.decay!==void 0&&(this.decay=ge(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class $H extends ui{constructor(){super(),this.animation=new qH,this.direction=Jr.clockwise,this.enable=!1,this.value=0}load(e){super.load(e),!X(e)&&(this.animation.load(e.animation),e.direction!==void 0&&(this.direction=e.direction),e.enable!==void 0&&(this.enable=e.enable))}}const i_=1,SC=2,QH=Math.PI*SC,KH=360;class YH{constructor(e){this.container=e}getTransformValues(e){var i;const t=((i=e.tilt)==null?void 0:i.enable)&&e.tilt;return{b:t?Math.cos(t.value)*t.cosDirection:void 0,c:t?Math.sin(t.value)*t.sinDirection:void 0}}init(e){var o;const t=e.options.tilt;if(!t)return;e.tilt={enable:t.enable,value:Hi(ne(t.value)),sinDirection:me()>=Ve?i_:-1,cosDirection:me()>=Ve?i_:-1,min:0,max:QH};let i=t.direction;switch(i===Jr.random&&(i=Math.floor(me()*SC)>0?Jr.counterClockwise:Jr.clockwise),i){case Jr.counterClockwise:case"counterClockwise":e.tilt.status=ct.decreasing;break;case Jr.clockwise:e.tilt.status=ct.increasing;break}const s=(o=e.options.tilt)==null?void 0:o.animation;s!=null&&s.enable&&(e.tilt.decay=i_-ne(s.decay),e.tilt.velocity=ne(s.speed)/KH*this.container.retina.reduceFactor,s.sync||(e.tilt.velocity*=me()))}isEnabled(e){var i;const t=(i=e.options.tilt)==null?void 0:i.animation;return!e.destroyed&&!e.spawning&&!!(t!=null&&t.enable)}loadOptions(e,...t){e.tilt||(e.tilt=new $H);for(const i of t)e.tilt.load(i==null?void 0:i.tilt)}async update(e,t){!this.isEnabled(e)||!e.tilt||(rc(e,e.tilt,!1,xs.none,t),await Promise.resolve())}}async function XH(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("tilt",t=>Promise.resolve(new YH(t)),e)}class e2{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){X(e)||(e.color!==void 0&&(this.color=Je.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=ge(e.opacity)))}}class WH{constructor(){this.lines=new e2,this.particles=new e2}load(e){X(e)||(this.lines.load(e.lines),this.particles.load(e.particles))}}class ZH{constructor(e){this._engine=e}getColorStyles(e,t,i,s){const o=e.options,l=o.twinkle;if(!l)return{};const u=l.particles,h=u.enable&&me()<u.frequency,d=e.options.zIndex,g=1,_=(g-e.zIndexFactor)**d.opacityRate,v=h?ne(u.opacity)*_:s,b=Rs(this._engine,u.color),S=b?mo(b,v):void 0,A={},x=h&&S;return A.fill=x?S:void 0,A.stroke=x?S:void 0,A}async init(){await Promise.resolve()}isEnabled(e){const t=e.options,i=t.twinkle;return i?i.particles.enable:!1}loadOptions(e,...t){e.twinkle||(e.twinkle=new WH);for(const i of t)e.twinkle.load(i==null?void 0:i.twinkle)}async update(){await Promise.resolve()}}async function JH(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("twinkle",()=>Promise.resolve(new ZH(n)),e)}class eF{constructor(){this.angle=50,this.move=10}load(e){X(e)||(e.angle!==void 0&&(this.angle=ge(e.angle)),e.move!==void 0&&(this.move=ge(e.move)))}}class tF{constructor(){this.distance=5,this.enable=!1,this.speed=new eF}load(e){if(!X(e)&&(e.distance!==void 0&&(this.distance=ge(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0))if(En(e.speed))this.speed.load({angle:e.speed});else{const t=e.speed;t.min!==void 0?this.speed.load({angle:t}):this.speed.load(e.speed)}}}const nF=0,iF=2,sF=Math.PI*iF,rF=60;function oF(n,e){const{wobble:t}=n.options,{wobble:i}=n;if(!(t!=null&&t.enable)||!i)return;const s=i.angleSpeed*e.factor,o=i.moveSpeed*e.factor,l=o*((n.retina.wobbleDistance??nF)*e.factor)/(gt/rF),u=sF,{position:h}=n;i.angle+=s,i.angle>u&&(i.angle-=u),h.x+=l*Math.cos(i.angle),h.y+=l*Math.abs(Math.sin(i.angle))}const aF=2,lF=Math.PI*aF,cF=360,uF=10,hF=0;class fF{constructor(e){this.container=e}init(e){const t=e.options.wobble;t!=null&&t.enable?e.wobble={angle:me()*lF,angleSpeed:ne(t.speed.angle)/cF,moveSpeed:ne(t.speed.move)/uF}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=ne((t==null?void 0:t.distance)??hF)*this.container.retina.pixelRatio}isEnabled(e){var t;return!e.destroyed&&!e.spawning&&!!((t=e.options.wobble)!=null&&t.enable)}loadOptions(e,...t){e.wobble||(e.wobble=new tF);for(const i of t)e.wobble.load(i==null?void 0:i.wobble)}update(e,t){this.isEnabled(e)&&oF(e,t)}}async function dF(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("wobble",t=>Promise.resolve(new fF(t)),e)}async function pF(n,e=!0){n.checkVersion("3.8.1"),await aU(n,!1),await xU(n,!1),await XH(n,!1),await JH(n,!1),await dF(n,!1),await FH(n,!1),await _U(n,!1),await Q7(n,!1),await Uz(n,!1),await hU(n,!1),await mU(n,!1),await GH(n,e)}class mF{constructor(){this.count=0,this.enable=!1,this.speed=0,this.decay=0,this.delay=0,this.sync=!1,this.startValue=Ss.random}load(e){X(e)||(e.count!==void 0&&(this.count=ge(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ge(e.speed)),e.sync!==void 0&&(this.sync=e.sync),e.startValue!==void 0&&(this.startValue=e.startValue),e.decay!==void 0&&(this.decay=ge(e.decay)),e.delay!==void 0&&(this.delay=ge(e.delay)))}}class gF{constructor(){this.value=0,this.animation=new mF}load(e){X(e)||(this.animation.load(e.animation),e.value!==void 0&&(this.value=ge(e.value)))}}class yF{constructor(){this.stop=0,this.value=new go}load(e){X(e)||(e.stop!==void 0&&(this.stop=e.stop),this.value=go.create(this.value,e.value),e.opacity!==void 0&&(this.opacity=new gF,En(e.opacity)?this.opacity.value=e.opacity:this.opacity.load(e.opacity)))}}class _F{constructor(){this.count=0,this.enable=!1,this.speed=0,this.decay=0,this.delay=0,this.sync=!1}load(e){X(e)||(e.count!==void 0&&(this.count=ge(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ge(e.speed)),e.decay!==void 0&&(this.decay=ge(e.decay)),e.delay!==void 0&&(this.delay=ge(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class vF{constructor(){this.value=0,this.animation=new _F,this.direction=Vt.clockwise}load(e){X(e)||(this.animation.load(e.animation),e.value!==void 0&&(this.value=ge(e.value)),e.direction!==void 0&&(this.direction=e.direction))}}class wF{constructor(){this.angle=new vF,this.colors=[],this.type=Ap.random}load(e){X(e)||(this.angle.load(e.angle),e.colors!==void 0&&(this.colors=e.colors.map(t=>{const i=new yF;return i.load(t),i})),e.type!==void 0&&(this.type=e.type))}}function bF(n,e){const{gradient:t}=n;if(t){rc(n,t.angle,!1,xs.none,e);for(const i of t.colors)d0(i.value,e),i.opacity&&rc(n,i.opacity,!0,xs.none,e)}}const SF=2,EF=Math.PI*SF;class TF{constructor(e){this._engine=e}getColorStyles(e,t,i,s){const o=e.gradient;if(!o)return{};const l=o.angle.value,u={x:0,y:0},h=0,d=o.type===Ap.radial?t.createRadialGradient(u.x,u.y,h,u.x,u.y,i):t.createLinearGradient(Math.cos(l)*-i,Math.sin(l)*-i,Math.cos(l)*i,Math.sin(l)*i);for(const{stop:g,value:_,opacity:v}of o.colors)d.addColorStop(g,mo({h:_.h.value,s:_.s.value,l:_.l.value},(v==null?void 0:v.value)??s));return{fill:d}}init(e){const t=qt(e.options.gradient);if(!t)return;const{angle:i}=t,s=360,o=1;e.gradient={angle:{value:ne(i.value),enable:i.animation.enable,velocity:ne(i.animation.speed)/s*e.container.retina.reduceFactor,decay:o-ne(i.animation.decay),delayTime:ne(i.animation.delay)*gt,max:EF,min:0,time:0},type:t.type,colors:[]};let l=t.angle.direction;switch(l===Vt.random&&(l=me()>Ve?Vt.counterClockwise:Vt.clockwise),l){case Vt.counterClockwise:case"counterClockwise":e.gradient.angle.status=ct.decreasing;break;case Vt.clockwise:e.gradient.angle.status=ct.increasing;break}const u=e.options.reduceDuplicates;for(const h of t.colors){const d=Rs(this._engine,h.value,e.id,u);if(!d)continue;const g=f0(d,h.value.animation,e.container.retina.reduceFactor),_={stop:h.stop,value:g,opacity:h.opacity?{enable:h.opacity.animation.enable,max:li(h.opacity.value),min:sc(h.opacity.value),status:ct.increasing,value:ne(h.opacity.value),velocity:ne(h.opacity.animation.speed)/ze*e.container.retina.reduceFactor,decay:o-ne(h.opacity.animation.decay),delayTime:ne(h.opacity.animation.delay)*gt,time:0}:void 0},{opacity:v}=_;if(h.opacity&&v){const b=h.opacity.value;switch(v.min=sc(b),v.max=li(b),h.opacity.animation.startValue){case Ss.min:v.value=v.min,v.status=ct.increasing;break;case Ss.max:v.value=v.max,v.status=ct.decreasing;break;case Ss.random:default:v.value=Nt(v),v.status=me()>=Ve?ct.increasing:ct.decreasing;break}}e.gradient.colors.push(_)}}isEnabled(e){var t,i;return!e.destroyed&&!e.spawning&&(!!((t=e.gradient)!=null&&t.angle.enable)||(((i=e.gradient)==null?void 0:i.colors.some(s=>s.value.h.enable||s.value.s.enable||s.value.l.enable))??!1))}loadOptions(e,...t){for(const i of t){if(!(i!=null&&i.gradient))continue;const s=i.gradient;s&&(e.gradient=vt(s,o=>{const l=new wF;return l.load(o),l}))}}update(e,t){bF(e,t)}}async function xF(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("gradient",()=>Promise.resolve(new TF(n)),e)}const AF=.5,RF=2;function CF(n){const{context:e,radius:t}=n,i=t*RF,s=t*AF,o=t+s,l=-t,u=-t;e.moveTo(l,u+s),e.quadraticCurveTo(l,u,l+s,u),e.quadraticCurveTo(l+t,u,l+t,u+s),e.quadraticCurveTo(l+t,u,l+o,u),e.quadraticCurveTo(l+i,u,l+i,u+s),e.quadraticCurveTo(l+i,u+t,l+o,u+o),e.lineTo(l+t,u+i),e.lineTo(l+s,u+o),e.quadraticCurveTo(l,u+t,l,u+s)}class PF{constructor(){this.validTypes=["heart"]}draw(e){CF(e)}}async function IF(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new PF,e)}const s_=255;function ev(n){const e={b:0,g:0,r:0},t=60,i={h:n.h/t,s:n.s/ze,v:n.v/ze},s=1,o=2,l=i.v*i.s,u=l*(s-Math.abs(i.h%o-s));let h;const d={min:0,max:1},g={min:1,max:2},_={min:2,max:3},v={min:3,max:4},b={min:4,max:5},S={min:5,max:6};if(i.h>=d.min&&i.h<=d.max?h={r:l,g:u,b:0}:i.h>g.min&&i.h<=g.max?h={r:u,g:l,b:0}:i.h>_.min&&i.h<=_.max?h={r:0,g:l,b:u}:i.h>v.min&&i.h<=v.max?h={r:0,g:u,b:l}:i.h>b.min&&i.h<=b.max?h={r:u,g:0,b:l}:i.h>S.min&&i.h<=S.max&&(h={r:l,g:0,b:u}),h){const A=i.v-l;e.r=Math.floor((h.r+A)*s_),e.g=Math.floor((h.g+A)*s_),e.b=Math.floor((h.b+A)*s_)}return e}function OF(n){return{a:n.a,...ev(n)}}class kF{constructor(){this.key="hsv",this.stringPrefix="hsv"}handleColor(e){const t=e.value,i=t.hsv??e.value;if(i.h!==void 0&&i.v!==void 0)return ev(i)}handleRangeColor(e){const t=e.value,i=t.hsv??e.value;if(i.h!==void 0&&i.v!==void 0)return ev({h:ne(i.h),s:ne(i.s),v:ne(i.v)})}parseString(e){if(!e.startsWith("hsv"))return;const t=/hsva?\(\s*(\d+)°\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),s=4,o={h:1,s:2,v:3,a:5},l=1,u=10;return i?OF({a:i.length>s?Ih(i[o.a]):l,h:parseInt(i[o.h],u),s:parseInt(i[o.s],u),v:parseInt(i[o.v],u)}):void 0}}async function DF(n,e=!0){n.checkVersion("3.8.1"),await n.addColorManager(new kF,e)}class MF{constructor(){this.color=new Je,this.color.value="#ff0000",this.radius=0,this.rate=1}load(e){X(e)||(e.color!==void 0&&(this.color=Je.create(this.color,e.color)),this.duration=e.duration,this.infectedStage=e.infectedStage,e.radius!==void 0&&(this.radius=e.radius),e.rate!==void 0&&(this.rate=e.rate))}}class VF{constructor(){this.cure=!1,this.delay=0,this.enable=!1,this.infections=0,this.stages=[]}load(e){X(e)||(e.cure!==void 0&&(this.cure=e.cure),e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable),e.infections!==void 0&&(this.infections=e.infections),e.stages!==void 0&&(this.stages=e.stages.map(t=>{const i=new MF;return i.load(t),i})))}}const Td=0,NF=0;class LF{constructor(e){this._nextInfectionStage=t=>{const i=this._container.actualOptions.infection,{infection:s}=t;if(!i||!s)return;const o=i.stages.length;o<=Td||s.stage===void 0||(s.time=0,o<=++s.stage&&(i.cure?(delete s.stage,delete s.time):(s.stage=0,s.time=0)))},this._container=e}startInfection(e,t){const i=this._container.actualOptions.infection,{infection:s}=e;if(!i||!s)return;const o=i.stages,l=o.length;t>l||t<Td||(s.delay=0,s.delayStage=t)}updateInfection(e,t){const i=this._container.actualOptions.infection,{infection:s}=e;if(!i||!s)return;const o=i.stages,l=o.length;if(s.delay!==void 0&&s.delayStage!==void 0){const u=s.delayStage;if(u>l||u<Td)return;s.delay>=i.delay*gt?(s.stage=u,s.time=0,delete s.delay,delete s.delayStage):s.delay+=t}else delete s.delay,delete s.delayStage;if(s.stage!==void 0&&s.time!==void 0){const u=o[s.stage];u.duration!==void 0&&u.duration>=NF&&s.time>u.duration*gt?this._nextInfectionStage(e):s.time+=t}else delete s.stage,delete s.time}updateInfectionStage(e,t){const i=this._container.actualOptions,{infection:s}=e;if(!i.infection||!s)return;const o=i.infection.stages.length;t>o||t<Td||s.stage!==void 0&&s.stage>t||(s.stage=t,s.time=0)}}const zF=0;class UF{constructor(e){this._container=e,this._container.infecter=new LF(this._container)}particleFillColor(e){const t=this._container.actualOptions;if(!e.infection||!t.infection)return;const i=e.infection.stage,s=t.infection,o=s.stages;return i!==void 0?o[i].color:void 0}particleStrokeColor(e){return this.particleFillColor(e)}particlesSetup(){var t;const e=this._container.actualOptions;if(e.infection)for(let i=0;i<e.infection.infections;i++){const s=this._container.particles.filter(l=>{const u=l;return u.infection||(u.infection={}),u.infection.stage===void 0}),o=As(s);(t=this._container.infecter)==null||t.startInfection(o,zF)}}}class GF{constructor(){this.id="infection"}getPlugin(e){return Promise.resolve(new UF(e))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.infection;(i==null?void 0:i.load)===void 0&&(e.infection=i=new VF),i.load(t==null?void 0:t.infection)}needsPlugin(e){var t;return((t=e==null?void 0:e.infection)==null?void 0:t.enable)??!1}}const BF=1,jF=2;class HF extends bc{constructor(e){super(e)}clear(){}init(){}interact(e,t){var A,x,O;const i=this.container.infecter;if(!i||(i.updateInfection(e,t.value),((A=e.infection)==null?void 0:A.stage)===void 0))return;const s=this.container,o=s.actualOptions,l=o.infection;if(!(l!=null&&l.enable)||l.stages.length<BF)return;const u=l.stages[e.infection.stage],h=s.retina.pixelRatio,d=e.getRadius()*jF+u.radius*h,g=e.getPosition(),_=u.infectedStage??e.infection.stage,v=s.particles.quadTree.queryCircle(g,d),b=u.rate,S=v.length;for(const U of v){const L=U;if(!(L===e||L.destroyed||L.spawning||!(((x=L.infection)==null?void 0:x.stage)===void 0||L.infection.stage!==e.infection.stage)||me()>=b/S)){if(((O=L.infection)==null?void 0:O.stage)===void 0)i.startInfection(L,_);else if(L.infection.stage<e.infection.stage)i.updateInfectionStage(L,_);else if(L.infection.stage>e.infection.stage){const H=l.stages[L.infection.stage],W=(H==null?void 0:H.infectedStage)??L.infection.stage;i.updateInfectionStage(e,W)}}}}isEnabled(){var e,t;return((t=(e=this.container.actualOptions)==null?void 0:e.infection)==null?void 0:t.enable)??!1}reset(){}}async function FF(n,e=!0){n.checkVersion("3.8.1");const t=new GF;await n.addPlugin(t,e),await n.addInteractor("particlesInfection",i=>Promise.resolve(new HF(i)),e)}const tr={x:0,y:0},qF=.55;function $F(n){const{context:e,radius:t}=n,i=t*qF;e.moveTo(tr.x,tr.y),e.bezierCurveTo(i,-t,i,t,tr.x,tr.y),e.moveTo(tr.x,tr.y),e.bezierCurveTo(-i,-t,tr.x-i,t,tr.x,tr.y)}class QF{constructor(){this.validTypes=["infinity"]}draw(e){$F(e)}}async function KF(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new QF,e)}const t2={max:1,min:0},YF=.5,XF=2,n2=Math.PI*YF,EC=Math.PI*XF,WF=.25,ZF=Math.PI*WF,i2=0,TC="light";function JF(n,e,t){var l;const i=(l=n.actualOptions.interactivity.modes.light)==null?void 0:l.area;if(!i)return;e.beginPath(),e.arc(t.x,t.y,i.radius,i2,EC);const s=e.createRadialGradient(t.x,t.y,i2,t.x,t.y,i.radius),o=n.canvas.mouseLight;!(o!=null&&o.start)||!o.stop||(s.addColorStop(t2.min,Un(o.start)),s.addColorStop(t2.max,Un(o.stop)),e.fillStyle=s,e.fill())}function eq(n,e,t,i){var L;const s=t.getPosition(),o=(L=n.actualOptions.interactivity.modes.light)==null?void 0:L.shadow;if(!o)return;const l=t.lightShadow;if(!l)return;const u=t.getRadius(),h=t.sides,d=EC/h,g=-t.rotation+ZF,_=1,v=[];for(let H=0;H<h;H++)v.push({x:s.x+u*Math.sin(g+d*H)*_,y:s.y+u*Math.cos(g+d*H)*_});const b=[],S=o.length;for(const H of v){const W=Math.atan2(i.y-H.y,i.x-H.x),le={x:H.x+S*Math.sin(-W-n2),y:H.y+S*Math.cos(-W-n2)};b.push({end:le,start:H})}const A=Un(l),x=1,O=0,U=b.length-x;for(let H=U,W=0;H>=O;W=H--)e.beginPath(),e.moveTo(b[H].start.x,b[H].start.y),e.lineTo(b[W].start.x,b[W].start.y),e.lineTo(b[W].end.x,b[W].end.y),e.lineTo(b[H].end.x,b[H].end.y),e.fillStyle=A,e.fill()}class tq{constructor(){this.start=new Je,this.stop=new Je,this.start.value="#ffffff",this.stop.value="#000000"}load(e){X(e)||(this.start=Je.create(this.start,e.start),this.stop=Je.create(this.stop,e.stop))}}class nq{constructor(){this.gradient=new tq,this.radius=1e3}load(e){X(e)||(this.gradient.load(e.gradient),e.radius!==void 0&&(this.radius=e.radius))}}class iq{constructor(){this.color=new Je,this.color.value="#000000",this.length=2e3}load(e){X(e)||(this.color=Je.create(this.color,e.color),e.length!==void 0&&(this.length=e.length))}}class sq{constructor(){this.area=new nq,this.shadow=new iq}load(e){X(e)||(this.area.load(e.area),this.shadow.load(e.shadow))}}class rq extends Yn{constructor(e,t){super(e),this._engine=t}clear(){}init(){}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity;if(!t.interactivity.events.onHover.enable||i.status!=="pointermove")return;const s=i.mouse.position;s&&e.canvas.draw(o=>{JF(e,o,s)})}isEnabled(e){const t=this.container,i=t.interactivity.mouse,s=(e==null?void 0:e.interactivity)??t.actualOptions.interactivity,o=s.events;if(!(o.onHover.enable&&i.position))return!1;const l=st(TC,o.onHover.mode);if(l&&s.modes.light){const u=s.modes.light.area.gradient;t.canvas.mouseLight={start:bn(this._engine,u.start),stop:bn(this._engine,u.stop)}}return l}loadModeOptions(e,...t){e.light||(e.light=new sq);for(const i of t)e.light.load(i==null?void 0:i.light)}reset(){}}class oq extends bc{constructor(e,t){super(e),this._engine=t}clear(){}init(){}interact(e){const t=this.container,i=t.actualOptions,s=t.interactivity;if(!i.interactivity.events.onHover.enable||s.status!=="pointermove")return;const o=s.mouse.position;o&&t.canvas.draw(l=>{eq(t,l,e,o)})}isEnabled(e){const t=this.container,i=e.interactivity??t.actualOptions.interactivity,s=t.interactivity.mouse,o=i.events;if(!(o.onHover.enable&&s.position))return!1;const l=st(TC,o.onHover.mode);if(l&&i.modes.light){const u=i.modes.light.shadow;e.lightShadow=bn(this._engine,u.color)}return l}reset(){}}async function aq(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalLight",t=>Promise.resolve(new rq(t,n)),e),await n.addInteractor("particlesLight",t=>Promise.resolve(new oq(t,n)),e)}class lq{constructor(){this.factor=4,this.value=!0}load(e){X(e)||(e.factor!==void 0&&(this.factor=e.factor),e.value!==void 0&&(this.value=e.value))}}class cq{constructor(){this.disable=!1,this.reduce=new lq}load(e){X(e)||(e.disable!==void 0&&(this.disable=e.disable),this.reduce.load(e.reduce))}}const s2=1,uq=0,hq=1;class fq{constructor(e,t){this._handleMotionChange=i=>{const s=this._container,o=s.actualOptions.motion;o&&(i.matches?o.disable?s.retina.reduceFactor=uq:s.retina.reduceFactor=o.reduce.value?hq/o.reduce.factor:s2:s.retina.reduceFactor=1)},this._container=e,this._engine=t}async init(){const e=this._container,t=e.actualOptions.motion;if(!(t&&(t.disable||t.reduce.value))){e.retina.reduceFactor=1;return}const i=a0("(prefers-reduced-motion: reduce)");if(!i){e.retina.reduceFactor=s2;return}this._handleMotionChange(i);const s=()=>{(async()=>{this._handleMotionChange(i);try{await e.refresh()}catch{}})()};i.addEventListener!==void 0?i.addEventListener("change",s):i.addListener!==void 0&&i.addListener(s),await Promise.resolve()}}class dq{constructor(e){this.id="motion",this._engine=e}getPlugin(e){return Promise.resolve(new fq(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin())return;let i=e.motion;i!=null&&i.load||(e.motion=i=new cq),i.load(t==null?void 0:t.motion)}needsPlugin(){return!0}}async function pq(n,e=!0){n.checkVersion("3.8.1"),await n.addPlugin(new dq(n),e)}const mq=new Map([["aliceblue",{r:240,g:248,b:255}],["antiquewhite",{r:250,g:235,b:215}],["aqua",{r:0,g:255,b:255}],["aquamarine",{r:127,g:255,b:212}],["azure",{r:240,g:255,b:255}],["beige",{r:245,g:245,b:220}],["bisque",{r:255,g:228,b:196}],["black",{r:0,g:0,b:0}],["blanchedalmond",{r:255,g:235,b:205}],["blue",{r:0,g:0,b:255}],["blueviolet",{r:138,g:43,b:226}],["brown",{r:165,g:42,b:42}],["burlywood",{r:222,g:184,b:135}],["cadetblue",{r:95,g:158,b:160}],["chartreuse",{r:127,g:255,b:0}],["chocolate",{r:210,g:105,b:30}],["coral",{r:255,g:127,b:80}],["cornflowerblue",{r:100,g:149,b:237}],["cornsilk",{r:255,g:248,b:220}],["crimson",{r:220,g:20,b:60}],["cyan",{r:0,g:255,b:255}],["darkblue",{r:0,g:0,b:139}],["darkcyan",{r:0,g:139,b:139}],["darkgoldenrod",{r:184,g:134,b:11}],["darkgray",{r:169,g:169,b:169}],["darkgreen",{r:0,g:100,b:0}],["darkgrey",{r:169,g:169,b:169}],["darkkhaki",{r:189,g:183,b:107}],["darkmagenta",{r:139,g:0,b:139}],["darkolivegreen",{r:85,g:107,b:47}],["darkorange",{r:255,g:140,b:0}],["darkorchid",{r:153,g:50,b:204}],["darkred",{r:139,g:0,b:0}],["darksalmon",{r:233,g:150,b:122}],["darkseagreen",{r:143,g:188,b:143}],["darkslateblue",{r:72,g:61,b:139}],["darkslategray",{r:47,g:79,b:79}],["darkslategrey",{r:47,g:79,b:79}],["darkturquoise",{r:0,g:206,b:209}],["darkviolet",{r:148,g:0,b:211}],["deeppink",{r:255,g:20,b:147}],["deepskyblue",{r:0,g:191,b:255}],["dimgray",{r:105,g:105,b:105}],["dimgrey",{r:105,g:105,b:105}],["dodgerblue",{r:30,g:144,b:255}],["firebrick",{r:178,g:34,b:34}],["floralwhite",{r:255,g:250,b:240}],["forestgreen",{r:34,g:139,b:34}],["fuchsia",{r:255,g:0,b:255}],["gainsboro",{r:220,g:220,b:220}],["ghostwhite",{r:248,g:248,b:255}],["gold",{r:255,g:215,b:0}],["goldenrod",{r:218,g:165,b:32}],["gray",{r:128,g:128,b:128}],["green",{r:0,g:128,b:0}],["greenyellow",{r:173,g:255,b:47}],["grey",{r:128,g:128,b:128}],["honeydew",{r:240,g:255,b:240}],["hotpink",{r:255,g:105,b:180}],["indianred",{r:205,g:92,b:92}],["indigo",{r:75,g:0,b:130}],["ivory",{r:255,g:255,b:240}],["khaki",{r:240,g:230,b:140}],["lavender",{r:230,g:230,b:250}],["lavenderblush",{r:255,g:240,b:245}],["lawngreen",{r:124,g:252,b:0}],["lemonchiffon",{r:255,g:250,b:205}],["lightblue",{r:173,g:216,b:230}],["lightcoral",{r:240,g:128,b:128}],["lightcyan",{r:224,g:255,b:255}],["lightgoldenrodyellow",{r:250,g:250,b:210}],["lightgray",{r:211,g:211,b:211}],["lightgreen",{r:144,g:238,b:144}],["lightgrey",{r:211,g:211,b:211}],["lightpink",{r:255,g:182,b:193}],["lightsalmon",{r:255,g:160,b:122}],["lightseagreen",{r:32,g:178,b:170}],["lightskyblue",{r:135,g:206,b:250}],["lightslategray",{r:119,g:136,b:153}],["lightslategrey",{r:119,g:136,b:153}],["lightsteelblue",{r:176,g:196,b:222}],["lightyellow",{r:255,g:255,b:224}],["lime",{r:0,g:255,b:0}],["limegreen",{r:50,g:205,b:50}],["linen",{r:250,g:240,b:230}],["magenta",{r:255,g:0,b:255}],["maroon",{r:128,g:0,b:0}],["mediumaquamarine",{r:102,g:205,b:170}],["mediumblue",{r:0,g:0,b:205}],["mediumorchid",{r:186,g:85,b:211}],["mediumpurple",{r:147,g:112,b:219}],["mediumseagreen",{r:60,g:179,b:113}],["mediumslateblue",{r:123,g:104,b:238}],["mediumspringgreen",{r:0,g:250,b:154}],["mediumturquoise",{r:72,g:209,b:204}],["mediumvioletred",{r:199,g:21,b:133}],["midnightblue",{r:25,g:25,b:112}],["mintcream",{r:245,g:255,b:250}],["mistyrose",{r:255,g:228,b:225}],["moccasin",{r:255,g:228,b:181}],["navajowhite",{r:255,g:222,b:173}],["navy",{r:0,g:0,b:128}],["oldlace",{r:253,g:245,b:230}],["olive",{r:128,g:128,b:0}],["olivedrab",{r:107,g:142,b:35}],["orange",{r:255,g:165,b:0}],["orangered",{r:255,g:69,b:0}],["orchid",{r:218,g:112,b:214}],["palegoldenrod",{r:238,g:232,b:170}],["palegreen",{r:152,g:251,b:152}],["paleturquoise",{r:175,g:238,b:238}],["palevioletred",{r:219,g:112,b:147}],["papayawhip",{r:255,g:239,b:213}],["peachpuff",{r:255,g:218,b:185}],["peru",{r:205,g:133,b:63}],["pink",{r:255,g:192,b:203}],["plum",{r:221,g:160,b:221}],["powderblue",{r:176,g:224,b:230}],["purple",{r:128,g:0,b:128}],["rebeccapurple",{r:102,g:51,b:153}],["red",{r:255,g:0,b:0}],["rosybrown",{r:188,g:143,b:143}],["royalblue",{r:65,g:105,b:225}],["saddlebrown",{r:139,g:69,b:19}],["salmon",{r:250,g:128,b:114}],["sandybrown",{r:244,g:164,b:96}],["seagreen",{r:46,g:139,b:87}],["seashell",{r:255,g:245,b:238}],["sienna",{r:160,g:82,b:45}],["silver",{r:192,g:192,b:192}],["skyblue",{r:135,g:206,b:235}],["slateblue",{r:106,g:90,b:205}],["slategray",{r:112,g:128,b:144}],["slategrey",{r:112,g:128,b:144}],["snow",{r:255,g:250,b:250}],["springgreen",{r:0,g:255,b:127}],["steelblue",{r:70,g:130,b:180}],["tan",{r:210,g:180,b:140}],["teal",{r:0,g:128,b:128}],["thistle",{r:216,g:191,b:216}],["tomato",{r:255,g:99,b:71}],["turquoise",{r:64,g:224,b:208}],["violet",{r:238,g:130,b:238}],["wheat",{r:245,g:222,b:179}],["white",{r:255,g:255,b:255}],["whitesmoke",{r:245,g:245,b:245}],["yellow",{r:255,g:255,b:0}],["yellowgreen",{r:154,g:205,b:50}]]);class gq{constructor(){this.key="named",this.stringPrefix=""}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(!e||typeof e!="string")return;const t=mq.get(e.toLowerCase());if(!t){mr().error("Color not found",e);return}return{...t,a:255}}}async function yq(n,e=!0){n.checkVersion("3.8.1"),await n.addColorManager(new gq,e)}const Kl=255,xC=360;function tv(n){const e=n.l/ze,t=n.c,i=n.h/xC,s={r:0,g:0,b:0};return s.r=Math.floor(e*Kl),s.g=Math.floor(t*Kl),s.b=Math.floor(i*Kl),s}function _q(n){return{a:n.a,...tv(n)}}function nv(n){const e=n.l/ze,t=n.c/ze,i=n.h/xC,s={r:0,g:0,b:0};return s.r=Math.floor(e*Kl),s.g=Math.floor(t*Kl),s.b=Math.floor(i*Kl),s}function vq(n){return{a:n.a,...nv(n)}}class wq{constructor(){this.key="color",this.stringPrefix="lch"}handleColor(e){const t=e.value,i=t.lch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return tv(i)}handleRangeColor(e){const t=e.value,i=t.lch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return tv({l:ne(i.l),c:ne(i.c),h:ne(i.h)})}parseString(e){if(!e.startsWith("lch"))return;const i=/lch\(\s*(\d+(\.\d+)?)%\s+(\d+(\.\d+)?)\s+(\d+(\.\d+)?)(?:\s*\/\s*(0|1|0?\.\d+|\d{1,3}%))?\s*\)/i,s=i.exec(e),o={l:1,c:3,h:5,a:7};return s?_q({a:s[o.a]?Ih(s[o.a]):1,c:parseFloat(s[o.c]),h:parseFloat(s[o.h]),l:parseFloat(s[o.l])}):void 0}}class bq{constructor(){this.key="color",this.stringPrefix="oklch"}handleColor(e){const t=e.value,i=t.oklch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return nv(i)}handleRangeColor(e){const t=e.value,i=t.oklch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return nv({l:ne(i.l),c:ne(i.c),h:ne(i.h)})}parseString(e){if(!e.startsWith("oklch"))return;const i=/oklch\(\s*(\d+(\.\d+)?)%\s+(\d+(\.\d+)?)\s+(\d+(\.\d+)?)(°)?(?:\s*\/\s*(0|1|0?\.\d+|\d{1,3}%))?\s*\)/i,s=i.exec(e),o={l:1,c:3,h:5,a:7};return s?vq({a:s[o.a]?Ih(s[o.a]):1,c:parseFloat(s[o.c]),h:parseFloat(s[o.h]),l:parseFloat(s[o.l])}):void 0}}async function Sq(n,e=!0){n.checkVersion("3.8.1"),await n.addColorManager(new bq,e),await n.addColorManager(new wq,e)}class Eq extends ui{constructor(){super(),this.value=45}load(e){X(e)||super.load(e)}}class Tq{constructor(){this.animation=new lm,this.enable=!1,this.opacity=1,this.rotation=new Eq,this.width=1}load(e){X(e)||(this.animation.load(e.animation),this.rotation.load(e.rotation),e.enable!==void 0&&(this.enable=e.enable),e.opacity!==void 0&&(this.opacity=ge(e.opacity)),e.width!==void 0&&(this.width=ge(e.width)),e.radius!==void 0&&(this.radius=ge(e.radius)),e.color!==void 0&&(this.color=Je.create(this.color,e.color)))}}var Ul;(function(n){n.front="front",n.back="back"})(Ul||(Ul={}));const xq=0,Aq=.5,Rq=2;function Cq(n,e,t,i,s,o,l,u,h){if(o<=xq)return;const d=e.getPosition();t&&(n.strokeStyle=mo(t,s)),n.lineWidth=o;const g=Hi(l);n.beginPath(),n.ellipse(d.x,d.y,i*Aq,i*Rq,g,u,h),n.stroke()}const Pq=2,Iq=.5,r2=Math.PI*Pq,o2=0,iv=Math.PI*Iq,a2=Math.PI+iv,Oq=0,kq=1,Dq=1,l2=0;class Mq{constructor(e,t){this._engine=t,this._container=e}afterDraw(e){const t=e.options.orbit;t!=null&&t.enable&&this.drawOrbit(e,Ul.front)}beforeDraw(e){const t=e.options.orbit;t!=null&&t.enable&&this.drawOrbit(e,Ul.back)}drawOrbit(e,t){const i=this._container;let s,o;switch(t){case Ul.back:s=iv,o=a2;break;case Ul.front:s=a2,o=iv;break;default:s=Oq,o=r2}i.canvas.draw(l=>{Cq(l,e,e.orbitColor??e.getFillColor(),e.retina.orbitRadius??i.retina.orbitRadius??e.getRadius(),e.orbitOpacity??kq,e.orbitWidth??Dq,(e.orbitRotation??l2)*i.retina.pixelRatio,s,o)})}init(e){const t=this._container,i=e.options,s=i.orbit;s!=null&&s.enable&&(e.orbitRotation=ne(s.rotation.value),e.orbitColor=Rs(this._engine,s.color),e.retina.orbitRadius=s.radius!==void 0?ne(s.radius)*t.retina.pixelRatio:void 0,t.retina.orbitRadius=e.retina.orbitRadius,e.orbitAnimationSpeed=s.animation.enable?ne(s.animation.speed):o2,e.orbitWidth=ne(s.width),e.orbitOpacity=ne(s.opacity))}isEnabled(e){var i;const t=(i=e.options.orbit)==null?void 0:i.animation;return!e.destroyed&&!e.spawning&&!!(t!=null&&t.enable)}loadOptions(e,...t){e.orbit||(e.orbit=new Tq);for(const i of t)e.orbit.load(i==null?void 0:i.orbit)}update(e,t){this.isEnabled(e)&&(e.orbitRotation===void 0&&(e.orbitRotation=l2),e.orbitRotation+=(e.orbitAnimationSpeed??o2/r2)*t.factor)}}async function Vq(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("orbit",t=>Promise.resolve(new Mq(t,n)),e)}class Nq extends ui{constructor(){super(),this.enabled=!1,this.distance=1,this.duration=1,this.factor=1,this.speed=1}load(e){super.load(e),!X(e)&&(e.enabled!==void 0&&(this.enabled=e.enabled),e.distance!==void 0&&(this.distance=ge(e.distance)),e.duration!==void 0&&(this.duration=ge(e.duration)),e.factor!==void 0&&(this.factor=ge(e.factor)),e.speed!==void 0&&(this.speed=ge(e.speed)))}}const Lq=0,zq=1,Uq=2,Gq=0;class Bq extends bc{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;if(!e.repulse){const o=e.options.repulse;if(!o)return;e.repulse={distance:ne(o.distance)*t.retina.pixelRatio,speed:ne(o.speed),factor:ne(o.factor)}}const i=e.getPosition(),s=t.particles.quadTree.queryCircle(i,e.repulse.distance);for(const o of s){if(e===o||o.destroyed)continue;const l=o.getPosition(),{dx:u,dy:h,distance:d}=Lt(l,i),g=e.repulse.speed*e.repulse.factor;if(d>Lq){const _=Kn((zq-Math.pow(d/e.repulse.distance,Uq))*g,Gq,g),v=Ue.create(u/d*_,h/d*_);o.position.addTo(v)}else{const _=Ue.create(g,g);o.position.addTo(_)}}}isEnabled(e){var t;return((t=e.options.repulse)==null?void 0:t.enabled)??!1}loadParticlesOptions(e,...t){e.repulse||(e.repulse=new Nq);for(const i of t)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function jq(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("particlesRepulse",t=>Promise.resolve(new Bq(t)),e)}var Ci;(function(n){n.line="line",n.bezier="bezier",n.quadratic="quadratic",n.arc="arc",n.ellipse="ellipse"})(Ci||(Ci={}));function Hq(n,e,t){const s=t.segments[0],o=s.values[0];n.moveTo(o.x*e,o.y*e);for(const h of t.segments){const d=h.values[0],g=1,_=2,v=3;switch(h.type){case Ci.line:n.lineTo(d.x*e,d.y*e);break;case Ci.bezier:n.bezierCurveTo(h.values[g].x*e,h.values[g].y*e,h.values[_].x*e,h.values[_].y*e,h.values[v].x*e,h.values[v].y*e);break;case Ci.quadratic:n.quadraticCurveTo(h.values[g].x*e,h.values[g].y*e,h.values[_].x*e,h.values[_].y*e);break;case Ci.arc:n.arc(d.x*e,d.y*e,h.values[g].x*e,h.values[_].x,h.values[_].y);break;case Ci.ellipse:n.ellipse(d.x*e,d.y*e,h.values[g].x*e,h.values[g].y*e,h.values[_].x,h.values[v].x,h.values[v].y)}}if(!t.half)return;const l=1,u=0;for(let h=t.segments.length-l;h>=u;h--){const d=t.segments[h],g=d.values[0],_=1,v=2;switch(d.type){case Ci.line:n.lineTo(g.x*-e,g.y*e);break;case Ci.bezier:n.bezierCurveTo(-d.values[v].x*e,d.values[v].y*e,-d.values[_].x*e,d.values[_].y*e,g.x*e,g.y*e);break;case Ci.quadratic:n.quadraticCurveTo(-d.values[_].x*e,d.values[_].y*e,-d.values[v].x*e,d.values[v].y*e);break;case Ci.arc:case Ci.ellipse:}}}class Fq{constructor(){this.validTypes=["path"]}draw(e){const{context:t,particle:i,radius:s}=e;i.pathData&&Hq(t,s,i.pathData)}particleInit(e,t){const i=t.shapeData;i&&(t.pathData=ut({},i))}}async function qq(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new Fq,e)}class Ri{constructor(e,t,i){this.x=e,this.y=t,this.z=i}dot2(e,t){return this.x*e+this.y*t}dot3(e,t,i){return this.dot2(e,t)+this.z*i}}class $q{constructor(){this._grad3=[new Ri(1,1,0),new Ri(-1,1,0),new Ri(1,-1,0),new Ri(-1,-1,0),new Ri(1,0,1),new Ri(-1,0,1),new Ri(1,0,-1),new Ri(-1,0,-1),new Ri(0,1,1),new Ri(0,-1,1),new Ri(0,1,-1),new Ri(0,-1,-1)],this._p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this._gradP=new Array(512),this._perm=new Array(512)}noise2d(e,t){const{_gradP:i,_perm:s}=this;let o=Math.floor(e),l=Math.floor(t);e=e-o,t=t-l,o=o&255,l=l&255;const u=i[o+s[l]].dot2(e,t),h=i[o+s[l+1]].dot2(e,t-1),d=i[o+1+s[l]].dot2(e-1,t),g=i[o+1+s[l+1]].dot2(e-1,t-1),_=this._fade(e);return this._lerp(this._lerp(u,d,_),this._lerp(h,g,_),this._fade(t))}noise3d(e,t,i){const{_gradP:s,_perm:o}=this;let l=Math.floor(e),u=Math.floor(t),h=Math.floor(i);e=e-l,t=t-u,i=i-h,l=l&255,u=u&255,h=h&255;const d=s[l+o[u+o[h]]].dot3(e,t,i),g=s[l+o[u+o[h+1]]].dot3(e,t,i-1),_=s[l+o[u+1+o[h]]].dot3(e,t-1,i),v=s[l+o[u+1+o[h+1]]].dot3(e,t-1,i-1),b=s[l+1+o[u+o[h]]].dot3(e-1,t,i),S=s[l+1+o[u+o[h+1]]].dot3(e-1,t,i-1),A=s[l+1+o[u+1+o[h]]].dot3(e-1,t-1,i),x=s[l+1+o[u+1+o[h+1]]].dot3(e-1,t-1,i-1),O=this._fade(e),U=this._fade(t),L=this._fade(i);return this._lerp(this._lerp(this._lerp(d,b,O),this._lerp(g,S,O),L),this._lerp(this._lerp(_,A,O),this._lerp(v,x,O),L),U)}seed(e){const{_grad3:t,_gradP:i,_perm:s,_p:o}=this;let l=e;l>0&&l<1&&(l*=65536),l=Math.floor(l),l<256&&(l|=l<<8);for(let u=0;u<256;u++){const h=u&1?o[u]^l&255:o[u]^l>>8&255;s[u]=s[u+256]=h,i[u]=i[u+256]=t[h%12]}}_fade(e){return e*e*e*(e*(e*6-15)+10)}_lerp(e,t,i){return(1-i)*e+i*t}}const Qq=2,Kq=Math.PI*Qq,aa={draw:!1,size:20,increment:.004,columns:0,rows:0,width:0,height:0,factor:{angle:.02,length:.01},offset:{x:4e4,y:4e4}};class Yq{constructor(){this._calculateField=()=>{const{field:e,noiseGen:t,options:i}=this,s=i.factor.length,o=i.factor.angle;for(let l=0;l<i.columns;l++){const u=e[l];for(let h=0;h<i.rows;h++){const d=u[h];d.length=t.noise3d(l*s+i.offset.x,h*s+i.offset.y,this.noiseZ),d.angle=t.noise3d(l*o,h*o,this.noiseZ)*Kq}}},this._drawField=e=>{const{field:t,options:i}=this;for(let s=0;s<i.columns;s++){const o=t[s];for(let l=0;l<i.rows;l++){const u=o[l],{angle:h,length:d}=u;e.setTransform(1,0,0,1,s*this.options.size,l*this.options.size),e.rotate(h),e.strokeStyle="white",e.beginPath(),e.moveTo(0,0),e.lineTo(0,this.options.size*d),e.stroke(),e.setTransform(1,0,0,1,0,0)}}},this._initField=()=>{const{columns:e,rows:t}=this.options;this.field=new Array(e);for(let i=0;i<e;i++){this.field[i]=new Array(t);for(let s=0;s<t;s++)this.field[i][s]=Ue.origin}},this.noiseGen=new $q,this.field=[],this.noiseZ=0,this.options=ut({},aa)}generate(e){var l;const t=e.getPosition(),{size:i}=this.options,s={x:Math.max(Math.floor(t.x/i),0),y:Math.max(Math.floor(t.y/i),0)},{field:o}=this;return(l=o==null?void 0:o[s.x])!=null&&l[s.y]?o[s.x][s.y].copy():Ue.origin}init(e){this.container=e,this._setup()}reset(){}update(){this.container&&(this._calculateField(),this.noiseZ+=this.options.increment,this.options.draw&&this.container.canvas.draw(e=>this._drawField(e)))}_resetField(){const e=this.container;if(!e)return;const t=e.actualOptions.particles.move.path.options,{options:i}=this;i.size=t.size>0?t.size:aa.size,i.increment=t.increment>0?t.increment:aa.increment,i.draw=!!t.draw;const s=t.offset;i.offset.x=(s==null?void 0:s.x)??aa.offset.x,i.offset.y=(s==null?void 0:s.y)??aa.offset.y;const o=t.factor;i.factor.angle=(o==null?void 0:o.angle)??aa.factor.angle,i.factor.length=(o==null?void 0:o.length)??aa.factor.length,i.width=e.canvas.size.width,i.height=e.canvas.size.height,this.options.seed=t.seed,this.noiseGen.seed(this.options.seed??me()),i.columns=Math.floor(this.options.width/this.options.size)+1,i.rows=Math.floor(this.options.height/this.options.size)+1,this._initField()}_setup(){this.noiseZ=0,this._resetField(),window.addEventListener("resize",()=>this._resetField())}}const Xq="perlinNoise";async function Wq(n,e=!0){n.checkVersion("3.8.1"),await n.addPathGenerator(Xq,new Yq,e)}class Zq{constructor(){this.enable=!1,this.dimensions=2,this.radius=0,this.retries=30,this.steps=0}load(e){X(e)||(e.enable!==void 0&&(this.enable=e.enable),e.dimensions!==void 0&&(this.dimensions=e.dimensions),e.radius!==void 0&&(this.radius=e.radius),e.retries!==void 0&&(this.retries=e.retries))}}const AC=2,Jq=Math.PI*AC;class e${constructor(e,t,i,s,o){this.size={...e},this.radius=t,this.retries=i,this.dimensions=s,this.cellSize=Math.floor(this.radius/Math.sqrt(this.dimensions)),this.cols=Math.floor(this.size.width/this.cellSize),this.rows=Math.floor(this.size.height/this.cellSize),this.points=[],this.active=[],this.grid=[],this.firstPoint=o?{...o}:void 0,this.reset()}addPoint(e){const t={position:{...e},gridPosition:{x:Math.floor(e.x/this.cellSize),y:Math.floor(e.y/this.cellSize)}},i=this.points.length;this.points.push(t),this.grid[t.gridPosition.y][t.gridPosition.x]=i,this.active.push(i)}getRandom(e,t){return Math.floor(me()*(t-e))+e}initialiseGrid(){for(let e=0;e<=this.rows;e++){this.grid[e]=[];for(let t=0;t<=this.cols;t++)this.grid[e][t]=-1}}reset(){this.points=[],this.active=[],this.grid=[],this.initialiseGrid(),this.firstPoint?this.addPoint(this.firstPoint):this.addPoint({x:this.getRandom(0,this.size.width),y:this.getRandom(0,this.size.height)})}async run(){this.reset();const e=0,t=1;for(;this.active.length>e;)await this.steps(t)}async steps(e){for(let i=0;i<e;i++)this.active.length<=0||await this._step()}_getNewPoint(e,t){const l=t*(Jq/this.retries),u=this.getRandom(this.radius,this.radius*AC),h={x:Math.cos(l)*u,y:Math.sin(l)*u},d={x:Math.floor(e.position.x+h.x),y:Math.floor(e.position.y+h.y)},g={x:Math.floor(d.x/this.cellSize),y:Math.floor(d.y/this.cellSize)};if(d.x>0&&d.x<this.size.width&&d.y>0&&d.y<this.size.height)if(this.grid[g.y][g.x]<0)for(let _=-1;_<=1;_++)for(let v=-1;v<=1;v++){const b={x:g.x+v,y:g.y+_};if(b.x>=0&&b.y>=0&&b.x<this.cols&&b.y<this.rows&&(b.x!==g.x||b.y!==g.y)&&this.grid[b.y][b.x]>=0){const S=this.grid[b.y][b.x],A=this.points[S];if(wn(d,A.position)<this.radius)return}}else return;else return;return d}async _step(){const t=this.getRandom(0,this.active.length);return new Promise(i=>{let s=!1;for(let o=0;o<this.retries;o++){const l=this._getNewPoint(this.points[this.active[t]],o);if(l){s=!0,this.addPoint(l);break}}s||this.active.splice(t,1),i()})}}class t${constructor(e,t){this._container=e,this._engine=t,this._currentIndex=0}async init(){await this._initData()}particlePosition(e){var s,o;const t=this._container,i=t.actualOptions.poisson;if(!(!this.poissonDisc||!((i==null?void 0:i.enable)??!1)||this._currentIndex>=this.poissonDisc.points.length))return e??((o=(s=this.poissonDisc)==null?void 0:s.points[this._currentIndex++])==null?void 0:o.position)}resize(){const e=this._container,t=e.actualOptions.poisson;if(!((t==null?void 0:t.enable)??!1))return;this.redrawTimeout&&clearTimeout(this.redrawTimeout);const i=250;this.redrawTimeout=window.setTimeout(()=>{(async()=>(await this._initData(),await e.particles.redraw()))()},i)}stop(){delete this.poissonDisc}async _initData(){const e=this._container,t=e.actualOptions.poisson,i=e.actualOptions.particles,s=e.canvas.size,o=e.retina.pixelRatio;if(!(t!=null&&t.enable))return;this._currentIndex=0,this.poissonDisc=new e$(s,t.radius?t.radius*o:Math.max(li(i.size.value)*o,Math.sqrt(s.width*s.height/i.number.value)),t.retries,t.dimensions),t.steps>0?await this.poissonDisc.steps(t.steps):await this.poissonDisc.run()}}class n${constructor(e){this.id="poisson",this._engine=e}getPlugin(e){return Promise.resolve(new t$(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.poisson;(i==null?void 0:i.load)===void 0&&(e.poisson=i=new Zq),i.load(t==null?void 0:t.poisson)}needsPlugin(e){var t;return((t=e==null?void 0:e.poisson)==null?void 0:t.enable)??!1}}async function i$(n,e=!0){n.checkVersion("3.8.1"),await n.addPlugin(new n$(n),e)}(function(){try{if(typeof window>"u")return;"SVGPathSeg"in window||(window.SVGPathSeg=function(n,e,t){this.pathSegType=n,this.pathSegTypeAsLetter=e,this._owningPathSegList=t},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",n)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",n),this._x=e,this._y=t},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",n),this._x=e,this._y=t},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",n),this._x=e,this._y=t},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",n),this._x=e,this._y=t},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(n,e,t,i,s,o,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",n),this._x=e,this._y=t,this._x1=i,this._y1=s,this._x2=o,this._y2=l},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter}  ${this._x1} ${this._y1} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(n,e,t,i,s,o,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",n),this._x=e,this._y=t,this._x1=i,this._y1=s,this._x2=o,this._y2=l},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x1} ${this._y1} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(n,e,t,i,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",n),this._x=e,this._y=t,this._x1=i,this._y1=s},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x1} ${this._y1} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(n,e,t,i,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",n),this._x=e,this._y=t,this._x1=i,this._y1=s},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x1} ${this._y1} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(n,e,t,i,s,o,l,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",n),this._x=e,this._y=t,this._r1=i,this._r2=s,this._angle=o,this._largeArcFlag=l,this._sweepFlag=u},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._r1} ${this._r2} ${this._angle} ${this._largeArcFlag?"1":"0"} ${this._sweepFlag?"1":"0"} ${this._x} ${this._y}`},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(n,e,t,i,s,o,l,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",n),this._x=e,this._y=t,this._r1=i,this._r2=s,this._angle=o,this._largeArcFlag=l,this._sweepFlag=u},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._r1} ${this._r2} ${this._angle} ${this._largeArcFlag?"1":"0"} ${this._sweepFlag?"1":"0"} ${this._x} ${this._y}`},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",n),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x}`},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",n),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x}`},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",n),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._y}`},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",n),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._y}`},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(n,e,t,i,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",n),this._x=e,this._y=t,this._x2=i,this._y2=s},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(n,e,t,i,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",n),this._x=e,this._y=t,this._x2=i,this._y2=s},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",n),this._x=e,this._y=t},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",n),this._x=e,this._y=t},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(n,e){return new window.SVGPathSegMovetoAbs(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(n,e){return new window.SVGPathSegMovetoRel(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(n,e){return new window.SVGPathSegLinetoAbs(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(n,e){return new window.SVGPathSegLinetoRel(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(n,e,t,i,s,o){return new window.SVGPathSegCurvetoCubicAbs(void 0,n,e,t,i,s,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(n,e,t,i,s,o){return new window.SVGPathSegCurvetoCubicRel(void 0,n,e,t,i,s,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(n,e,t,i){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(n,e,t,i){return new window.SVGPathSegCurvetoQuadraticRel(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(n,e,t,i,s,o,l){return new window.SVGPathSegArcAbs(void 0,n,e,t,i,s,o,l)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(n,e,t,i,s,o,l){return new window.SVGPathSegArcRel(void 0,n,e,t,i,s,o,l)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(n){return new window.SVGPathSegLinetoHorizontalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(n){return new window.SVGPathSegLinetoHorizontalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(n){return new window.SVGPathSegLinetoVerticalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(n){return new window.SVGPathSegLinetoVerticalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(n,e,t,i){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(n,e,t,i){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(n,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(n,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,n,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(n){if(n===void 0||!isFinite(n))throw"Invalid arguments.";const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));let t=e.pathSegList.numberOfItems-1;if(t<=0)return 0;do{if(e.pathSegList.removeItem(t),n>e.getTotalLength())break;t--}while(t>0);return t})),(!("SVGPathSegList"in window)||!("appendItem"in window.SVGPathSegList.prototype))&&(window.SVGPathSegList=function(n){this._pathElement=n,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathSegList.prototype,"length",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(n){if(!this._pathElement)return;let e=!1;n.forEach(function(t){t.attributeName=="d"&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(n){n._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(n){return this._checkPathSynchronizedToList(),this._list=[n],n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype._checkValidIndex=function(n){if(isNaN(n)||n<0||n>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(n){return this._checkPathSynchronizedToList(),this._checkValidIndex(n),this._list[n]},window.SVGPathSegList.prototype.insertItemBefore=function(n,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),n._owningPathSegList&&(n=n.clone()),this._list.splice(e,0,n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.replaceItem=function(n,e){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._checkValidIndex(e),this._list[e]=n,n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.removeItem=function(n){this._checkPathSynchronizedToList(),this._checkValidIndex(n);const e=this._list[n];return this._list.splice(n,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(n){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._list.push(n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList._pathSegArrayAsString=function(n){let e="",t=!0;return n.forEach(function(i){t?(t=!1,e+=i._asPathString()):e+=` ${i._asPathString()}`}),e},window.SVGPathSegList.prototype._parsePath=function(n){if(!n||!n.length)return[];const e=this,t=function(){this.pathSegList=[]};t.prototype.appendSegment=function(l){this.pathSegList.push(l)};const i=function(l){this._string=l,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){const l=this._string[this._currentIndex];return l<=" "&&(l==" "||l==`
`||l=="	"||l=="\r"||l=="\f")},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){const l=this._string[this._currentIndex];return this._pathSegTypeFromChar(l)},i.prototype._pathSegTypeFromChar=function(l){switch(l){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(l,u){return(l=="+"||l=="-"||l=="."||l>="0"&&l<="9")&&u!=window.SVGPathSeg.PATHSEG_CLOSEPATH?u==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:u==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:u:window.SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;const l=this.peekSegmentType();return l==window.SVGPathSeg.PATHSEG_MOVETO_ABS||l==window.SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){let l=0,u=0,h=1,d=0,g=1,_=1;const v=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,g=-1),this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")return;const b=this._currentIndex;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=b){let A=this._currentIndex-1,x=1;for(;A>=b;)u+=x*(this._string.charAt(A--)-"0"),x*=10}if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)h*=10,d+=(this._string.charAt(this._currentIndex)-"0")/h,this._currentIndex+=1}if(this._currentIndex!=v&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,_=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)l*=10,l+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}let S=u+d;if(S*=g,l&&(S*=Math.pow(10,_*l)),v!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),S},i.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return;let l=!1;const u=this._string.charAt(this._currentIndex++);if(u=="0")l=!1;else if(u=="1")l=!0;else return;return this._skipOptionalSpacesOrDelimiter(),l},i.prototype.parseSegment=function(){const l=this._string[this._currentIndex];let u=this._pathSegTypeFromChar(l);if(u==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(u=this._nextCommandHelper(l,this._previousCommand),u==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;this._previousCommand=u;let h;switch(u){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:return h={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicRel(e,h.x,h.y,h.x1,h.y1,h.x2,h.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return h={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(e,h.x,h.y,h.x1,h.y1,h.x2,h.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return h={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(e,h.x,h.y,h.x2,h.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return h={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(e,h.x,h.y,h.x2,h.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return h={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(e,h.x,h.y,h.x1,h.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return h={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(e,h.x,h.y,h.x1,h.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return h={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(e,h.x,h.y,h.x1,h.y1,h.arcAngle,h.arcLarge,h.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return h={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(e,h.x,h.y,h.x1,h.y1,h.arcAngle,h.arcLarge,h.arcSweep);default:throw"Unknown path seg type."}};const s=new t,o=new i(n);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){const l=o.parseSegment();if(!l)return[];s.appendSegment(l)}return s.pathSegList})}catch(n){console.warn("An error occurred in tsParticles pathseg polyfill. If the Polygon Mask is not working, please open an issue here: https://github.com/tsparticles/tsparticles",n)}})();class s${constructor(e){this._engine=e,this.color=new Je,this.width=.5,this.opacity=1}load(e){X(e)||(this.color=Je.create(this.color,e.color),Gn(this.color.value)&&(this.opacity=jN(this._engine,this.color.value)??this.opacity),e.opacity!==void 0&&(this.opacity=e.opacity),e.width!==void 0&&(this.width=e.width))}}class r${constructor(e){this.enable=!1,this.stroke=new s$(e)}load(e){if(X(e))return;e.enable!==void 0&&(this.enable=e.enable);const t=e.stroke;this.stroke.load(t)}}var gs;(function(n){n.equidistant="equidistant",n.onePerPoint="one-per-point",n.perPoint="per-point",n.randomLength="random-length",n.randomPoint="random-point"})(gs||(gs={}));class o${constructor(){this.arrangement=gs.onePerPoint}load(e){X(e)||e.arrangement!==void 0&&(this.arrangement=e.arrangement)}}class a${constructor(){this.path=[],this.size={height:0,width:0}}load(e){X(e)||(e.path!==void 0&&(this.path=e.path),e.size!==void 0&&(e.size.width!==void 0&&(this.size.width=e.size.width),e.size.height!==void 0&&(this.size.height=e.size.height)))}}var sv;(function(n){n.path="path",n.radius="radius"})(sv||(sv={}));class l${constructor(){this.radius=10,this.type=sv.path}load(e){X(e)||(e.radius!==void 0&&(this.radius=e.radius),e.type!==void 0&&(this.type=e.type))}}var gn;(function(n){n.inline="inline",n.inside="inside",n.outside="outside",n.none="none"})(gn||(gn={}));class c${constructor(e){this.draw=new r$(e),this.enable=!1,this.inline=new o$,this.move=new l$,this.scale=1,this.type=gn.none}load(e){X(e)||(this.draw.load(e.draw),this.inline.load(e.inline),this.move.load(e.move),e.scale!==void 0&&(this.scale=e.scale),e.type!==void 0&&(this.type=e.type),e.enable!==void 0?this.enable=e.enable:this.enable=this.type!==gn.none,e.url!==void 0&&(this.url=e.url),e.data!==void 0&&(Gn(e.data)?this.data=e.data:(this.data=new a$,this.data.load(e.data))),e.position!==void 0&&(this.position=ut({},e.position)))}}const c2=2,xd={min:0,max:1},u$=2;function h$(n,e,t,i){const s=bn(n,i.color);if(!s)return;const o=0,l=t[o];e.beginPath(),e.moveTo(l.x,l.y);for(const u of t)e.lineTo(u.x,u.y);e.closePath(),e.strokeStyle=Un(s),e.lineWidth=i.width,e.stroke()}function f$(n,e,t,i,s){const o={a:1,b:0,c:0,d:1};e.setTransform(o.a,o.b,o.c,o.d,s.x,s.y);const l=bn(n,i.color);l&&(e.strokeStyle=Un(l,i.opacity),e.lineWidth=i.width,e.stroke(t),e.resetTransform())}function d$(n,e,t){const i=[];for(const o of n){const l=o.element.pathSegList,u=(l==null?void 0:l.numberOfItems)??0,h={x:0,y:0};for(let d=0;d<u;d++){const g=l==null?void 0:l.getItem(d),_=window.SVGPathSeg;switch(g==null?void 0:g.pathSegType){case _.PATHSEG_MOVETO_ABS:case _.PATHSEG_LINETO_ABS:case _.PATHSEG_CURVETO_CUBIC_ABS:case _.PATHSEG_CURVETO_QUADRATIC_ABS:case _.PATHSEG_ARC_ABS:case _.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:case _.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:{const v=g;h.x=v.x,h.y=v.y;break}case _.PATHSEG_LINETO_HORIZONTAL_ABS:h.x=g.x;break;case _.PATHSEG_LINETO_VERTICAL_ABS:h.y=g.y;break;case _.PATHSEG_LINETO_REL:case _.PATHSEG_MOVETO_REL:case _.PATHSEG_CURVETO_CUBIC_REL:case _.PATHSEG_CURVETO_QUADRATIC_REL:case _.PATHSEG_ARC_REL:case _.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:case _.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:{const v=g;h.x+=v.x,h.y+=v.y;break}case _.PATHSEG_LINETO_HORIZONTAL_REL:h.x+=g.x;break;case _.PATHSEG_LINETO_VERTICAL_REL:h.y+=g.y;break;case _.PATHSEG_UNKNOWN:case _.PATHSEG_CLOSEPATH:continue}i.push({x:h.x*e+t.x,y:h.y*e+t.y})}}return i}function p$(n,e,t){const{dx:i,dy:s}=Lt(t,n),{dx:o,dy:l}=Lt(e,n),u=(i*o+s*l)/(o**c2+l**c2),h={x:n.x+o*u,y:n.y+l*u,isOnSegment:u>=xd.min&&u<=xd.max};return u<xd.min?(h.x=n.x,h.y=n.y):u>xd.max&&(h.x=e.x,h.y=e.y),h}function m$(n,e,t){const{dx:i,dy:s}=Lt(n,e),o=Math.atan2(s,i),l=Ue.create(Math.sin(o),-Math.cos(o)),u=u$*(t.x*l.x+t.y*l.y);l.multTo(u),t.subFrom(l)}const Ad=`${un} No polygon data loaded.`,g$=`${un} No polygon found, you need to specify SVG url in config.`,Il={x:0,y:0},Rd=.5,y$=2;class _${constructor(e,t){this._checkInsidePolygon=i=>{const s=this._container,o=s.actualOptions.polygon;if(!(o!=null&&o.enable)||o.type===gn.none||o.type===gn.inline)return!0;if(!this.raw)throw new Error(g$);const l=s.canvas.size,u=(i==null?void 0:i.x)??me()*l.width,h=(i==null?void 0:i.y)??me()*l.height,d=1;let g=!1;for(let _=0,v=this.raw.length-d;_<this.raw.length;v=_++){const b=this.raw[_],S=this.raw[v];b.y>h!=S.y>h&&u<(S.x-b.x)*(h-b.y)/(S.y-b.y)+b.x&&(g=!g)}return o.type===gn.inside?g:o.type===gn.outside?!g:!1},this._createPath2D=()=>{var o,l;if(!(!this._container.actualOptions.polygon||!((o=this.paths)!=null&&o.length)))for(const u of this.paths){const h=(l=u.element)==null?void 0:l.getAttribute("d");if(h){const _=new Path2D(h),v=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix(),b=new Path2D,S=v.scale(this._scale);b.addPath?(b.addPath(_,S),u.path2d=b):delete u.path2d}else delete u.path2d;if(u.path2d??!this.raw)continue;u.path2d=new Path2D;const d=0,g=this.raw[d];u.path2d.moveTo(g.x,g.y),this.raw.forEach((_,v)=>{var b;v>d&&((b=u.path2d)==null||b.lineTo(_.x,_.y))}),u.path2d.closePath()}},this._downloadSvgPath=async(i,s)=>{const o=this._container.actualOptions.polygon;if(!o)return;const l=i??o.url,u=s??!1;if(!l||this.paths!==void 0&&!u)return this.raw;const h=await fetch(l);if(!h.ok)throw new Error(`${un} occurred during polygon mask download`);return this._parseSvgPath(await h.text(),s)},this._drawPoints=()=>{if(this.raw)for(const i of this.raw)this._container.particles.addParticle({x:i.x,y:i.y})},this._getEquidistantPointByIndex=i=>{var b,S,A,x;const s=this._container,o=s.actualOptions;if(!o.polygon)return;if(!((b=this.raw)!=null&&b.length)||!((S=this.paths)!=null&&S.length))throw new Error(Ad);let u=0,h;const d=0,g=this.paths.reduce((O,U)=>O+U.length,d),_=g/o.particles.number.value;for(const O of this.paths){const U=_*i-u;if(U<=O.length){h=O.element.getPointAtLength(U);break}else u+=O.length}const v=this._scale;return{x:((h==null?void 0:h.x)??Il.x)*v+(((A=this.offset)==null?void 0:A.x)??Il.x),y:((h==null?void 0:h.y)??Il.y)*v+(((x=this.offset)==null?void 0:x.y)??Il.y)}},this._getPointByIndex=i=>{var o;if(!((o=this.raw)!=null&&o.length))throw new Error(Ad);const s=this.raw[i%this.raw.length];return{x:s.x,y:s.y}},this._getRandomPoint=()=>{var s;if(!((s=this.raw)!=null&&s.length))throw new Error(Ad);const i=As(this.raw);return{x:i.x,y:i.y}},this._getRandomPointByLength=()=>{var g,_,v,b;if(!this._container.actualOptions.polygon)return;if(!((g=this.raw)!=null&&g.length)||!((_=this.paths)!=null&&_.length))throw new Error(Ad);const o=As(this.paths),l=1,u=Math.floor(me()*o.length)+l,h=o.element.getPointAtLength(u),d=this._scale;return{x:h.x*d+(((v=this.offset)==null?void 0:v.x)??Il.x),y:h.y*d+(((b=this.offset)==null?void 0:b.y)??Il.y)}},this._initRawData=async i=>{const s=this._container.actualOptions.polygon;if(s){if(s.url)this.raw=await this._downloadSvgPath(s.url,i);else if(s.data){const o=s.data;let l;if(Gn(o))l=o;else{const u=g=>`<path d="${g}" />`,h=tn(o.path)?o.path.map(u).join(""):u(o.path);l=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${o.size.width}" height="${o.size.height}">${h}</svg>`}this.raw=this._parseSvgPath(l,i)}this._createPath2D(),this._engine.dispatchEvent("polygonMaskLoaded",{container:this._container})}},this._parseSvgPath=(i,s)=>{const o=s??!1;if(this.paths!==void 0&&!o)return this.raw;const l=this._container,u=l.actualOptions.polygon;if(!u)return;const h=new DOMParser,d=h.parseFromString(i,"image/svg+xml"),g=0,_=d.getElementsByTagName("svg")[g];let v=_.getElementsByTagName("path");v.length||(v=d.getElementsByTagName("path")),this.paths=[];for(let x=0;x<v.length;x++){const O=v.item(x);O&&this.paths.push({element:O,length:O.getTotalLength()})}const b=this._scale;this.dimension.width=parseFloat(_.getAttribute("width")??"0")*b,this.dimension.height=parseFloat(_.getAttribute("height")??"0")*b;const S=u.position??{x:50,y:50},A=l.canvas.size;return this.offset={x:A.width*S.x/ze-this.dimension.width*Rd,y:A.height*S.y/ze-this.dimension.height*Rd},d$(this.paths,b,this.offset)},this._polygonBounce=(i,s,o)=>{const l=this._container.actualOptions.polygon;if(!this.raw||!(l!=null&&l.enable)||o!==qe.top)return!1;if(l.type===gn.inside||l.type===gn.outside){let u,h,d;const g=i.getPosition(),_=i.getRadius(),v=1;for(let b=0,S=this.raw.length-v;b<this.raw.length;S=b++){const A=this.raw[b],x=this.raw[S];u=p$(A,x,g);const O=Lt(g,u);if([h,d]=[O.dx,O.dy],O.distance<_)return m$(A,x,i.velocity),!0}if(u&&h!==void 0&&d!==void 0&&!this._checkInsidePolygon(g)){const b={x:1,y:1},S=_*y$,A=-1;return g.x>=u.x&&(b.x=-1),g.y>=u.y&&(b.y=-1),i.position.x=u.x+S*b.x,i.position.y=u.y+S*b.y,i.velocity.mult(A),!0}}else if(l.type===gn.inline&&i.initialPosition){const u=wn(i.initialPosition,i.getPosition()),{velocity:h}=i;if(u>this._moveRadius)return h.x=h.y*Rd-h.x,h.y=h.x*Rd-h.y,!0}return!1},this._randomPoint=()=>{const i=this._container,s=i.actualOptions.polygon;if(!s)return;let o;if(s.type===gn.inline)switch(s.inline.arrangement){case gs.randomPoint:o=this._getRandomPoint();break;case gs.randomLength:o=this._getRandomPointByLength();break;case gs.equidistant:o=this._getEquidistantPointByIndex(i.particles.count);break;case gs.onePerPoint:case gs.perPoint:default:o=this._getPointByIndex(i.particles.count)}else{const l=i.canvas.size;o={x:me()*l.width,y:me()*l.height}}return this._checkInsidePolygon(o)?o:this._randomPoint()},this._container=e,this._engine=t,this.dimension={height:0,width:0},this._moveRadius=0,this._scale=1}clickPositionValid(e){const t=this._container.actualOptions.polygon;return!!(t!=null&&t.enable)&&t.type!==gn.none&&t.type!==gn.inline&&this._checkInsidePolygon(e)}draw(e){var o;if(!((o=this.paths)!=null&&o.length))return;const t=this._container.actualOptions.polygon;if(!(t!=null&&t.enable))return;const i=t.draw;if(!i.enable)return;const s=this.raw;for(const l of this.paths){const u=l.path2d;e&&(u&&this.offset?f$(this._engine,e,u,i.stroke,this.offset):s&&h$(this._engine,e,s,i.stroke))}}async init(){const e=this._container,t=e.actualOptions.polygon,i=e.retina.pixelRatio;t&&(this._moveRadius=t.move.radius*i,this._scale=t.scale*i,t.enable&&await this._initRawData())}particleBounce(e,t,i){return this._polygonBounce(e,t,i)}particlePosition(e){var s;const t=this._container.actualOptions.polygon,i=0;if(t!=null&&t.enable&&(((s=this.raw)==null?void 0:s.length)??i)>i)return ut({},e||this._randomPoint())}particlesInitialization(){const e=this._container.actualOptions.polygon;return e!=null&&e.enable&&e.type===gn.inline&&(e.inline.arrangement===gs.onePerPoint||e.inline.arrangement===gs.perPoint)?(this._drawPoints(),!0):!1}resize(){const e=this._container,t=e.actualOptions.polygon;if(!(t!=null&&t.enable&&t.type!==gn.none))return;this.redrawTimeout&&clearTimeout(this.redrawTimeout);const i=250;this.redrawTimeout=window.setTimeout(()=>{(async()=>(await this._initRawData(!0),await e.particles.redraw()))()},i)}stop(){delete this.raw,delete this.paths}}class v${constructor(e){this.id="polygonMask",this._engine=e}getPlugin(e){return Promise.resolve(new _$(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.polygon;(i==null?void 0:i.load)===void 0&&(e.polygon=i=new c$(this._engine)),i.load(t==null?void 0:t.polygon)}needsPlugin(e){var t,i;return((t=e==null?void 0:e.polygon)==null?void 0:t.enable)??(((i=e==null?void 0:e.polygon)==null?void 0:i.type)!==void 0&&e.polygon.type!==gn.none)}}async function w$(n,e=!0){n.checkVersion("3.8.1"),await n.addPlugin(new v$(n),e)}class b${constructor(){this._createDirs=()=>{this.dirsList=[];for(let e=0;e<360;e+=360/this.options.sides){const t=this.options.angle+e;this.dirsList.push(Ue.create(Math.cos(t*Math.PI/180),Math.sin(t*Math.PI/180)))}},this.dirsList=[],this.options={sides:6,turnSteps:20,angle:30}}generate(e){const{sides:t}=this.options;e.hexStep===void 0&&(e.hexStep=0),e.hexDirection===void 0&&(e.hexDirection=t===6?(me()*3|0)*2:me()*t|0),e.hexSpeed===void 0&&(e.hexSpeed=e.velocity.length),e.hexStep%this.options.turnSteps===0&&(e.hexDirection=me()>.5?(e.hexDirection+1)%t:(e.hexDirection+t-1)%t),e.velocity.x=0,e.velocity.y=0,e.hexStep++;const i=this.dirsList[e.hexDirection];return Ue.create(i.x*e.hexSpeed,i.y*e.hexSpeed)}init(e){const t=e.actualOptions.particles.move.path.options;this.options.sides=t.sides>0?t.sides:6,this.options.angle=t.angle??30,this.options.turnSteps=t.turnSteps>=0?t.turnSteps:20,this._createDirs()}reset(e){delete e.hexStep,delete e.hexDirection,delete e.hexSpeed}update(){}}const S$="polygonPathGenerator";async function E$(n,e=!0){n.checkVersion("3.8.1"),await n.addPathGenerator(S$,new b$,e)}const T$=2,x$=Math.PI*T$,Cd=.5,A$=0;function R$(n,e,t=A$){const i=x$/n,s=[];for(let o=0;o<n;o++)s.push({x:Math.cos(o*i+t)*e,y:Math.sin(o*i+t)*e});return s}function C$(n,e,t){let l=e[0],u=e[1];const h=e.length;n.moveTo((l.x+u.x)*Cd,(l.y+u.y)*Cd);for(let d=1;d<=h;d++)l=u,u=e[(d+1)%h],n.arcTo(l.x,l.y,(l.x+u.x)*Cd,(l.y+u.y)*Cd,t)}const u2=5,P$=5;class I${constructor(){this.validTypes=["rounded-polygon"]}draw(e){const{context:t,particle:i,radius:s}=e;C$(t,R$(i.sides,s),i.borderRadius??P$)}getSidesCount(e){const t=e.shapeData;return Math.round(ne((t==null?void 0:t.sides)??u2))}particleInit(e,t){const i=t.shapeData;t.borderRadius=Math.round(ne((i==null?void 0:i.radius)??u2))*e.retina.pixelRatio}}async function O$(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new I$,e)}function k$(n,e,t,i){const s={x:-e,y:-e,height:t,width:t},o={topLeft:i,topRight:i,bottomLeft:i,bottomRight:i},{x:l,y:u,width:h,height:d}=s,g=l+h,_=u+d;n.moveTo(l+o.topLeft,u),n.lineTo(g-o.topRight,u),n.quadraticCurveTo(g,u,g,u+o.topRight),n.lineTo(g,u+d-o.bottomRight),n.quadraticCurveTo(g,_,g-o.bottomRight,_),n.lineTo(l+o.bottomLeft,_),n.quadraticCurveTo(l,_,l,_-o.bottomLeft),n.lineTo(l,u+o.topLeft),n.quadraticCurveTo(l,u,l+o.topLeft,u)}const D$=2,M$=Math.sqrt(D$),V$=2,h2=5;class N${constructor(){this.validTypes=["rounded-rect"]}draw(e){const{context:t,particle:i,radius:s}=e,o=s/M$,l=o*V$,u=i.borderRadius??h2;"roundRect"in t?t.roundRect(-o,-o,l,l,u):k$(t,o,l,u)}particleInit(e,t){const i=t.shapeData;t.borderRadius=ne((i==null?void 0:i.radius)??h2)*e.retina.pixelRatio}}async function L$(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new N$,e)}var ha;(function(n){n[n.normal=0]="normal",n[n.reverse=1]="reverse"})(ha||(ha={}));const z$=1,U$=0,G$=0,B$=0,j$=1;class H${constructor(){this._paths=[],this._reverse=!1,this._size={width:0,height:0},this._scale=1,this._offset={x:0,y:0,mode:Qi.percent},this._width=0}generate(e,t){const i=e.container,s=i.retina.pixelRatio;e.svgDirection===void 0&&(e.svgDirection=me()>Ve?ha.normal:ha.reverse),e.svgPathIndex===void 0&&(e.svgPathIndex=Math.floor(Math.random()*this._paths.length)),e.svgSpeed===void 0&&(e.svgSpeed=e.velocity.mult((e.retina.moveSpeed??z$)*Ve).length),e.svgStep===void 0&&(e.svgStep=Nt({min:0,max:this._paths[e.svgPathIndex].length})*s),e.svgOffset===void 0&&(e.svgOffset={width:Nt({min:-this._width*Ve,max:this._width*Ve})*s,height:Nt({min:-this._width*Ve,max:this._width*Ve})*s}),e.svgInitialPosition===void 0&&(e.svgInitialPosition={...e.position}),e.velocity.x=0,e.velocity.y=0,e.svgDirection===ha.normal?e.svgStep+=e.svgSpeed*t.factor:e.svgStep-=e.svgSpeed*t.factor;let o=this._paths[e.svgPathIndex];if(o){const l=o.length,u=1;e.svgStep>=l?(e.svgPathIndex=e.svgPathIndex+u,e.svgPathIndex>=this._paths.length&&(this._reverse?(e.svgPathIndex=this._paths.length-u,e.svgDirection=ha.reverse):(e.svgPathIndex=0,e.svgStep=0))):e.svgStep<=U$&&(e.svgPathIndex=e.svgPathIndex-u,e.svgPathIndex<G$&&(this._reverse?(e.svgPathIndex=0,e.svgDirection=ha.normal):(e.svgPathIndex=this._paths.length-u,o=this._paths[e.svgPathIndex],e.svgStep=o.length))),o=this._paths[e.svgPathIndex]}if(o){const l=o.element,u=l.getPointAtLength(e.svgStep),h=e.container.canvas.size,d=u0(this._offset,h),g=this._scale*s;e.position.x=(u.x-this._size.width*Ve)*g+e.svgInitialPosition.x+d.x+e.svgOffset.width,e.position.y=(u.y-this._size.height*Ve)*g+e.svgInitialPosition.y+d.y+e.svgOffset.height}return Ue.origin}init(e){const t=e.actualOptions.particles.move.path.options,i=t.position??this._offset;if(this._reverse=t.reverse??this._reverse,this._scale=t.scale??j$,this._offset.x=i.x,this._offset.y=i.y,this._offset.mode=i.mode,this._width=t.width??B$,t.url&&!t.path){const s=t.url;(async()=>{const o=await fetch(s),l=await o.text(),u=new DOMParser,h=u.parseFromString(l,"image/svg+xml"),d=0,g=h.getElementsByTagName("svg")[d];let _=g.getElementsByTagName("path");_.length||(_=h.getElementsByTagName("path")),this._paths=[];for(let v=0;v<_.length;v++){const b=_.item(v);b&&this._paths.push({element:b,length:b.getTotalLength()})}this._size.height=parseFloat(g.getAttribute("height")??"0"),this._size.width=parseFloat(g.getAttribute("width")??"0")})()}else if(t.path){const s=t.path;this._paths=[];for(const o of s.data){const l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("d",o),this._paths.push({element:l,length:l.getTotalLength()})}this._size.height=s.size.height,this._size.width=s.size.width}}reset(){}update(){}}const F$="svgPathGenerator";async function q$(n,e=!0){n.checkVersion("3.8.1"),await n.addPathGenerator(F$,new H$,e)}const la={size:20,increment:.004,columns:0,rows:0,layers:0,width:0,height:0,offset:{x:4e4,y:4e4,z:4e4}};class $${constructor(){const e=new aC;this._simplex=e.noise4d,this.field=[],this.noiseW=0,this.options=ut({},la)}generate(e){var o,l,u;const t=e.getPosition(),i={x:Math.max(Math.floor(t.x/this.options.size),0),y:Math.max(Math.floor(t.y/this.options.size),0),z:Math.max(Math.floor(t.z/this.options.size),0)},s=Ue.origin;return(u=(l=(o=this.field)==null?void 0:o[i.x])==null?void 0:l[i.y])!=null&&u[i.z]&&s.setTo(this.field[i.x][i.y][i.z]),s}init(e){this.container=e,this._setup()}reset(){}update(){this.container&&(this._calculateField(),this.noiseW+=this.options.increment)}_calculateField(){const e=this.options;for(let t=0;t<e.columns;t++)for(let i=0;i<e.rows;i++)for(let s=0;s<e.layers;s++)this.field[t][i][s].angle=this._simplex.noise(t/50,i/50,s/50,this.noiseW)*Math.PI*2,this.field[t][i][s].length=this._simplex.noise(t/100+e.offset.x,i/100+e.offset.y,s/100+e.offset.z,this.noiseW)}_initField(){this.field=new Array(this.options.columns);for(let e=0;e<this.options.columns;e++){this.field[e]=new Array(this.options.rows);for(let t=0;t<this.options.rows;t++){this.field[e][t]=new Array(this.options.layers);for(let i=0;i<this.options.layers;i++)this.field[e][t][i]=Ue.origin}}}_resetField(){const e=this.container;if(!e)return;const t=e.actualOptions.particles.move.path.options;this.options.size=t.size>0?t.size:la.size,this.options.increment=t.increment>0?t.increment:la.increment,this.options.width=e.canvas.size.width,this.options.height=e.canvas.size.height;const i=t.offset;this.options.offset.x=(i==null?void 0:i.x)??la.offset.x,this.options.offset.y=(i==null?void 0:i.y)??la.offset.y,this.options.offset.z=(i==null?void 0:i.z)??la.offset.z,this.options.seed=t.seed??la.seed,this._simplex.seed(this.options.seed??me()),this.options.columns=Math.floor(this.options.width/this.options.size)+1,this.options.rows=Math.floor(this.options.height/this.options.size)+1,this.options.layers=Math.floor(e.zLayers/this.options.size)+1,this._initField()}_setup(){this.noiseW=0,this._resetField(),addEventListener("resize",()=>this._resetField())}}const Q$="simplexNoise";async function K$(n,e=!0){n.checkVersion("3.8.1"),await n.addPathGenerator(Q$,new $$,e)}class f2{constructor(){this.loop=!1,this.source=""}load(e){X(e)||(to(e)?(e.loop!==void 0&&(this.loop=e.loop),e.source!==void 0&&(this.source=e.source)):this.source=e)}}class RC{constructor(){this.duration=500,this.value=[]}load(e){X(e)||(e.duration!==void 0&&(this.duration=e.duration),e.value!==void 0&&(this.value=e.value))}}class v0{constructor(){this.loop=!1,this.melodies=[],this.notes=[]}load(e){X(e)||(e.loop!==void 0&&(this.loop=e.loop),e.melodies!==void 0&&(this.melodies=e.melodies.map(t=>{const i=new v0;return i.load(t),i})),e.notes!==void 0&&(this.notes=e.notes.map(t=>{const i=new RC;return i.load(t),i})))}}class Y${constructor(){this.event=[],this.notes=[]}load(e){if(!X(e)&&(e.event!==void 0&&(this.event=e.event),e.audio!==void 0&&(tn(e.audio)?this.audio=e.audio.map(t=>{const i=new f2;return i.load(t),i}):(this.audio=new f2,this.audio.load(e.audio))),e.notes!==void 0&&(this.notes=e.notes.map(t=>{const i=new RC;return i.load(t),i})),e.melodies!==void 0&&(this.melodies=e.melodies.map(t=>{const i=new v0;return i.load(t),i})),e.filter))if(Gn(e.filter)){const t=window[e.filter];am(t)&&(this.filter=t)}else this.filter=e.filter}}class Pd{constructor(){this.width=24,this.height=24,this.style=""}load(e){X(e)||(e.path!==void 0&&(this.path=e.path),e.svg!==void 0&&(this.svg=e.svg),e.width!==void 0&&(this.width=e.width),e.height!==void 0&&(this.height=e.height))}}class X${constructor(){this.mute=new Pd,this.unmute=new Pd,this.volumeDown=new Pd,this.volumeUp=new Pd,this.enable=!1,this.mute.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M19.707,5.293c-0.391-0.391-1.023-0.391-1.414,0l-1.551,1.551c-0.345-0.688-0.987-1.02-1.604-1.02c-0.449,0-0.905,0.152-1.356,0.453l-2.672,1.781C10.357,8.561,8.904,9,8,9c-1.654,0-3,1.346-3,3v2c0,1.237,0.754,2.302,1.826,2.76l-1.533,1.533c-0.391,0.391-0.391,1.023,0,1.414C5.488,19.902,5.744,20,6,20s0.512-0.098,0.707-0.293l2.527-2.527c0.697,0.174,1.416,0.455,1.875,0.762l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C16.035,20.176,17,19.495,17,18V9.414l2.707-2.707C20.098,6.316,20.098,5.684,19.707,5.293z M14.891,7.941c0.038-0.025,0.073-0.046,0.104-0.062C14.998,7.914,15,7.954,15,8v1.293l-2,2V9.202L14.891,7.941z M7,12c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146v2.439l-2.83,2.83C8.757,15.046,8.356,15,8,15c-0.552,0-1-0.448-1-1V12z M10.301,15.406L12,13.707v2.439C11.519,15.859,10.925,15.604,10.301,15.406z M14.994,18.12c-0.03-0.016-0.065-0.036-0.104-0.062L13,16.798v-4.091l2-2V18C15,18.046,14.998,18.086,14.994,18.12z"/>
    </g>
</svg>`,this.unmute.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M17.138,5.824c-0.449,0-0.905,0.152-1.356,0.453l-2.672,1.781C12.357,8.561,10.904,9,10,9c-1.654,0-3,1.346-3,3v2c0,1.654,1.346,3,3,3c0.904,0,2.357,0.439,3.109,0.941l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C18.035,20.176,19,19.495,19,18V8C19,6.505,18.035,5.824,17.138,5.824z M14,16.146C12.907,15.495,11.211,15,10,15c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146V16.146z M17,18c0,0.046-0.002,0.086-0.006,0.12c-0.03-0.016-0.065-0.036-0.104-0.062L15,16.798V9.202l1.891-1.261c0.038-0.025,0.073-0.046,0.104-0.062C16.998,7.914,17,7.954,17,8V18z"/>
    </g>
</svg>`,this.volumeDown.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M15.138,5.824c-0.449,0-0.905,0.152-1.356,0.453l-2.672,1.781C10.357,8.561,8.904,9,8,9c-1.654,0-3,1.346-3,3v2c0,1.654,1.346,3,3,3c0.904,0,2.357,0.439,3.109,0.941l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C16.035,20.176,17,19.495,17,18V8C17,6.505,16.035,5.824,15.138,5.824z M8,15c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146v6.293C10.907,15.495,9.211,15,8,15z M15,18c0,0.046-0.002,0.086-0.006,0.12c-0.03-0.016-0.065-0.036-0.104-0.062L13,16.798V9.202l1.891-1.261c0.038-0.025,0.073-0.046,0.104-0.062C14.998,7.914,15,7.954,15,8V18z"/>
        <path fill="#fff" d="M18.292,10.294c-0.39,0.391-0.39,1.023,0.002,1.414c0.345,0.345,0.535,0.803,0.535,1.291c0,0.489-0.19,0.948-0.536,1.294c-0.391,0.39-0.391,1.023,0,1.414C18.488,15.902,18.744,16,19,16s0.512-0.098,0.707-0.293c0.724-0.723,1.122-1.685,1.122-2.708s-0.398-1.984-1.123-2.707C19.317,9.903,18.683,9.901,18.292,10.294z"/>
    </g>
</svg>`,this.volumeUp.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M16.706,10.292c-0.389-0.389-1.023-0.391-1.414,0.002c-0.39,0.391-0.39,1.023,0.002,1.414c0.345,0.345,0.535,0.803,0.535,1.291c0,0.489-0.19,0.948-0.536,1.294c-0.391,0.39-0.391,1.023,0,1.414C15.488,15.902,15.744,16,16,16s0.512-0.098,0.707-0.293c0.724-0.723,1.122-1.685,1.122-2.708S17.431,11.015,16.706,10.292z"/>
        <path fill="#fff" d="M18.706,8.292c-0.391-0.389-1.023-0.39-1.414,0.002c-0.39,0.391-0.39,1.024,0.002,1.414c0.879,0.877,1.363,2.044,1.364,3.287c0.001,1.246-0.484,2.417-1.365,3.298c-0.391,0.391-0.391,1.023,0,1.414C17.488,17.902,17.744,18,18,18s0.512-0.098,0.707-0.293c1.259-1.259,1.952-2.933,1.951-4.713C20.657,11.217,19.964,9.547,18.706,8.292z"/>
        <path fill="#fff" d="M20.706,6.292c-0.391-0.389-1.023-0.39-1.414,0.002c-0.39,0.391-0.39,1.024,0.002,1.414c1.412,1.409,2.191,3.285,2.192,5.284c0.002,2.002-0.777,3.885-2.193,5.301c-0.391,0.391-0.391,1.023,0,1.414C19.488,19.902,19.744,20,20,20s0.512-0.098,0.707-0.293c1.794-1.794,2.781-4.18,2.779-6.717C23.485,10.457,22.497,8.078,20.706,6.292z"/>
        <path fill="#fff" d="M12.138,5.824c-0.449,0-0.905,0.152-1.356,0.453L8.109,8.059C7.357,8.561,5.904,9,5,9c-1.654,0-3,1.346-3,3v2c0,1.654,1.346,3,3,3c0.904,0,2.357,0.439,3.109,0.941l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C13.035,20.176,14,19.495,14,18V8C14,6.505,13.035,5.824,12.138,5.824z M5,15c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146v6.293C7.907,15.495,6.211,15,5,15z M12,18c0,0.046-0.002,0.086-0.006,0.12c-0.03-0.016-0.065-0.036-0.104-0.062L10,16.798V9.202l1.891-1.261c0.038-0.025,0.073-0.046,0.104-0.062C11.998,7.914,12,7.954,12,8V18z"/>
    </g>
</svg>`}load(e){X(e)||(e.enable!==void 0&&(this.enable=e.enable),this.mute.load(e.mute),this.unmute.load(e.unmute),this.volumeDown.load(e.volumeDown),this.volumeUp.load(e.volumeUp))}}class W${constructor(){this.value=100,this.max=100,this.min=0,this.step=10}load(e){X(e)||(to(e)?(e.max!==void 0&&(this.max=e.max),e.min!==void 0&&(this.min=e.min),e.step!==void 0&&(this.step=e.step),e.value!==void 0&&(this.value=e.value)):this.value=e)}}class Z${constructor(){this.autoPlay=!0,this.enable=!1,this.events=[],this.icons=new X$,this.volume=new W$}load(e){X(e)||(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.enable!==void 0&&(this.enable=e.enable),e.events!==void 0&&(this.events=e.events.map(t=>{const i=new Y$;return i.load(t),i})),this.icons.load(e.icons),e.volume!==void 0&&this.volume.load(e.volume))}}var Mp;(function(n){n.mute="soundsMuted",n.unmute="soundsUnmuted"})(Mp||(Mp={}));var Xu;(function(n){n.Block="block",n.None="none"})(Xu||(Xu={}));const Xn=new Map;Xn.set("C",[16.35,32.7,65.41,130.81,261.63,523.25,1046.5,2093,4186.01]);Xn.set("Db",[17.32,34.65,69.3,138.59,277.18,554.37,1108.73,2217.46,4434.92]);Xn.set("D",[18.35,36.71,73.42,146.83,293.66,587.33,1174.66,2349.32,4698.63]);Xn.set("Eb",[19.45,38.89,77.78,155.56,311.13,622.25,1244.51,2489.02,4978.03]);Xn.set("E",[20.6,41.2,82.41,164.81,329.63,659.25,1318.51,2637.02,5274.04]);Xn.set("F",[21.83,43.65,87.31,174.61,349.23,698.46,1396.91,2793.83,5587.65]);Xn.set("Gb",[23.12,46.25,92.5,185,369.99,739.99,1479.98,2959.96,5919.91]);Xn.set("G",[24.5,49,98,196,392,783.99,1567.98,3135.96,6271.93]);Xn.set("Ab",[25.96,51.91,103.83,207.65,415.3,830.61,1661.22,3322.44,6644.88]);Xn.set("A",[27.5,55,110,220,440,880,1760,3520,7040]);Xn.set("Bb",[29.14,58.27,116.54,233.08,466.16,932.33,1864.66,3729.31,7458.62]);Xn.set("B",[30.87,61.74,123.47,246.94,493.88,987.77,1975.53,3951.07,7902.13]);Xn.set("pause",[0]);function J$(n){const e=/(([A-G]b?)(\d))|pause/i,t=e.exec(n),i=2,s=0,o=3;if(!(t!=null&&t.length))return;const l=t[i]||t[s],u=Xn.get(l);if(u)return u[parseInt(t[o]||"0")]}let CC=!0;const d2=()=>CC,PC=()=>{CC=!1},IC=1,eQ=1,p2=0;function Id(n){var x;const e=document.createElement("img"),{clickCb:t,container:i,display:s,iconOptions:o,margin:l,options:u,pos:h,rightOffsets:d}=n,{width:g,path:_,style:v,svg:b}=o;return tQ(e,h.top+l,h.right-(l*(d.length+eQ)+g+d.reduce((O,U)=>O+U,0)),s,u.fullScreen.zIndex+IC,g,l,v),e.src=_??(b?`data:image/svg+xml;base64,${btoa(b)}`:""),(((x=i.canvas.element)==null?void 0:x.parentNode)??document.body).append(e),e.addEventListener("click",()=>{t()}),e}function Od(n){n&&n.remove()}function tQ(n,e,t,i,s,o,l,u){n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.position="absolute",n.style.top=`${e+l}px`,n.style.left=`${t-l-o}px`,n.style.display=i,n.style.zIndex=`${s+IC}`,n.style.cssText+=u}class nQ{constructor(e,t){this._addBuffer=i=>{const s=i.createBufferSource();return this._audioSources.push(s),s},this._addOscillator=i=>{const s=i.createOscillator();return this._audioSources.push(s),s},this._initEvents=()=>{const i=this._container,s=i.actualOptions.sounds;if(!(!(s!=null&&s.enable)||!i.canvas.element))for(const o of s.events){const l=u=>{(async()=>{const h=o.filter&&!o.filter(u);if(this._container!==u.container)return;if(!this._container||this._container.muted||this._container.destroyed){vt(o.event,g=>{this._engine.removeEventListener(g,l)});return}if(h)return;const d=0;if(o.audio)this._playBuffer(qt(o.audio));else if(o.melodies){const g=As(o.melodies);g.melodies.length?await Promise.allSettled(g.melodies.map(_=>this._playNote(_.notes,d,g.loop))):await this._playNote(g.notes,d,g.loop)}else if(o.notes){const g=As(o.notes);await this._playNote([g],d,!1)}})()};vt(o.event,u=>{this._engine.addEventListener(u,l)})}},this._mute=async()=>{const i=this._container,s=this._getAudioContext();for(const o of this._audioSources)this._removeAudioSource(o);this._gain&&this._gain.disconnect(),await s.close(),i.audioContext=void 0,this._engine.dispatchEvent(Mp.mute,{container:this._container})},this._playBuffer=i=>{const s=this._audioMap.get(i.source);if(!s)return;const o=this._container.audioContext;if(!o)return;const l=this._addBuffer(o);l.loop=i.loop,l.buffer=s,l.connect(this._gain??o.destination),l.start()},this._playFrequency=async(i,s)=>{if(!this._gain||this._container.muted)return;const o=this._getAudioContext(),l=this._addOscillator(o);return l.connect(this._gain),l.type="sine",l.frequency.value=i,l.start(),new Promise(u=>{setTimeout(()=>{this._removeAudioSource(l),u()},s)})},this._playMuteSound=()=>{if(this._container.muted)return;const i=this._getAudioContext(),s=i.createGain();s.connect(i.destination),s.gain.value=0;const o=i.createOscillator();o.connect(s),o.type="sine",o.frequency.value=1,o.start(),setTimeout(()=>{o.stop(),o.disconnect(),s.disconnect()})},this._playNote=async(i,s,o)=>{if(this._container.muted)return;const l=i[s];if(!l)return;const u=l.value,h=vt(u,async(_,v)=>this._playNoteValue(i,s,v));await(tn(h)?Promise.allSettled(h):h);let g=s+1;o&&g>=i.length&&(g=g%i.length),!this._container.muted&&await this._playNote(i,g,o)},this._playNoteValue=async(i,s,o)=>{const l=i[s];if(!l)return;const u=qt(l.value,o,!0);try{const h=J$(u);if(!En(h))return;await this._playFrequency(h,l.duration)}catch(h){mr().error(h)}},this._removeAudioSource=i=>{i.stop(),i.disconnect(),this._audioSources.splice(this._audioSources.indexOf(i),1)},this._unmute=()=>{const i=this._container,s=i.actualOptions,o=s.sounds;if(!o)return;const l=this._getAudioContext();this._audioSources||(this._audioSources=[]);const u=l.createGain();u.connect(l.destination),u.gain.value=o.volume.value/ze,this._gain=u,this._initEvents(),this._engine.dispatchEvent(Mp.unmute,{container:this._container})},this._updateMuteIcons=()=>{const i=this._container,s=i.actualOptions.sounds;if(!(s!=null&&s.enable)||!s.icons.enable)return;const o=this._muteImg,l=this._unmuteImg;o&&(o.style.display=i.muted?"block":"none"),l&&(l.style.display=i.muted?"none":"block")},this._updateMuteStatus=async()=>{const i=this._container,s=this._getAudioContext();i.muted?(await(s==null?void 0:s.suspend()),await this._mute()):(await(s==null?void 0:s.resume()),this._unmute(),this._playMuteSound())},this._updateVolume=async()=>{var l;const i=this._container,s=i.actualOptions.sounds;if(!(s!=null&&s.enable))return;Kn(this._volume,s.volume.min,s.volume.max);let o=!1;this._volume<=p2&&!i.muted?(this._volume=0,i.muted=!0,o=!0):this._volume>p2&&i.muted&&(i.muted=!1,o=!0),o&&(this._updateMuteIcons(),await this._updateMuteStatus()),(l=this._gain)!=null&&l.gain&&(this._gain.gain.value=this._volume/ze)},this._container=e,this._engine=t,this._volume=0,this._audioSources=[],this._audioMap=new Map}async init(){const e=this._container,t=e.actualOptions,i=t.sounds;if(!(i!=null&&i.enable))return;if(i.autoPlay&&d2()){const o=()=>{removeEventListener(uh,o),removeEventListener(hh,o),PC(),this.unmute()},l={capture:!0,once:!0};addEventListener(uh,o,l),addEventListener(hh,o,l)}this._volume=i.volume.value;const s=i.events;this._audioMap=new Map;for(const o of s){if(!o.audio)continue;const l=vt(o.audio,async u=>{const h=await fetch(u.source);if(!h.ok)return;const d=await h.arrayBuffer(),g=this._getAudioContext(),_=await g.decodeAudioData(d);this._audioMap.set(u.source,_)});l instanceof Promise?await l:await Promise.allSettled(l)}}async mute(){this._container.muted||await this.toggleMute()}async start(){const e=this._container,t=e.actualOptions,i=t.sounds;if(!(i!=null&&i.enable)||!e.canvas.element)return;e.muted=!0;const s=e.canvas.element,o={top:s.offsetTop,right:s.offsetLeft+s.offsetWidth},{mute:l,unmute:u,volumeDown:h,volumeUp:d}=i.icons,g=10,_=async()=>{await this.toggleMute()},v=i.icons.enable,b=v?Xu.Block:Xu.None;this._muteImg=Id({container:e,options:t,pos:o,display:b,iconOptions:l,margin:g,rightOffsets:[h.width,d.width],clickCb:_}),this._unmuteImg=Id({container:e,options:t,pos:o,display:Xu.None,iconOptions:u,margin:g,rightOffsets:[h.width,d.width],clickCb:_}),this._volumeDownImg=Id({container:e,options:t,pos:o,display:b,iconOptions:h,margin:g,rightOffsets:[d.width],clickCb:async()=>{await this.volumeDown()}}),this._volumeUpImg=Id({container:e,options:t,pos:o,display:b,iconOptions:d,margin:g,rightOffsets:[],clickCb:async()=>{await this.volumeUp()}}),!d2()&&i.autoPlay&&await this.unmute()}stop(){this._container.muted=!0,(async()=>(await this._mute(),Od(this._muteImg),Od(this._unmuteImg),Od(this._volumeDownImg),Od(this._volumeUpImg)))()}async toggleMute(){const e=this._container;e.muted=!e.muted,this._updateMuteIcons(),await this._updateMuteStatus()}async unmute(){this._container.muted&&await this.toggleMute()}async volumeDown(){const e=this._container,t=e.actualOptions.sounds;t!=null&&t.enable&&(e.muted&&(this._volume=0),this._volume-=t.volume.step,await this._updateVolume())}async volumeUp(){const e=this._container,t=e.actualOptions.sounds;t!=null&&t.enable&&(this._volume+=t.volume.step,await this._updateVolume())}_getAudioContext(){const e=this._container;return e.audioContext||(e.audioContext=new AudioContext),e.audioContext}}const Vp=()=>{removeEventListener(uh,Vp),removeEventListener(hh,Vp),PC()};class iQ{constructor(e){this.id="sounds",this._engine=e;const t={capture:!0,once:!0};addEventListener(uh,Vp,t),addEventListener(hh,Vp,t)}getPlugin(e){return Promise.resolve(new nQ(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.sounds;(i==null?void 0:i.load)===void 0&&(e.sounds=i=new Z$),i.load(t==null?void 0:t.sounds)}needsPlugin(e){var t;return((t=e==null?void 0:e.sounds)==null?void 0:t.enable)??!1}}async function sQ(n,e=!0){n.checkVersion("3.8.1"),await n.addPlugin(new iQ(n),e)}function rQ(n){const{context:e,particle:t,radius:i}=n;if(t.spiralInnerRadius===void 0||t.spiralLineSpacing===void 0||t.spiralWidthFactor===void 0)return;const s=(i-t.spiralInnerRadius)/t.spiralLineSpacing,o=10;for(let l=0;l<s*o;l++){const u=l/o,h=t.spiralInnerRadius+t.spiralLineSpacing*u,d={x:h*Math.cos(u),y:h*Math.sin(u)};e.lineTo(d.x,d.y)}}const oQ=1,aQ=1,lQ=10;class cQ{constructor(){this.validTypes=["spiral"]}draw(e){rQ(e)}particleInit(e,t){const i=e.retina.pixelRatio,s=t.shapeData;t.spiralInnerRadius=ne((s==null?void 0:s.innerRadius)??oQ)*i,t.spiralLineSpacing=ne((s==null?void 0:s.lineSpacing)??aQ)*i,t.spiralWidthFactor=ne((s==null?void 0:s.widthFactor)??lQ)}}async function uQ(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new cQ,e)}const hQ=2,m2=1,fQ=-1,dQ=10,g2={a:1,b:0,c:0,d:1};class pQ{draw(e){const{context:t,radius:i,particle:s,transformData:o}=e,l=i*cn,u=s.container.retina.pixelRatio,h=s.getPosition(),d=s.trail;if(!d||!s.trailLength)return;const g=s.trailLength+i;if(d.push({color:t.fillStyle??t.strokeStyle,position:{x:h.x,y:h.y},transformData:{...e.transformData}}),d.length<hQ)return;for(;d.length>g;)d.shift();const _=Math.min(d.length,g),v={width:s.container.canvas.size.width+l,height:s.container.canvas.size.height+l};let b=d[_-m2].position;for(let S=_;S>fh;S--){const A=d[S-m2],x=A.position,O=s.trailTransform?A.transformData??g2:g2;t.setTransform(O.a,O.b,O.c,O.d,x.x,x.y),t.beginPath(),t.moveTo(b.x-x.x,b.y-x.y);const U={x:(b.x+v.width)%v.width,y:(b.y+v.height)%v.height};if(Math.abs(b.x-x.x)>v.width*Ve||Math.abs(b.y-x.y)>v.height*Ve){b=x;continue}t.lineTo(Math.abs(b.x-x.x)>v.width*Ve?U.x:Ft.x,Math.abs(b.y-x.y)>v.height*Ve?U.y:Ft.y);const L=Math.max(S/_*l,u,s.trailMinWidth??fQ),H=t.globalAlpha;t.globalAlpha=s.trailFade?S/_:H6,t.lineWidth=s.trailMaxWidth?Math.min(L,s.trailMaxWidth):L,t.strokeStyle=A.color,t.stroke(),t.globalAlpha=H,b=x}t.setTransform(o.a,o.b,o.c,o.d,h.x,h.y)}particleInit(e,t){t.trail=[];const i=t.effectData;t.trailFade=(i==null?void 0:i.fade)??!0,t.trailLength=ne((i==null?void 0:i.length)??dQ)*e.retina.pixelRatio,t.trailMaxWidth=i!=null&&i.maxWidth?ne(i.maxWidth)*e.retina.pixelRatio:void 0,t.trailMinWidth=i!=null&&i.minWidth?ne(i.minWidth)*e.retina.pixelRatio:void 0,t.trailTransform=(i==null?void 0:i.transform)??!1}}async function mQ(n,e=!0){n.checkVersion("3.8.1"),await n.addEffect("trail",new pQ,e)}const gQ=.5,yQ=.5,y2=Math.PI*yQ;class _Q{constructor(){this.options={waveHeight:{min:0,max:3},waveLength:{min:0,max:5}}}generate(e,t){e.zigzag===void 0&&(e.zigzag={counter:me(),waveHeight:ne(this.options.waveHeight),waveLength:ne(this.options.waveLength)});const i=gQ/e.zigzag.waveLength*t.factor;e.zigzag.counter+=i;const s=e.zigzag.waveHeight*Math.sin(e.zigzag.counter);return e.position.x+=s*Math.cos(e.velocity.angle+y2),e.position.y+=s*Math.sin(e.velocity.angle+y2),Ue.origin}init(e){const t=e.actualOptions.particles.move.path.options;this.options.waveLength=t.waveLength??this.options.waveLength,this.options.waveHeight=t.waveHeight??this.options.waveHeight}reset(){}update(){}}const vQ="zigZagPathGenerator";async function wQ(n,e=!0){n.checkVersion("3.8.1"),await n.addPathGenerator(vQ,new _Q,e)}async function bQ(n,e=!0){n.checkVersion("3.8.1"),g8(n),await pF(n,!1),await DF(n,!1),await yq(n,!1),await Sq(n,!1),await wz(n,!1),await bz(n,!1),await Sz(n,!1),await Ez(n,!1),await Tz(n,!1),await xz(n,!1),await Az(n,!1),await Rz(n,!1),await Zz(n,!1),await s7(n,!1),await m7(n,!1),await $8(n,!1),await FF(n,!1),await pq(n,!1),await w$(n,!1),await sQ(n,!1),await _7(n,!1),await S7(n,!1),await C7(n,!1),await O7(n,!1),await M7(n,!1),await aq(n,!1),await jq(n,!1),await xF(n,!1),await Vq(n,!1),await vz(n,!1),await dz(n,!1),await Wq(n,!1),await i$(n,!1),await E$(n,!1),await q$(n,!1),await wQ(n,!1),await K$(n,!1),await P8(n,!1),await A8(n,!1),await W8(n,!1),await az(n,!1),await IF(n,!1),await KF(n,!1),await qq(n,!1),await O$(n,!1),await L$(n,!1),await uQ(n,!1),await mQ(n,!1),await n.refresh(e)}function OC(){const n=q.useCallback(async e=>{await bQ(e)},[]);return N.jsx(o8,{id:"tsparticles",init:n,style:{position:"absolute",top:0,left:0,zIndex:0,width:"100%",height:"100%"},options:{fullScreen:{enable:!1},particles:{number:{value:20,density:{enable:!0,area:800}},shape:{type:"image",image:{src:"/particles/medical-particle.png",width:32,height:32}},size:{value:{min:20,max:40},animation:{enable:!0,speed:2,minimumValue:20,sync:!1}},move:{enable:!0,speed:1,direction:"none",outModes:{default:"out"}},opacity:{value:.7,animation:{enable:!0,speed:.5,minimumValue:.3,sync:!1}}},detectRetina:!0}})}const SQ="/assets/DoctorChatbot-C9O3LfUB.gif",kC=()=>{const[n,e]=q.useState([]),[t,i]=q.useState(""),[s,o]=q.useState(!1),[l,u]=q.useState(!1),h=q.useRef(null);q.useEffect(()=>{if(!s)return;const g=_=>{h.current&&!h.current.contains(_.target)&&o(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[s]);const d=async()=>{var _,v,b;if(!t.trim())return;const g={sender:"user",text:t};e(S=>[...S,g]),i(""),u(!0);try{const x=((b=(v=(_=(await(await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer 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"},body:JSON.stringify({model:"openai/gpt-3.5-turbo",messages:[{role:"user",content:t}]})})).json()).choices)==null?void 0:_[0])==null?void 0:v.message)==null?void 0:b.content)||"Sorry, I didn't understand that.";e(O=>[...O,{sender:"bot",text:x}])}catch(S){console.error("Error contacting OpenRouter:",S),e(A=>[...A,{sender:"bot",text:"Error contacting AI."}])}finally{u(!1)}};return N.jsxs("div",{className:"chatbot-container",ref:h,children:[N.jsx("button",{className:"chat-toggle",onClick:()=>o(g=>!g),"aria-label":"Toggle Chatbot",title:"Chat with Doctor",children:N.jsx("img",{src:SQ,alt:"Doctor chatbot icon",className:"doctor-icon"})}),!s&&N.jsx("div",{className:"chat-bubble",children:"HELP?"}),s&&N.jsxs("div",{className:"chatbox",children:[N.jsx("div",{className:"chat-header",children:"ScanX Chatbot"}),N.jsxs("div",{className:"chat-body",children:[n.map((g,_)=>N.jsx("div",{className:`chat-message ${g.sender==="user"?"user":"bot"}`,children:g.text},_)),l&&N.jsx("div",{className:"chat-message bot",style:{fontStyle:"italic",opacity:.7},children:"AI is typing..."})]}),N.jsxs("div",{className:"chat-input",children:[N.jsx("input",{type:"text",value:t,onChange:g=>i(g.target.value),onKeyDown:g=>g.key==="Enter"&&d(),placeholder:"Ask something..."}),N.jsx("button",{onClick:d,children:"Send"})]})]})]})},_2=["Healing is an art, medicine is a science, and doctors are heroes.","Wherever the art of medicine is loved, there is also a love of humanity.","A good physician treats the disease. A great physician treats the patient.","The best way to find yourself is to lose yourself in the service of others."];function EQ({onLogout:n}){const e=Ps(),t=mh(),[i,s]=q.useState(e.pathname),[o,l]=q.useState("fade-in"),[u,h]=q.useState(!0),[d,g]=q.useState(""),[_,v]=q.useState(!1);q.useEffect(()=>{g(_2[Math.floor(Math.random()*_2.length)])},[]),q.useEffect(()=>{if(e.pathname!==i){l("fade-out");const A=setTimeout(()=>{s(e.pathname),l("fade-in")},300);return()=>clearTimeout(A)}},[e.pathname,i]),q.useEffect(()=>{["/doctor-dashboard","/doctor-dashboard/view-reports","/doctor-dashboard/patient-history"].includes(i)||t("/doctor-dashboard")},[i,t]);const b=()=>{document.querySelector(".dashboard-greeting").classList.add("fold-up"),setTimeout(()=>{h(!1),v(!0)},700)},S=()=>{switch(i){case"/doctor-dashboard":return N.jsx(rV,{});case"/doctor-dashboard/view-reports":return N.jsx(OR,{});case"/doctor-dashboard/patient-history":return N.jsx(N6,{});default:return null}};return N.jsxs("div",{className:"dashboard",children:[N.jsx(OC,{}),N.jsx("button",{onClick:n,className:"logout-button-topright",children:"Logout"}),u?N.jsxs("div",{className:"dashboard-greeting",children:[N.jsx("h1",{className:"greeting-text",children:"👋 Welcome, Doctor!"}),N.jsxs("p",{className:"quote-text",children:['"',d,'"']}),N.jsx("button",{className:"enter-button",onClick:b,children:"➜"})]}):N.jsxs("div",{className:`dashboard-content ${_?"dashboard-content-fade-in":"dashboard-content-hidden"}`,children:[N.jsx("aside",{className:"sidebar",children:N.jsxs("ul",{children:[N.jsx("li",{children:N.jsx(va,{to:"/doctor-dashboard",className:({isActive:A})=>A?"tab active":"tab",end:!0,children:"Upload Scan"})}),N.jsx("li",{children:N.jsx(va,{to:"/doctor-dashboard/view-reports",className:({isActive:A})=>A?"tab active":"tab",children:"View Reports"})}),N.jsx("li",{children:N.jsx(va,{to:"/doctor-dashboard/patient-history",className:({isActive:A})=>A?"tab active":"tab",children:"Patient History"})})]})}),N.jsx("main",{className:`main-panel ${o}`,children:S()})]}),!u&&N.jsx(kC,{})]})}function TQ(){const[n,e]=q.useState(null),[t,i]=q.useState(null),[s,o]=q.useState("chest"),[l,u]=q.useState(null),[h,d]=q.useState(!1),[g,_]=q.useState(null),[v,b]=q.useState("fade-in"),[S,A]=q.useState(s);q.useEffect(()=>{s!==S&&b("fade-out")},[s,S]);const x=()=>{v==="fade-out"&&(A(s),b("fade-in"))},O=H=>{const W=H.target.files[0];if(e(W),u(null),_(null),W){const le=URL.createObjectURL(W);i(le)}else i(null)},U=async H=>{if(H.preventDefault(),!n){alert("Please select a scan image before uploading.");return}const W=new FormData;W.append("image",n),d(!0),_(null),u(null);try{const le=await fetch(`http://127.0.0.1:5000/predict/${s}`,{method:"POST",body:W});if(!le.ok)throw new Error("Server error. Try again.");const D=await le.json();u(D)}catch(le){console.error("Upload error:",le),_("Upload failed or prediction unavailable. Please try again.")}finally{d(!1)}},L={chest:"/ChestBg2.jpg",brain:"/BrainBg2.jpg"};return N.jsxs("div",{className:"upload-wrapper",children:[N.jsx("div",{className:`full-page-bg ${v}`,style:{backgroundImage:`url(${L[S]})`},onTransitionEnd:x}),N.jsxs("div",{className:"upload-container enhanced-upload",children:[N.jsx("h2",{className:"heading",children:"Upload Scan for AI Diagnosis"}),N.jsxs("form",{onSubmit:U,className:"upload-scan-form",children:[N.jsxs("div",{className:"form-control",children:[N.jsx("label",{children:"Select Scan Type:"}),N.jsxs("select",{value:s,onChange:H=>o(H.target.value),children:[N.jsx("option",{value:"chest",children:"Chest X-ray"}),N.jsx("option",{value:"brain",children:"Brain MRI"})]})]}),N.jsxs("div",{className:"form-control",children:[N.jsx("label",{children:"Upload Image:"}),N.jsx("div",{className:"file-input-box",children:N.jsx("input",{type:"file",onChange:O,accept:"image/*"})})]}),t&&N.jsxs("div",{className:"preview-section",children:[N.jsx("h4",{children:"Preview:"}),N.jsx("img",{src:t,alt:"Preview",className:"preview-image"})]}),N.jsx("button",{type:"submit",disabled:h,children:h?"⏳ Analyzing...":"Upload & Predict"})]}),h&&N.jsx("div",{className:"loading",children:"Analyzing scan with ScanX AI..."}),g&&N.jsx("div",{className:"error",children:g}),l&&N.jsxs("div",{className:`result-box ${l.Result.toLowerCase().includes("normal")?"success":"warning"}`,children:[N.jsxs("div",{className:"result-header",children:[N.jsx("div",{className:"result-icon",children:l.Result.toLowerCase().includes("normal")?"✅":"⚠️"}),N.jsxs("div",{children:[N.jsx("div",{className:"result-title",children:l.Result.toLowerCase().includes("normal")?"No Abnormality Detected":"Potential Issue Detected"}),N.jsxs("div",{className:"result-description",children:["AI analysis of the uploaded ",s," scan."]})]})]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Diagnosis:"})," ",N.jsx("span",{children:l.Result})]}),N.jsxs("div",{className:"confidence-section",children:[N.jsx("p",{children:N.jsx("strong",{children:"Confidence:"})}),N.jsx("div",{className:"confidence-bar-bg",children:N.jsxs("div",{className:`confidence-bar-fill ${l.confidence>=85?"confidence-fill-high":l.confidence>=60?"confidence-fill-medium":"confidence-fill-low"}`,style:{width:`${l.confidence}%`},children:[l.confidence,"%"]})})]})]})]})]})}function xQ(){const[n,e]=q.useState({name:"Divyansh Gaur",email:"divyan223344@gmail.com",age:"20",gender:"Male"}),[t,i]=q.useState(!1),s=h=>{e({...n,[h.target.name]:h.target.value})},o=()=>{t&&!window.confirm("Discard changes?")||i(!t)},l=h=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h),u=()=>{if(!n.name.trim()){window.alert("Name cannot be empty.");return}if(!l(n.email)){window.alert("Please enter a valid email.");return}if(!n.age||isNaN(n.age)||n.age<=0){window.alert("Please enter a valid age.");return}i(!1),window.alert("Profile updated!")};return N.jsxs("div",{style:{padding:"2rem",maxWidth:"600px",margin:"auto"},children:[N.jsx("h2",{style:{fontSize:"24px",marginBottom:"1rem"},children:"My Profile"}),N.jsxs("div",{style:kd,children:[N.jsx("label",{htmlFor:"name",style:Dd,children:"Name:"}),t?N.jsx("input",{id:"name",type:"text",name:"name",value:n.name,onChange:s,style:Vd,placeholder:"Enter your name"}):N.jsx("span",{style:Md,children:n.name})]}),N.jsxs("div",{style:kd,children:[N.jsx("label",{htmlFor:"email",style:Dd,children:"Email:"}),t?N.jsx("input",{id:"email",type:"email",name:"email",value:n.email,onChange:s,style:Vd,placeholder:"Enter your email"}):N.jsx("span",{style:Md,children:n.email})]}),N.jsxs("div",{style:kd,children:[N.jsx("label",{htmlFor:"age",style:Dd,children:"Age:"}),t?N.jsx("input",{id:"age",type:"number",name:"age",value:n.age,onChange:s,style:Vd,placeholder:"Enter your age",min:"0"}):N.jsx("span",{style:Md,children:n.age})]}),N.jsxs("div",{style:kd,children:[N.jsx("label",{htmlFor:"gender",style:Dd,children:"Gender:"}),t?N.jsxs("select",{id:"gender",name:"gender",value:n.gender,onChange:s,style:Vd,children:[N.jsx("option",{children:"Male"}),N.jsx("option",{children:"Female"}),N.jsx("option",{children:"Other"})]}):N.jsx("span",{style:Md,children:n.gender})]}),N.jsx("div",{style:{marginTop:"1rem"},children:t?N.jsxs(N.Fragment,{children:[N.jsx("button",{type:"button",onClick:u,style:RQ,children:"Save"}),N.jsx("button",{type:"button",onClick:o,style:CQ,children:"Cancel"})]}):N.jsx("button",{type:"button",onClick:o,style:AQ,children:"Edit Profile"})})]})}const kd={marginBottom:"1rem"},Dd={display:"block",fontWeight:"bold",marginBottom:"4px"},Md={fontSize:"16px",display:"block"},Vd={width:"100%",padding:"8px",fontSize:"16px"},AQ={padding:"8px 16px",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},RQ={padding:"8px 16px",backgroundColor:"#388e3c",color:"white",border:"none",borderRadius:"4px",marginRight:"8px",cursor:"pointer"},CQ={padding:"8px 16px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},v2=["Your health is your wealth — take good care!","Every step towards health is a step towards happiness.","The best project you will ever work on is YOU.","Healing takes time, and asking for help is a courageous step."];function PQ({onLogout:n}){const e=Ps(),t=mh(),[i,s]=q.useState(e.pathname),[o,l]=q.useState("fade-in"),[u,h]=q.useState(!0),[d,g]=q.useState(""),[_,v]=q.useState(!1);q.useEffect(()=>{g(v2[Math.floor(Math.random()*v2.length)])},[]),q.useEffect(()=>{if(e.pathname!==i){l("fade-out");const A=setTimeout(()=>{s(e.pathname),l("fade-in")},400);return()=>clearTimeout(A)}},[e.pathname,i]),q.useEffect(()=>{["/patient-dashboard","/patient-dashboard/view-reports","/patient-dashboard/patient-profile"].includes(i)||t("/patient-dashboard")},[i,t]);const b=()=>{document.querySelector(".dashboard-greeting").classList.add("fold-up"),setTimeout(()=>{h(!1),v(!0)},700)},S=()=>{switch(i){case"/patient-dashboard":return N.jsx(TQ,{});case"/patient-dashboard/view-reports":return N.jsx(OR,{});case"/patient-dashboard/patient-profile":return N.jsx(xQ,{});default:return null}};return N.jsxs("div",{className:"dashboard patient-dashboard",children:[N.jsx(OC,{}),N.jsx("button",{onClick:n,className:"logout-button-topright",children:"Logout"}),u?N.jsxs("div",{className:"dashboard-greeting patient-greeting",children:[N.jsx("h1",{className:"greeting-text",children:"👋 Welcome, Dear Patient!"}),N.jsxs("p",{className:"quote-text",children:['"',d,'"']}),N.jsx("button",{className:"enter-button",onClick:b,children:"➜"})]}):N.jsxs("div",{className:"dashboard-content",children:[N.jsx("aside",{className:`sidebar ${_?"sidebar-fade-in":"sidebar-hidden"}`,children:N.jsxs("ul",{children:[N.jsx("li",{children:N.jsx(va,{to:"/patient-dashboard",className:({isActive:A})=>A?"tab active":"tab",end:!0,children:"Upload Scan"})}),N.jsx("li",{children:N.jsx(va,{to:"/patient-dashboard/view-reports",className:({isActive:A})=>A?"tab active":"tab",children:"View Reports"})}),N.jsx("li",{children:N.jsx(va,{to:"/patient-dashboard/patient-profile",className:({isActive:A})=>A?"tab active":"tab",children:"My Profile"})})]})}),N.jsx("main",{className:`main-panel ${o}`,children:S()})]}),!u&&N.jsx(kC,{})]})}function IQ(){const[n,e]=q.useState(null),[t,i]=q.useState(null),[s,o]=q.useState(!0);q.useEffect(()=>{const u=Sk(wp,async h=>{if(h){e(h);const d=await sR(k_(D_,"users",h.uid));d.exists()?i(d.data().role):i(null)}else e(null),i(null);o(!1)});return()=>u()},[]);const l=async()=>{await Ek(wp),e(null),i(null)};return s?N.jsx("div",{children:"Loading..."}):N.jsxs(rO,{children:[N.jsx(Lu,{path:"/",element:N.jsx(sV,{})}),N.jsx(Lu,{path:"/doctor-dashboard/*",element:n&&t==="doctor"?N.jsx(EQ,{onLogout:l}):N.jsx(vy,{to:"/"})}),N.jsx(Lu,{path:"/patient-dashboard/*",element:n&&t==="patient"?N.jsx(PQ,{onLogout:l}):N.jsx(vy,{to:"/"})}),N.jsx(Lu,{path:"*",element:N.jsx(vy,{to:"/"})})]})}pI.createRoot(document.getElementById("root")).render(N.jsx(PO,{children:N.jsx(IQ,{})}));
